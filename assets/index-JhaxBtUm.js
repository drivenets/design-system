import{r as o}from"./iframe-B6apWLoP.js";import{d as xe,o as Pe,s as ve,f as Ae,c as Re,h as Ce,l as Se,b as V,a as Ee}from"./floating-ui.dom-CGTwz-PJ.js";import{r as $e}from"./index-DYDfZAcu.js";import{P as L,c as Oe,u as G}from"./index-BjfnoL9D.js";import{j as P}from"./jsx-runtime-u17CrQMm.js";import{u as K}from"./index-1BdbpXuP.js";import{u as _e}from"./index-CI4fyOWH.js";import{u as be}from"./index-DvWMx70p.js";var Me=typeof document<"u",je=function(){},F=Me?o.useLayoutEffect:je;function I(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!I(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const a=s[n];if(!(a==="_owner"&&e.$$typeof)&&!I(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function Q(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function J(e,t){const r=Q(e);return Math.round(t*r)/r}function X(e){const t=o.useRef(e);return F(()=>{t.current=e}),t}function Ne(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:l}={},transform:v=!0,whileElementsMounted:c,open:f}=e,[u,h]=o.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[A,O]=o.useState(n);I(A,n)||O(n);const[g,p]=o.useState(null),[Y,b]=o.useState(null),k=o.useCallback(i=>{i!==y.current&&(y.current=i,p(i))},[]),H=o.useCallback(i=>{i!==R.current&&(R.current=i,b(i))},[]),d=a||g,w=l||Y,y=o.useRef(null),R=o.useRef(null),S=o.useRef(u),B=c!=null,M=X(c),_=X(s),W=X(f),m=o.useCallback(()=>{if(!y.current||!R.current)return;const i={placement:t,strategy:r,middleware:A};_.current&&(i.platform=_.current),xe(y.current,R.current,i).then($=>{const C={...$,isPositioned:W.current!==!1};j.current&&!I(S.current,C)&&(S.current=C,$e.flushSync(()=>{h(C)}))})},[A,t,r,_,W]);F(()=>{f===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,h(i=>({...i,isPositioned:!1})))},[f]);const j=o.useRef(!1);F(()=>(j.current=!0,()=>{j.current=!1}),[]),F(()=>{if(d&&(y.current=d),w&&(R.current=w),d&&w){if(M.current)return M.current(d,w,m);m()}},[d,w,m,M,B]);const N=o.useMemo(()=>({reference:y,floating:R,setReference:k,setFloating:H}),[k,H]),x=o.useMemo(()=>({reference:d,floating:w}),[d,w]),E=o.useMemo(()=>{const i={position:r,left:0,top:0};if(!x.floating)return i;const $=J(x.floating,u.x),C=J(x.floating,u.y);return v?{...i,transform:"translate("+$+"px, "+C+"px)",...Q(x.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:$,top:C}},[r,v,x.floating,u.x,u.y]);return o.useMemo(()=>({...u,update:m,refs:N,elements:x,floatingStyles:E}),[u,m,N,x,E])}const De=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?V({element:n.current,padding:s}).fn(r):{}:n?V({element:n,padding:s}).fn(r):{}}}},ke=(e,t)=>({...Pe(e),options:[e,t]}),He=(e,t)=>({...ve(e),options:[e,t]}),We=(e,t)=>({...Se(e),options:[e,t]}),ze=(e,t)=>({...Ae(e),options:[e,t]}),Fe=(e,t)=>({...Re(e),options:[e,t]}),Ie=(e,t)=>({...Ce(e),options:[e,t]}),Ye=(e,t)=>({...De(e),options:[e,t]});var Be="Arrow",ee=o.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...a}=e;return P.jsx(L.svg,{...a,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:P.jsx("polygon",{points:"0,0 30,0 15,10"})})});ee.displayName=Be;var Xe=ee,T="Popper",[te,ot]=Oe(T),[Le,re]=te(T),ne=e=>{const{__scopePopper:t,children:r}=e,[n,s]=o.useState(null);return P.jsx(Le,{scope:t,anchor:n,onAnchorChange:s,children:r})};ne.displayName=T;var oe="PopperAnchor",se=o.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,a=re(oe,r),l=o.useRef(null),v=K(t,l),c=o.useRef(null);return o.useEffect(()=>{const f=c.current;c.current=n?.current||l.current,f!==c.current&&a.onAnchorChange(c.current)}),n?null:P.jsx(L.div,{...s,ref:v})});se.displayName=oe;var Z="PopperContent",[Te,Ze]=te(Z),ie=o.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:a="center",alignOffset:l=0,arrowPadding:v=0,avoidCollisions:c=!0,collisionBoundary:f=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:A=!1,updatePositionStrategy:O="optimized",onPlaced:g,...p}=e,Y=re(Z,r),[b,k]=o.useState(null),H=K(t,D=>k(D)),[d,w]=o.useState(null),y=be(d),R=y?.width??0,S=y?.height??0,B=n+(a!=="center"?"-"+a:""),M=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},_=Array.isArray(f)?f:[f],W=_.length>0,m={padding:M,boundary:_.filter(Ue),altBoundary:W},{refs:j,floatingStyles:N,placement:x,isPositioned:E,middlewareData:i}=Ne({strategy:"fixed",placement:B,whileElementsMounted:(...D)=>Ee(...D,{animationFrame:O==="always"}),elements:{reference:Y.anchor},middleware:[ke({mainAxis:s+S,alignmentAxis:l}),c&&He({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?We():void 0,...m}),c&&ze({...m}),Fe({...m,apply:({elements:D,rects:U,availableWidth:he,availableHeight:ge})=>{const{width:we,height:ye}=U.reference,z=D.floating.style;z.setProperty("--radix-popper-available-width",`${he}px`),z.setProperty("--radix-popper-available-height",`${ge}px`),z.setProperty("--radix-popper-anchor-width",`${we}px`),z.setProperty("--radix-popper-anchor-height",`${ye}px`)}}),d&&Ye({element:d,padding:v}),Ve({arrowWidth:R,arrowHeight:S}),A&&Ie({strategy:"referenceHidden",...m})]}),[$,C]=le(x),q=_e(g);G(()=>{E&&q?.()},[E,q]);const fe=i.arrow?.x,ue=i.arrow?.y,de=i.arrow?.centerOffset!==0,[pe,me]=o.useState();return G(()=>{b&&me(window.getComputedStyle(b).zIndex)},[b]),P.jsx("div",{ref:j.setFloating,"data-radix-popper-content-wrapper":"",style:{...N,transform:E?N.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:pe,"--radix-popper-transform-origin":[i.transformOrigin?.x,i.transformOrigin?.y].join(" "),...i.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:P.jsx(Te,{scope:r,placedSide:$,onArrowChange:w,arrowX:fe,arrowY:ue,shouldHideArrow:de,children:P.jsx(L.div,{"data-side":$,"data-align":C,...p,ref:H,style:{...p.style,animation:E?void 0:"none"}})})})});ie.displayName=Z;var ae="PopperArrow",qe={top:"bottom",right:"left",bottom:"top",left:"right"},ce=o.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,a=Ze(ae,n),l=qe[a.placedSide];return P.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:P.jsx(Xe,{...s,ref:r,style:{...s.style,display:"block"}})})});ce.displayName=ae;function Ue(e){return e!==null}var Ve=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:s}=t,l=s.arrow?.centerOffset!==0,v=l?0:e.arrowWidth,c=l?0:e.arrowHeight,[f,u]=le(r),h={start:"0%",center:"50%",end:"100%"}[u],A=(s.arrow?.x??0)+v/2,O=(s.arrow?.y??0)+c/2;let g="",p="";return f==="bottom"?(g=l?h:`${A}px`,p=`${-c}px`):f==="top"?(g=l?h:`${A}px`,p=`${n.floating.height+c}px`):f==="right"?(g=`${-c}px`,p=l?h:`${O}px`):f==="left"&&(g=`${n.floating.width+c}px`,p=l?h:`${O}px`),{data:{x:g,y:p}}}});function le(e){const[t,r="center"]=e.split("-");return[t,r]}var st=ne,it=se,at=ie,ct=ce;export{it as A,at as C,st as R,ct as a,ot as c};
