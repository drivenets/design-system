import{j as t}from"./jsx-runtime-u17CrQMm.js";import{r as u}from"./iframe-BvAHkssS.js";import{R as v,a as D,T as j,P as w,C as T}from"./index-TIa_0egq.js";import{c as _}from"./index-D5tIK9Hm.js";import{D as N}from"./ds-typography-DsQkJrIL.js";import{D as k}from"./ds-chip-q8sY6DUH.js";import{D as I}from"./ds-checkbox-C0BdJHuy.js";import{D as q}from"./ds-button-BhxzivWK.js";import{D as A}from"./ds-icon-DnWVdJ1Z.js";const F="_container_1bmfk_1",S="_chipsWrapper_1bmfk_11",R="_hidden_1bmfk_20",O="_label_1bmfk_26",W="_expandChip_1bmfk_31",E="_dialog_1bmfk_35",$="_dialogContent_1bmfk_49",z="_itemCheckbox_1bmfk_55",i={container:F,chipsWrapper:S,hidden:R,label:O,expandChip:W,dialog:E,dialogContent:$,itemCheckbox:z},B=({chipsWrapperRef:n,totalFilters:m})=>{const[f,b]=u.useState(m);return u.useLayoutEffect(()=>{const h=()=>{if(!n.current)return;const r=n.current,l=Array.from(r.children);if(l.length===0)return;const c=getComputedStyle(r),g=parseFloat(c.columnGap||c.gap||"0")||8;let s,a=0,d=0;for(s=0;s<l.length;s++){const p=l[s];if(!p)continue;const o=(p.offsetWidth===r.clientWidth?0:g)+p.offsetWidth;if(d+o>=r.clientWidth){if(a++,a>=2)break;d=o}else d+=o}const x=Math.max(1,a<2?s:s-1);b(x)},y=requestAnimationFrame(()=>{h()}),C=new ResizeObserver(()=>{requestAnimationFrame(()=>{h()})});return n.current&&C.observe(n.current),()=>{cancelAnimationFrame(y),C.disconnect()}},[n,m]),f},G=({items:n,label:m="Filtered by:",onClearAll:f,onItemDelete:b,onItemSelect:h,className:y,style:C})=>{const[r,l]=u.useState(!1),c=u.useRef(null),g=u.useRef(null),s=B({chipsWrapperRef:g,totalFilters:n.length});if(n.length===0)return null;const a=n.length-s,d=a>0,x=()=>{l(!0)};let p={};if(d&&c.current){const e=c.current.getBoundingClientRect();p={position:"fixed",top:e.bottom+4,left:e.left}}return t.jsxs("div",{className:_(i.container,y),style:C,children:[m&&t.jsx(N,{variant:"body-sm-reg",className:i.label,children:m}),t.jsxs("div",{ref:g,className:i.chipsWrapper,children:[n.map((e,o)=>t.jsx(k,{label:e.label,selected:e.selected,onClick:()=>h?.(e),onDelete:()=>b?.(e),className:_({[i.hidden]:o>=s})},e.id)),d&&t.jsx(k,{ref:c,label:`+${String(a)} ${a===1?"item":"items"} show all`,onClick:x,className:i.expandChip})]}),f&&t.jsxs(q,{design:"v1.2",buttonType:"tertiary",variant:"ghost",size:"small",onClick:f,children:[t.jsx(A,{icon:"close"}),"Clear all"]}),t.jsxs(v,{open:r,onOpenChange:l,children:[t.jsx(D,{children:t.jsx(j,{})}),t.jsx(w,{children:t.jsx(T,{style:p,className:i.dialog,children:t.jsx("div",{className:i.dialogContent,children:n.filter((e,o)=>o>=s).map(e=>t.jsx("div",{className:i.itemCheckbox,children:t.jsx(I,{id:`chip-${e.id}`,checked:e.selected,onCheckedChange:()=>h?.(e),label:e.label})},e.id))})})})]})]})};G.__docgenInfo={description:"@deprecated This component is deprecated. Use `DsTagFilter` instead.\n@see {@link ../ds-tag-filter} for the replacement component.",methods:[],displayName:"DsChipGroup",props:{items:{required:!0,tsType:{name:"Array",elements:[{name:"ChipItem"}],raw:"ChipItem[]"},description:"Array of chip items to display"},label:{required:!1,tsType:{name:"string"},description:`Label text to display before the chips (e.g., "Filtered by:")
@default "Filtered by:"`,defaultValue:{value:"'Filtered by:'",computed:!1}},onClearAll:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:'Callback when "Clear all" is clicked'},onItemDelete:{required:!1,tsType:{name:"signature",type:"function",raw:"(item: ChipItem) => void",signature:{arguments:[{type:{name:"ChipItem"},name:"item"}],return:{name:"void"}}},description:"Callback when a chip is deleted/unchecked"},onItemSelect:{required:!1,tsType:{name:"signature",type:"function",raw:"(item: ChipItem) => void",signature:{arguments:[{type:{name:"ChipItem"},name:"item"}],return:{name:"void"}}},description:"Callback when a chip is selected"},className:{required:!1,tsType:{name:"string"},description:"Additional CSS class names"},style:{required:!1,tsType:{name:"CSSProperties"},description:"Additional styles to apply to the component"}}};export{G as D};
