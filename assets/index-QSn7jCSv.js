import{g as m,e as P,v as U,j as _,x as W,y as j,z as G,A as N,B as J,C as Y,D as Q,E as h,F as l,G as X,H as Z,I as x,J as z,K as O}from"./index-BaP_8QnK.js";function ee(e){return!(e.metaKey||!W()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}var te=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function ae(e,t,a){const r=a?_(a):null,u=m(r);return e=e||r instanceof u.HTMLInputElement&&!te.has(r?.type)||r instanceof u.HTMLTextAreaElement||r instanceof u.HTMLElement&&r.isContentEditable,!(e&&t==="keyboard"&&a instanceof u.KeyboardEvent&&!Reflect.has(ie,a.key))}var E=null,S=new Set,b=new Map,f=!1,w=!1,ie={Tab:!0,Escape:!0};function T(e,t){for(let a of S)a(e,t)}function V(e){f=!0,ee(e)&&(E="keyboard",T("keyboard",e))}function c(e){E="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(f=!0,T("pointer",e))}function M(e){U(e)&&(f=!0,E="virtual")}function q(e){const t=_(e);t===m(t)||t===P(t)||(!f&&!w&&(E="virtual",T("virtual",e)),f=!1,w=!1)}function B(){f=!1,w=!0}function re(e){if(typeof window>"u"||b.get(m(e)))return;const t=m(e),a=P(e);let r=t.HTMLElement.prototype.focus;function u(){E="virtual",T("virtual",null),f=!0,r.apply(this,arguments)}try{Object.defineProperty(t.HTMLElement.prototype,"focus",{configurable:!0,value:u})}catch{}a.addEventListener("keydown",V,!0),a.addEventListener("keyup",V,!0),a.addEventListener("click",M,!0),t.addEventListener("focus",q,!0),t.addEventListener("blur",B,!1),typeof t.PointerEvent<"u"?(a.addEventListener("pointerdown",c,!0),a.addEventListener("pointermove",c,!0),a.addEventListener("pointerup",c,!0)):(a.addEventListener("mousedown",c,!0),a.addEventListener("mousemove",c,!0),a.addEventListener("mouseup",c,!0)),t.addEventListener("beforeunload",()=>{ne(e)},{once:!0}),b.set(t,{focus:r})}var ne=(e,t)=>{const a=m(e),r=P(e),u=b.get(a);if(u){try{Object.defineProperty(a.HTMLElement.prototype,"focus",{configurable:!0,value:u.focus})}catch{}r.removeEventListener("keydown",V,!0),r.removeEventListener("keyup",V,!0),r.removeEventListener("click",M,!0),a.removeEventListener("focus",q,!0),a.removeEventListener("blur",B,!1),typeof a.PointerEvent<"u"?(r.removeEventListener("pointerdown",c,!0),r.removeEventListener("pointermove",c,!0),r.removeEventListener("pointerup",c,!0)):(r.removeEventListener("mousedown",c,!0),r.removeEventListener("mousemove",c,!0),r.removeEventListener("mouseup",c,!0)),b.delete(a)}};function F(){return E==="keyboard"}function oe(e={}){const{isTextInput:t,autoFocus:a,onChange:r,root:u}=e;re(u),r?.({isFocusVisible:a||F(),modality:E});const n=(d,v)=>{ae(!!t,d,v)&&r?.({isFocusVisible:F(),modality:d})};return S.add(n),()=>{S.delete(n)}}var ue=j("radio-group").parts("root","label","item","itemText","itemControl","indicator"),g=ue.build(),I=e=>e.ids?.root??`radio-group:${e.id}`,R=e=>e.ids?.label??`radio-group:${e.id}:label`,$=(e,t)=>e.ids?.item?.(t)??`radio-group:${e.id}:radio:${t}`,D=(e,t)=>e.ids?.itemHiddenInput?.(t)??`radio-group:${e.id}:radio:input:${t}`,de=(e,t)=>e.ids?.itemControl?.(t)??`radio-group:${e.id}:radio:control:${t}`,le=(e,t)=>e.ids?.itemLabel?.(t)??`radio-group:${e.id}:radio:label:${t}`,K=e=>e.ids?.indicator??`radio-group:${e.id}:indicator`,C=e=>e.getById(I(e)),se=(e,t)=>e.getById(D(e,t)),ce=e=>e.getById(K(e)),ve=e=>C(e)?.querySelector("input:not(:disabled)"),fe=e=>C(e)?.querySelector("input:not(:disabled):checked"),A=e=>{const a=`input[type=radio][data-ownedby='${CSS.escape(I(e))}']:not([disabled])`;return z(C(e),a)},Ee=(e,t)=>{if(t)return e.getById($(e,t))},ge=e=>({x:e?.offsetLeft??0,y:e?.offsetTop??0,width:e?.offsetWidth??0,height:e?.offsetHeight??0});function pe(e,t){const{context:a,send:r,computed:u,prop:n,scope:d}=e,v=u("isDisabled"),k=n("invalid"),p=n("readOnly");function y(i){return{value:i.value,invalid:!!i.invalid||!!k,disabled:!!i.disabled||v,checked:a.get("value")===i.value,focused:a.get("focusedValue")===i.value,focusVisible:a.get("focusVisibleValue")===i.value,hovered:a.get("hoveredValue")===i.value,active:a.get("activeValue")===i.value}}function L(i){const o=y(i);return{"data-focus":l(o.focused),"data-focus-visible":l(o.focusVisible),"data-disabled":l(o.disabled),"data-readonly":l(p),"data-state":o.checked?"checked":"unchecked","data-hover":l(o.hovered),"data-invalid":l(o.invalid),"data-orientation":n("orientation"),"data-ssr":l(a.get("ssr"))}}const H=()=>{(fe(d)??ve(d))?.focus()};return{focus:H,value:a.get("value"),setValue(i){r({type:"SET_VALUE",value:i,isTrusted:!1})},clearValue(){r({type:"SET_VALUE",value:null,isTrusted:!1})},getRootProps(){return t.element({...g.root.attrs,role:"radiogroup",id:I(d),"aria-labelledby":R(d),"aria-required":n("required")||void 0,"aria-disabled":v||void 0,"aria-readonly":p||void 0,"data-orientation":n("orientation"),"data-disabled":l(v),"data-invalid":l(k),"data-required":l(n("required")),"aria-orientation":n("orientation"),dir:n("dir"),style:{position:"relative"}})},getLabelProps(){return t.element({...g.label.attrs,dir:n("dir"),"data-orientation":n("orientation"),"data-disabled":l(v),"data-invalid":l(k),"data-required":l(n("required")),id:R(d),onClick:H})},getItemState:y,getItemProps(i){const o=y(i);return t.label({...g.item.attrs,dir:n("dir"),id:$(d,i.value),htmlFor:D(d,i.value),...L(i),onPointerMove(){o.disabled||o.hovered||r({type:"SET_HOVERED",value:i.value,hovered:!0})},onPointerLeave(){o.disabled||r({type:"SET_HOVERED",value:null})},onPointerDown(s){o.disabled||x(s)&&(o.focused&&s.pointerType==="mouse"&&s.preventDefault(),r({type:"SET_ACTIVE",value:i.value,active:!0}))},onPointerUp(){o.disabled||r({type:"SET_ACTIVE",value:null})},onClick(){!o.disabled&&Z()&&se(d,i.value)?.focus()}})},getItemTextProps(i){return t.element({...g.itemText.attrs,dir:n("dir"),id:le(d,i.value),...L(i)})},getItemControlProps(i){const o=y(i);return t.element({...g.itemControl.attrs,dir:n("dir"),id:de(d,i.value),"data-active":l(o.active),"aria-hidden":!0,...L(i)})},getItemHiddenInputProps(i){const o=y(i);return t.input({"data-ownedby":I(d),id:D(d,i.value),type:"radio",name:n("name")||n("id"),form:n("form"),value:i.value,required:n("required"),"aria-invalid":o.invalid||void 0,onClick(s){if(p){s.preventDefault();return}s.currentTarget.checked&&r({type:"SET_VALUE",value:i.value,isTrusted:!0})},onBlur(){r({type:"SET_FOCUSED",value:null,focused:!1,focusVisible:!1})},onFocus(){const s=F();r({type:"SET_FOCUSED",value:i.value,focused:!0,focusVisible:s})},onKeyDown(s){s.defaultPrevented||s.key===" "&&r({type:"SET_ACTIVE",value:i.value,active:!0})},onKeyUp(s){s.defaultPrevented||s.key===" "&&r({type:"SET_ACTIVE",value:null})},disabled:o.disabled||p,defaultChecked:o.checked,style:X})},getIndicatorProps(){const i=a.get("indicatorRect"),o=i==null||i.width===0&&i.height===0&&i.x===0&&i.y===0;return t.element({id:K(d),...g.indicator.attrs,dir:n("dir"),hidden:a.get("value")==null||o,"data-disabled":l(v),"data-orientation":n("orientation"),style:{"--transition-property":"left, top, width, height","--left":h(i?.x),"--top":h(i?.y),"--width":h(i?.width),"--height":h(i?.height),position:"absolute",willChange:"var(--transition-property)",transitionProperty:"var(--transition-property)",transitionDuration:"var(--transition-duration, 150ms)",transitionTimingFunction:"var(--transition-timing-function)",[n("orientation")==="horizontal"?"left":"top"]:n("orientation")==="horizontal"?"var(--left)":"var(--top)"}})}}}var{not:ye}=N(),he=G({props({props:e}){return{orientation:"vertical",...e}},initialState(){return"idle"},context({prop:e,bindable:t}){return{value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),onChange(a){e("onValueChange")?.({value:a})}})),activeValue:t(()=>({defaultValue:null})),focusedValue:t(()=>({defaultValue:null})),focusVisibleValue:t(()=>({defaultValue:null})),hoveredValue:t(()=>({defaultValue:null})),indicatorRect:t(()=>({defaultValue:null})),fieldsetDisabled:t(()=>({defaultValue:!1})),ssr:t(()=>({defaultValue:!0}))}},refs(){return{indicatorCleanup:null,focusVisibleValue:null}},computed:{isDisabled:({prop:e,context:t})=>!!e("disabled")||t.get("fieldsetDisabled")},entry:["syncIndicatorRect","syncSsr"],exit:["cleanupObserver"],effects:["trackFormControlState","trackFocusVisible"],watch({track:e,action:t,context:a}){e([()=>a.get("value")],()=>{t(["syncIndicatorRect","syncInputElements"])})},on:{SET_VALUE:[{guard:ye("isTrusted"),actions:["setValue","dispatchChangeEvent"]},{actions:["setValue"]}],SET_HOVERED:{actions:["setHovered"]},SET_ACTIVE:{actions:["setActive"]},SET_FOCUSED:{actions:["setFocused"]}},states:{idle:{}},implementations:{guards:{isTrusted:({event:e})=>!!e.isTrusted},effects:{trackFormControlState({context:e,scope:t}){return Q(C(t),{onFieldsetDisabledChange(a){e.set("fieldsetDisabled",a)},onFormReset(){e.set("value",e.initial("value"))}})},trackFocusVisible({scope:e}){return oe({root:e.getRootNode?.()})}},actions:{setValue({context:e,event:t}){e.set("value",t.value)},setHovered({context:e,event:t}){e.set("hoveredValue",t.value)},setActive({context:e,event:t}){e.set("activeValue",t.value)},setFocused({context:e,event:t}){e.set("focusedValue",t.value);const a=t.value!=null&&t.focusVisible?t.value:null;e.set("focusVisibleValue",a)},syncInputElements({context:e,scope:t}){A(t).forEach(r=>{r.checked=r.value===e.get("value")})},cleanupObserver({refs:e}){e.get("indicatorCleanup")?.()},syncSsr({context:e}){e.set("ssr",!1)},syncIndicatorRect({context:e,scope:t,refs:a}){if(a.get("indicatorCleanup")?.(),!ce(t))return;const r=e.get("value"),u=Ee(t,r);if(r==null||!u){e.set("indicatorRect",null);return}const n=()=>{e.set("indicatorRect",ge(u))};n();const d=Y.observe(u,n);a.set("indicatorCleanup",d)},dispatchChangeEvent({context:e,scope:t}){A(t).forEach(r=>{const u=r.value===e.get("value");u!==r.checked&&J(r,{checked:u})})}}}});O()(["dir","disabled","form","getRootNode","id","ids","invalid","name","onValueChange","orientation","readOnly","required","value","defaultValue"]);O()(["value","disabled","invalid"]);export{ue as a,pe as c,he as m};
