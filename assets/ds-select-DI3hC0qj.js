import{j as o}from"./jsx-runtime-u17CrQMm.js";import{r as f}from"./iframe-foGZe_Iu.js";import{c as Ve}from"./index-CMjPrJCW.js";import{D as M}from"./ds-icon-BH94ZUSb.js";import{D as Ne}from"./ds-checkbox-C67AlrqL.js";import{D as Ae}from"./ds-button-W10qxW8_.js";import{D as te}from"./ds-chip-CuC2KHuv.js";import{c as ee,a as T,d as Le,b as Ge,u as ke}from"./use-locale-context-D3iUicfk.js";import{D as le}from"./ds-typography-DkXTvhMW.js";import{D as Fe}from"./ds-text-input-x1X5jHFi.js";import{L as de,c as _e}from"./list-collection-D7qC9ruX.js";import{Q as y,I as xe,f as ie,aG as De,Y as ne,aH as He,aI as z,v as we,p as g,a9 as je,aJ as Me,aK as Ue,aL as qe,x as We,k as Ke,aM as $e,aN as se,r as $,aO as Be,a6 as Ye,t as ze,A as Je,aP as Qe,y as W,w as Xe,R as Ze,V as et}from"./index-YmNYY-wR.js";import{g as tt,a as ae}from"./index-CBZp0MCn.js";import{t as lt}from"./index-BEYRoaJb.js";import{s as it,t as nt,g as st}from"./index-uEnwyB5F.js";import{u as ue}from"./use-field-context-aPJPp5Xn.js";import{s as at,P as ot}from"./portal-CNSYYyYC.js";import{c as ge}from"./create-split-props-u5h9OPvL.js";import{a as me,u as rt,P as ct}from"./use-presence-Bz0McZqC.js";const[dt,C]=ee({name:"SelectContext",hookName:"useSelectContext",providerName:"<SelectProvider />"}),he=f.forwardRef((e,t)=>{const l=C(),i=y(l.getClearTriggerProps(),e);return o.jsx(T.button,{...i,ref:t})});he.displayName="SelectClearTrigger";const pe=f.forwardRef((e,t)=>{const l=C(),i=me(),n=y(l.getContentProps(),i.getPresenceProps(),e);return i.unmounted?null:o.jsx(T.div,{...n,ref:Le(i.ref,t)})});pe.displayName="SelectContent";const Ie=f.forwardRef((e,t)=>{const l=C(),i=y(l.getControlProps(),e);return o.jsx(T.div,{...i,ref:t})});Ie.displayName="SelectControl";const ve=f.forwardRef((e,t)=>{const l=C(),i=y(l.getHiddenSelectProps(),e),n=l.value.length===0,r=ue();return o.jsxs(T.select,{"aria-describedby":r?.ariaDescribedby,...i,ref:t,children:[n&&o.jsx("option",{value:""}),l.collection.items.map((d,a)=>o.jsx("option",{value:l.collection.getItemValue(d)??"",disabled:l.collection.getItemDisabled(d),children:l.collection.stringifyItem(d)},a))]})});ve.displayName="SelectHiddenSelect";const fe=f.forwardRef((e,t)=>{const l=C(),i=y(l.getIndicatorProps(),e);return o.jsx(T.div,{...i,ref:t})});fe.displayName="SelectIndicator";const[ut]=ee({name:"SelectItemContext",hookName:"useSelectItemContext",providerName:"<SelectItemProvider />"}),[gt,mt]=ee({name:"SelectItemPropsContext",hookName:"useSelectItemPropsContext",providerName:"<SelectItemPropsProvider />"}),ht=ge(),Ee=f.forwardRef((e,t)=>{const[l,i]=ht(e,["item","persistFocus"]),n=C(),r=y(n.getItemProps(l),i),d=n.getItemState(l);return o.jsx(gt,{value:l,children:o.jsx(ut,{value:d,children:o.jsx(T.div,{...r,ref:t})})})});Ee.displayName="SelectItem";const ye=f.forwardRef((e,t)=>{const l=C(),i=mt(),n=y(l.getItemTextProps(i),e);return o.jsx(T.span,{...n,ref:t})});ye.displayName="SelectItemText";const Te=f.forwardRef((e,t)=>{const l=C(),i=y(l.getPositionerProps(),e);return me().unmounted?null:o.jsx(T.div,{...i,ref:t})});Te.displayName="SelectPositioner";var pt=We("select").parts("label","positioner","trigger","indicator","clearTrigger","item","itemText","itemIndicator","itemGroup","itemGroupLabel","list","content","root","control","valueText"),v=pt.build(),Ce=e=>new de(e);Ce.empty=()=>new de({items:[]});var It=e=>e.ids?.root??`select:${e.id}`,J=e=>e.ids?.content??`select:${e.id}:content`,Q=e=>e.ids?.trigger??`select:${e.id}:trigger`,Se=e=>e.ids?.clearTrigger??`select:${e.id}:clear-trigger`,U=e=>e.ids?.label??`select:${e.id}:label`,vt=e=>e.ids?.control??`select:${e.id}:control`,X=(e,t)=>e.ids?.item?.(t)??`select:${e.id}:option:${t}`,Z=e=>e.ids?.hiddenSelect??`select:${e.id}:select`,Oe=e=>e.ids?.positioner??`select:${e.id}:positioner`,ft=(e,t)=>e.ids?.itemGroup?.(t)??`select:${e.id}:optgroup:${t}`,oe=(e,t)=>e.ids?.itemGroupLabel?.(t)??`select:${e.id}:optgroup-label:${t}`,B=e=>e.getById(Z(e)),D=e=>e.getById(J(e)),L=e=>e.getById(Q(e)),Et=e=>e.getById(Se(e)),re=e=>e.getById(Oe(e)),Y=(e,t)=>t==null?null:e.getById(X(e,t));function yt(e,t){const{context:l,prop:i,scope:n,state:r,computed:d,send:a}=e,m=i("disabled")||l.get("fieldsetDisabled"),I=!!i("invalid"),P=!!i("required"),h=!!i("readOnly"),S=i("composite"),V=i("collection"),O=r.hasTag("open"),G=r.matches("focused"),R=l.get("highlightedValue"),w=l.get("highlightedItem"),K=l.get("selectedItems"),_=l.get("currentPlacement"),N=d("isTypingAhead"),u=d("isInteractive"),k=R?X(n,R):void 0;function F(s){const c=V.getItemDisabled(s.item),p=V.getItemValue(s.item);return Me(p,()=>`[zag-js] No value found for item ${JSON.stringify(s.item)}`),{value:p,disabled:!!(m||c),highlighted:R===p,selected:l.get("value").includes(p)}}const j=tt({...i("positioning"),placement:_});return{open:O,focused:G,empty:l.get("value").length===0,highlightedItem:w,highlightedValue:R,selectedItems:K,hasSelectedItems:d("hasSelectedItems"),value:l.get("value"),valueAsString:d("valueAsString"),collection:V,multiple:!!i("multiple"),disabled:!!m,reposition(s={}){a({type:"POSITIONING.SET",options:s})},focus(){L(n)?.focus({preventScroll:!0})},setOpen(s){r.hasTag("open")!==s&&a({type:s?"OPEN":"CLOSE"})},selectValue(s){a({type:"ITEM.SELECT",value:s})},setValue(s){a({type:"VALUE.SET",value:s})},selectAll(){a({type:"VALUE.SET",value:V.getValues()})},setHighlightValue(s){a({type:"HIGHLIGHTED_VALUE.SET",value:s})},clearHighlightValue(){a({type:"HIGHLIGHTED_VALUE.CLEAR"})},clearValue(s){a(s?{type:"ITEM.CLEAR",value:s}:{type:"VALUE.CLEAR"})},getItemState:F,getRootProps(){return t.element({...v.root.attrs,dir:i("dir"),id:It(n),"data-invalid":g(I),"data-readonly":g(h)})},getLabelProps(){return t.label({dir:i("dir"),id:U(n),...v.label.attrs,"data-disabled":g(m),"data-invalid":g(I),"data-readonly":g(h),"data-required":g(P),htmlFor:Z(n),onClick(s){s.defaultPrevented||m||L(n)?.focus({preventScroll:!0})}})},getControlProps(){return t.element({...v.control.attrs,dir:i("dir"),id:vt(n),"data-state":O?"open":"closed","data-focus":g(G),"data-disabled":g(m),"data-invalid":g(I)})},getValueTextProps(){return t.element({...v.valueText.attrs,dir:i("dir"),"data-disabled":g(m),"data-invalid":g(I),"data-focus":g(G)})},getTriggerProps(){return t.button({id:Q(n),disabled:m,dir:i("dir"),type:"button",role:"combobox","aria-controls":J(n),"aria-expanded":O,"aria-haspopup":"listbox","data-state":O?"open":"closed","aria-invalid":I,"aria-required":P,"aria-labelledby":U(n),...v.trigger.attrs,"data-disabled":g(m),"data-invalid":g(I),"data-readonly":g(h),"data-placement":_,"data-placeholder-shown":g(!d("hasSelectedItems")),onClick(s){u&&(s.defaultPrevented||a({type:"TRIGGER.CLICK"}))},onFocus(){a({type:"TRIGGER.FOCUS"})},onBlur(){a({type:"TRIGGER.BLUR"})},onKeyDown(s){if(s.defaultPrevented||!u)return;const p={ArrowUp(){a({type:"TRIGGER.ARROW_UP"})},ArrowDown(b){a({type:b.altKey?"OPEN":"TRIGGER.ARROW_DOWN"})},ArrowLeft(){a({type:"TRIGGER.ARROW_LEFT"})},ArrowRight(){a({type:"TRIGGER.ARROW_RIGHT"})},Home(){a({type:"TRIGGER.HOME"})},End(){a({type:"TRIGGER.END"})},Enter(){a({type:"TRIGGER.ENTER"})},Space(b){a(N?{type:"TRIGGER.TYPEAHEAD",key:b.key}:{type:"TRIGGER.ENTER"})}}[ne(s,{dir:i("dir"),orientation:"vertical"})];if(p){p(s),s.preventDefault();return}z.isValidEvent(s)&&(a({type:"TRIGGER.TYPEAHEAD",key:s.key}),s.preventDefault())}})},getIndicatorProps(){return t.element({...v.indicator.attrs,dir:i("dir"),"aria-hidden":!0,"data-state":O?"open":"closed","data-disabled":g(m),"data-invalid":g(I),"data-readonly":g(h)})},getItemProps(s){const c=F(s);return t.element({id:X(n,c.value),role:"option",...v.item.attrs,dir:i("dir"),"data-value":c.value,"aria-selected":c.selected,"data-state":c.selected?"checked":"unchecked","data-highlighted":g(c.highlighted),"data-disabled":g(c.disabled),"aria-disabled":je(c.disabled),onPointerMove(p){c.disabled||p.pointerType!=="mouse"||c.value!==R&&a({type:"ITEM.POINTER_MOVE",value:c.value})},onClick(p){p.defaultPrevented||c.disabled||a({type:"ITEM.CLICK",src:"pointerup",value:c.value})},onPointerLeave(p){c.disabled||s.persistFocus||p.pointerType!=="mouse"||!e.event.previous()?.type.includes("POINTER")||a({type:"ITEM.POINTER_LEAVE"})}})},getItemTextProps(s){const c=F(s);return t.element({...v.itemText.attrs,"data-state":c.selected?"checked":"unchecked","data-disabled":g(c.disabled),"data-highlighted":g(c.highlighted)})},getItemIndicatorProps(s){const c=F(s);return t.element({"aria-hidden":!0,...v.itemIndicator.attrs,"data-state":c.selected?"checked":"unchecked",hidden:!c.selected})},getItemGroupLabelProps(s){const{htmlFor:c}=s;return t.element({...v.itemGroupLabel.attrs,id:oe(n,c),dir:i("dir"),role:"presentation"})},getItemGroupProps(s){const{id:c}=s;return t.element({...v.itemGroup.attrs,"data-disabled":g(m),id:ft(n,c),"aria-labelledby":oe(n,c),role:"group",dir:i("dir")})},getClearTriggerProps(){return t.button({...v.clearTrigger.attrs,id:Se(n),type:"button","aria-label":"Clear value","data-invalid":g(I),disabled:m,hidden:!d("hasSelectedItems"),dir:i("dir"),onClick(s){s.defaultPrevented||a({type:"CLEAR.CLICK"})}})},getHiddenSelectProps(){const s=l.get("value"),c=i("multiple")?s:s?.[0],p=b=>{const x=Ue(b);qe(x)||a({type:"VALUE.SET",value:Tt(b.currentTarget)})};return t.select({name:i("name"),form:i("form"),disabled:m,multiple:i("multiple"),required:i("required"),"aria-hidden":!0,id:Z(n),defaultValue:c,style:we,tabIndex:-1,autoComplete:i("autoComplete"),onChange:p,onInput:p,onFocus(){L(n)?.focus({preventScroll:!0})},"aria-labelledby":U(n)})},getPositionerProps(){return t.element({...v.positioner.attrs,dir:i("dir"),id:Oe(n),style:j.floating})},getContentProps(){return t.element({hidden:!O,dir:i("dir"),id:J(n),role:S?"listbox":"dialog",...v.content.attrs,"data-state":O?"open":"closed","data-placement":_,"data-activedescendant":k,"aria-activedescendant":S?k:void 0,"aria-multiselectable":i("multiple")&&S?!0:void 0,"aria-labelledby":U(n),tabIndex:0,onKeyDown(s){if(!u||!xe(s.currentTarget,ie(s)))return;if(s.key==="Tab"&&!De(s)){s.preventDefault();return}const c={ArrowUp(){a({type:"CONTENT.ARROW_UP"})},ArrowDown(){a({type:"CONTENT.ARROW_DOWN"})},Home(){a({type:"CONTENT.HOME"})},End(){a({type:"CONTENT.END"})},Enter(){a({type:"ITEM.CLICK",src:"keydown.enter"})},Space(x){N?a({type:"CONTENT.TYPEAHEAD",key:x.key}):c.Enter?.(x)}},p=c[ne(s)];if(p){p(s),s.preventDefault();return}const b=ie(s);He(b)||z.isValidEvent(s)&&(a({type:"CONTENT.TYPEAHEAD",key:s.key}),s.preventDefault())}})},getListProps(){return t.element({...v.list.attrs,tabIndex:0,role:S?void 0:"listbox","aria-labelledby":Q(n),"aria-activedescendant":S?void 0:k,"aria-multiselectable":!S&&i("multiple")?!0:void 0})}}}var Tt=e=>e.multiple?Array.from(e.selectedOptions,t=>t.value):e.value?[e.value]:[],{and:H,not:A,or:Ct}=Xe(),St=Ke({props({props:e}){return{loopFocus:!1,closeOnSelect:!e.multiple,composite:!0,defaultValue:[],...e,collection:e.collection??Ce.empty(),positioning:{placement:"bottom-start",gutter:8,...e.positioning}}},context({prop:e,bindable:t}){return{value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),isEqual:Je,onChange(l){const i=e("collection").findMany(l);return e("onValueChange")?.({value:l,items:i})}})),highlightedValue:t(()=>({defaultValue:e("defaultHighlightedValue")||null,value:e("highlightedValue"),onChange(l){e("onHighlightChange")?.({highlightedValue:l,highlightedItem:e("collection").find(l),highlightedIndex:e("collection").indexOf(l)})}})),currentPlacement:t(()=>({defaultValue:void 0})),fieldsetDisabled:t(()=>({defaultValue:!1})),highlightedItem:t(()=>({defaultValue:null})),selectedItems:t(()=>{const l=e("value")??e("defaultValue")??[];return{defaultValue:e("collection").findMany(l)}})}},refs(){return{typeahead:{...z.defaultOptions}}},computed:{hasSelectedItems:({context:e})=>e.get("value").length>0,isTypingAhead:({refs:e})=>e.get("typeahead").keysSoFar!=="",isDisabled:({prop:e,context:t})=>!!e("disabled")||!!t.get("fieldsetDisabled"),isInteractive:({prop:e})=>!(e("disabled")||e("readOnly")),valueAsString:({context:e,prop:t})=>t("collection").stringifyItems(e.get("selectedItems"))},initialState({prop:e}){return e("open")||e("defaultOpen")?"open":"idle"},entry:["syncSelectElement"],watch({context:e,prop:t,track:l,action:i}){l([()=>e.get("value").toString()],()=>{i(["syncSelectedItems","syncSelectElement","dispatchChangeEvent"])}),l([()=>t("open")],()=>{i(["toggleVisibility"])}),l([()=>e.get("highlightedValue")],()=>{i(["syncHighlightedItem"])}),l([()=>t("collection").toString()],()=>{i(["syncCollection"])})},on:{"HIGHLIGHTED_VALUE.SET":{actions:["setHighlightedItem"]},"HIGHLIGHTED_VALUE.CLEAR":{actions:["clearHighlightedItem"]},"ITEM.SELECT":{actions:["selectItem"]},"ITEM.CLEAR":{actions:["clearItem"]},"VALUE.SET":{actions:["setSelectedItems"]},"VALUE.CLEAR":{actions:["clearSelectedItems"]},"CLEAR.CLICK":{actions:["clearSelectedItems","focusTriggerEl"]}},effects:["trackFormControlState"],states:{idle:{tags:["closed"],on:{"CONTROLLED.OPEN":[{guard:"isTriggerClickEvent",target:"open",actions:["setInitialFocus","highlightFirstSelectedItem"]},{target:"open",actions:["setInitialFocus"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus","highlightFirstSelectedItem"]}],"TRIGGER.FOCUS":{target:"focused"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen"]}]}},focused:{tags:["closed"],on:{"CONTROLLED.OPEN":[{guard:"isTriggerClickEvent",target:"open",actions:["setInitialFocus","highlightFirstSelectedItem"]},{guard:"isTriggerArrowUpEvent",target:"open",actions:["setInitialFocus","highlightComputedLastItem"]},{guard:Ct("isTriggerArrowDownEvent","isTriggerEnterEvent"),target:"open",actions:["setInitialFocus","highlightComputedFirstItem"]},{target:"open",actions:["setInitialFocus"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen"]}],"TRIGGER.BLUR":{target:"idle"},"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightFirstSelectedItem"]}],"TRIGGER.ENTER":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightComputedFirstItem"]}],"TRIGGER.ARROW_UP":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightComputedLastItem"]}],"TRIGGER.ARROW_DOWN":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightComputedFirstItem"]}],"TRIGGER.ARROW_LEFT":[{guard:H(A("multiple"),"hasSelectedItems"),actions:["selectPreviousItem"]},{guard:A("multiple"),actions:["selectLastItem"]}],"TRIGGER.ARROW_RIGHT":[{guard:H(A("multiple"),"hasSelectedItems"),actions:["selectNextItem"]},{guard:A("multiple"),actions:["selectFirstItem"]}],"TRIGGER.HOME":{guard:A("multiple"),actions:["selectFirstItem"]},"TRIGGER.END":{guard:A("multiple"),actions:["selectLastItem"]},"TRIGGER.TYPEAHEAD":{guard:A("multiple"),actions:["selectMatchingItem"]}}},open:{tags:["open"],exit:["scrollContentToTop"],effects:["trackDismissableElement","trackFocusVisible","computePlacement","scrollToHighlightedItem"],on:{"CONTROLLED.CLOSE":[{guard:"restoreFocus",target:"focused",actions:["focusTriggerEl","clearHighlightedItem"]},{target:"idle",actions:["clearHighlightedItem"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{guard:"restoreFocus",target:"focused",actions:["invokeOnClose","focusTriggerEl","clearHighlightedItem"]},{target:"idle",actions:["invokeOnClose","clearHighlightedItem"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","clearHighlightedItem"]}],"ITEM.CLICK":[{guard:H("closeOnSelect","isOpenControlled"),actions:["selectHighlightedItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectHighlightedItem","invokeOnClose","focusTriggerEl","clearHighlightedItem"]},{actions:["selectHighlightedItem"]}],"CONTENT.HOME":{actions:["highlightFirstItem"]},"CONTENT.END":{actions:["highlightLastItem"]},"CONTENT.ARROW_DOWN":[{guard:H("hasHighlightedItem","loop","isLastItemHighlighted"),actions:["highlightFirstItem"]},{guard:"hasHighlightedItem",actions:["highlightNextItem"]},{actions:["highlightFirstItem"]}],"CONTENT.ARROW_UP":[{guard:H("hasHighlightedItem","loop","isFirstItemHighlighted"),actions:["highlightLastItem"]},{guard:"hasHighlightedItem",actions:["highlightPreviousItem"]},{actions:["highlightLastItem"]}],"CONTENT.TYPEAHEAD":{actions:["highlightMatchingItem"]},"ITEM.POINTER_MOVE":{actions:["highlightItem"]},"ITEM.POINTER_LEAVE":{actions:["clearHighlightedItem"]},"POSITIONING.SET":{actions:["reposition"]}}}},implementations:{guards:{loop:({prop:e})=>!!e("loopFocus"),multiple:({prop:e})=>!!e("multiple"),hasSelectedItems:({computed:e})=>!!e("hasSelectedItems"),hasHighlightedItem:({context:e})=>e.get("highlightedValue")!=null,isFirstItemHighlighted:({context:e,prop:t})=>e.get("highlightedValue")===t("collection").firstValue,isLastItemHighlighted:({context:e,prop:t})=>e.get("highlightedValue")===t("collection").lastValue,closeOnSelect:({prop:e,event:t})=>!!(t.closeOnSelect??e("closeOnSelect")),restoreFocus:({event:e})=>ce(e),isOpenControlled:({prop:e})=>e("open")!==void 0,isTriggerClickEvent:({event:e})=>e.previousEvent?.type==="TRIGGER.CLICK",isTriggerEnterEvent:({event:e})=>e.previousEvent?.type==="TRIGGER.ENTER",isTriggerArrowUpEvent:({event:e})=>e.previousEvent?.type==="TRIGGER.ARROW_UP",isTriggerArrowDownEvent:({event:e})=>e.previousEvent?.type==="TRIGGER.ARROW_DOWN"},effects:{trackFocusVisible({scope:e}){return nt({root:e.getRootNode?.()})},trackFormControlState({context:e,scope:t}){return ze(B(t),{onFieldsetDisabledChange(l){e.set("fieldsetDisabled",l)},onFormReset(){const l=e.initial("value");e.set("value",l)}})},trackDismissableElement({scope:e,send:t,prop:l}){const i=()=>D(e);let n=!0;return lt(i,{type:"listbox",defer:!0,exclude:[L(e),Et(e)],onFocusOutside:l("onFocusOutside"),onPointerDownOutside:l("onPointerDownOutside"),onInteractOutside(r){l("onInteractOutside")?.(r),n=!(r.detail.focusable||r.detail.contextmenu)},onDismiss(){t({type:"CLOSE",src:"interact-outside",restoreFocus:n})}})},computePlacement({context:e,prop:t,scope:l}){const i=t("positioning");return e.set("currentPlacement",i.placement),ae(()=>L(l),()=>re(l),{defer:!0,...i,onComplete(d){e.set("currentPlacement",d.placement)}})},scrollToHighlightedItem({context:e,prop:t,scope:l}){const i=r=>{const d=e.get("highlightedValue");if(d==null||st()==="pointer")return;const m=D(l),I=t("scrollToIndexFn");if(I){const h=t("collection").indexOf(d);I?.({index:h,immediate:r,getElement:()=>Y(l,d)});return}const P=Y(l,d);Qe(P,{rootEl:m,block:"nearest"})};return $(()=>{it("virtual"),i(!0)}),Ye(()=>D(l),{defer:!0,attributes:["data-activedescendant"],callback(){i(!1)}})}},actions:{reposition({context:e,prop:t,scope:l,event:i}){const n=()=>re(l);ae(L(l),n,{...t("positioning"),...i.options,defer:!0,listeners:!1,onComplete(r){e.set("currentPlacement",r.placement)}})},toggleVisibility({send:e,prop:t,event:l}){e({type:t("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:l})},highlightPreviousItem({context:e,prop:t}){const l=e.get("highlightedValue");if(l==null)return;const i=t("collection").getPreviousValue(l,1,t("loopFocus"));i!=null&&e.set("highlightedValue",i)},highlightNextItem({context:e,prop:t}){const l=e.get("highlightedValue");if(l==null)return;const i=t("collection").getNextValue(l,1,t("loopFocus"));i!=null&&e.set("highlightedValue",i)},highlightFirstItem({context:e,prop:t}){const l=t("collection").firstValue;e.set("highlightedValue",l)},highlightLastItem({context:e,prop:t}){const l=t("collection").lastValue;e.set("highlightedValue",l)},setInitialFocus({scope:e}){$(()=>{Be({root:D(e)})?.focus({preventScroll:!0})})},focusTriggerEl({event:e,scope:t}){ce(e)&&$(()=>{L(t)?.focus({preventScroll:!0})})},selectHighlightedItem({context:e,prop:t,event:l}){let i=l.value??e.get("highlightedValue");if(i==null||!t("collection").has(i))return;t("onSelect")?.({value:i}),i=t("deselectable")&&!t("multiple")&&e.get("value").includes(i)?null:i,e.set("value",r=>i==null?[]:t("multiple")?se(r,i):[i])},highlightComputedFirstItem({context:e,prop:t,computed:l}){const i=t("collection"),n=l("hasSelectedItems")?i.sort(e.get("value"))[0]:i.firstValue;e.set("highlightedValue",n)},highlightComputedLastItem({context:e,prop:t,computed:l}){const i=t("collection"),n=l("hasSelectedItems")?i.sort(e.get("value"))[0]:i.lastValue;e.set("highlightedValue",n)},highlightFirstSelectedItem({context:e,prop:t,computed:l}){if(!l("hasSelectedItems"))return;const i=t("collection").sort(e.get("value"))[0];e.set("highlightedValue",i)},highlightItem({context:e,event:t}){e.set("highlightedValue",t.value)},highlightMatchingItem({context:e,prop:t,event:l,refs:i}){const n=t("collection").search(l.key,{state:i.get("typeahead"),currentValue:e.get("highlightedValue")});n!=null&&e.set("highlightedValue",n)},setHighlightedItem({context:e,event:t}){e.set("highlightedValue",t.value)},clearHighlightedItem({context:e}){e.set("highlightedValue",null)},selectItem({context:e,prop:t,event:l}){t("onSelect")?.({value:l.value});const n=t("deselectable")&&!t("multiple")&&e.get("value").includes(l.value)?null:l.value;e.set("value",r=>n==null?[]:t("multiple")?se(r,n):[n])},clearItem({context:e,event:t}){e.set("value",l=>l.filter(i=>i!==t.value))},setSelectedItems({context:e,event:t}){e.set("value",t.value)},clearSelectedItems({context:e}){e.set("value",[])},selectPreviousItem({context:e,prop:t}){const[l]=e.get("value"),i=t("collection").getPreviousValue(l);i&&e.set("value",[i])},selectNextItem({context:e,prop:t}){const[l]=e.get("value"),i=t("collection").getNextValue(l);i&&e.set("value",[i])},selectFirstItem({context:e,prop:t}){const l=t("collection").firstValue;l&&e.set("value",[l])},selectLastItem({context:e,prop:t}){const l=t("collection").lastValue;l&&e.set("value",[l])},selectMatchingItem({context:e,prop:t,event:l,refs:i}){const n=t("collection").search(l.key,{state:i.get("typeahead"),currentValue:e.get("value")[0]});n!=null&&e.set("value",[n])},scrollContentToTop({prop:e,scope:t}){if(e("scrollToIndexFn")){const l=e("collection").firstValue;e("scrollToIndexFn")?.({index:0,immediate:!0,getElement:()=>Y(t,l)})}else D(t)?.scrollTo(0,0)},invokeOnOpen({prop:e,context:t}){e("onOpenChange")?.({open:!0,value:t.get("value")})},invokeOnClose({prop:e,context:t}){e("onOpenChange")?.({open:!1,value:t.get("value")})},syncSelectElement({context:e,prop:t,scope:l}){const i=B(l);if(i){if(e.get("value").length===0&&!t("multiple")){i.selectedIndex=-1;return}for(const n of i.options)n.selected=e.get("value").includes(n.value)}},syncCollection({context:e,prop:t}){const l=t("collection"),i=l.find(e.get("highlightedValue"));i&&e.set("highlightedItem",i);const n=l.findMany(e.get("value"));e.set("selectedItems",n)},syncSelectedItems({context:e,prop:t}){const l=t("collection"),i=e.get("selectedItems"),r=e.get("value").map(d=>i.find(m=>l.getItemValue(m)===d)||l.find(d));e.set("selectedItems",r)},syncHighlightedItem({context:e,prop:t}){const l=t("collection"),i=e.get("highlightedValue"),n=i?l.find(i):null;e.set("highlightedItem",n)},dispatchChangeEvent({scope:e}){queueMicrotask(()=>{const t=B(e);if(!t)return;const l=e.getWin(),i=new l.Event("change",{bubbles:!0,composed:!0});t.dispatchEvent($e(i))})}}}});function ce(e){const t=e.restoreFocus??e.previousEvent?.restoreFocus;return t==null||!!t}W()(["autoComplete","closeOnSelect","collection","composite","defaultHighlightedValue","defaultOpen","defaultValue","deselectable","dir","disabled","form","getRootNode","highlightedValue","id","ids","invalid","loopFocus","multiple","name","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onSelect","onValueChange","open","positioning","readOnly","required","scrollToIndexFn","value"]);W()(["item","persistFocus"]);W()(["id"]);W()(["htmlFor"]);const Ot=e=>{const t=f.useId(),{dir:l}=Ge(),{getRootNode:i}=ke(),n=ue(),r={id:t,ids:{label:n?.ids.label,hiddenSelect:n?.ids.control},disabled:n?.disabled,readOnly:n?.readOnly,invalid:n?.invalid,required:n?.required,dir:l,getRootNode:i,...e},d=Ze(St,r);return yt(d,et)},Rt=(e,t)=>{const[l,i]=at(e),[{value:n},r]=ge()(i,["value"]),d=rt(y({present:n.open},l)),a=y(n.getRootProps(),r);return o.jsx(dt,{value:n,children:o.jsx(ct,{value:d,children:o.jsx(T.div,{...a,ref:t})})})},bt=f.forwardRef(Rt),Re=f.forwardRef((e,t)=>{const l=C(),i=y(l.getTriggerProps(),e);return o.jsx(T.button,{...i,ref:t})});Re.displayName="SelectTrigger";const be=f.forwardRef((e,t)=>{const{children:l,placeholder:i,...n}=e,r=C(),d=y(r.getValueTextProps(),n);return o.jsx(T.span,{...d,ref:t,children:l||r.valueAsString||i})});be.displayName="SelectValueText";const Pt="_control_zayfb_41",Vt="_triggerIcon_zayfb_54",Nt="_clearIcon_zayfb_77",At="_small_zayfb_84",Lt="_trigger_zayfb_54",Gt="_content_zayfb_129",kt="_searchInput_zayfb_177",Ft="_viewport_zayfb_221",_t="_item_zayfb_81",xt="_itemIcon_zayfb_245",Dt="_valueText_zayfb_249",Ht="_multiSelectItemsContainer_zayfb_259",E={control:Pt,triggerIcon:Vt,clearIcon:Nt,small:At,trigger:Lt,content:Gt,searchInput:kt,viewport:Ft,item:_t,itemIcon:xt,valueText:Dt,multiSelectItemsContainer:Ht};function Pe({showAll:e,onShowAll:t,onValueChange:l,count:i}){const{collection:n,value:r}=C();if(!r.length)return null;const d=e?r:r.slice(0,i);return o.jsxs("div",{className:E.multiSelectItemsContainer,children:[d.map(a=>{const m=n.find(a);if(!m)return null;const I=()=>{const P=r.filter(h=>h!==m.value);l?.(P)};return o.jsx(te,{label:m.label,onDelete:I},a)}),!e&&r.length>i&&o.jsx(te,{label:`+${String(r.length-i)}`,onClick:t,size:"small"}),o.jsx(Ae,{design:"v1.2",buttonType:"tertiary",variant:"ghost",size:"small",onClick:()=>l?.([]),children:"Clear All"})]})}Pe.__docgenInfo={description:"",methods:[],displayName:"SelectItemsChips",props:{showAll:{required:!0,tsType:{name:"boolean"},description:""},onValueChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: SelectOptionValue[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"string"}],raw:"SelectOptionValue[]"},name:"value"}],return:{name:"void"}}},description:""},onShowAll:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},count:{required:!0,tsType:{name:"number"},description:""}}};const wt=13,q="__INTERNAL_SELECT_ALL_VALUE__",jt={label:"All",value:q},Mt=({id:e,options:t,value:l,style:i,size:n,clearable:r,onClear:d,onBlur:a,className:m,placeholder:I="Click to select a value",disabled:P,...h})=>{const[S,V]=f.useState(""),[O,G]=f.useState(!1),R=h.multiple?[jt,...t]:t,w=_e({items:R,itemToValue:u=>u.value}),K=R.filter(u=>u.label.toLowerCase().includes(S.toLowerCase())),_=Array.isArray(l)?l:[l].filter(u=>!!u),N=Ot({collection:w,disabled:P,multiple:h.multiple,value:_,ids:{trigger:e},onOpenChange:()=>{V(""),G(!1)},onValueChange:u=>{if(!h.multiple){h.onValueChange?.(u.value[0]??"");return}if(u.value.includes(q)){const s=N.selectedItems.length===t.length?[]:t.map(c=>c.value);h.onValueChange?.(s);return}const F=u.value.filter(j=>j!==q);h.onValueChange?.(F)}});return o.jsxs(bt,{value:N,lazyMount:!0,children:[o.jsxs(Ie,{className:Ve(E.control,n==="small"&&E.small,m),style:i,onBlur:a,onKeyDown:u=>{r&&(N.open||(u.key==="Backspace"||u.key==="Delete")&&(h.multiple?h.onValueChange?.([]):h.onValueChange?.(""),d?.()))},children:[o.jsxs(Re,{id:e,className:E.trigger,"aria-labelledby":null,children:[o.jsx(le,{className:E.valueText,variant:"body-sm-reg",asChild:!0,children:o.jsx(be,{placeholder:I})}),o.jsx(fe,{className:E.triggerIcon,children:o.jsx(M,{icon:"keyboard_arrow_down",size:n==="small"?"small":"medium"})})]}),r&&o.jsx(he,{className:E.clearIcon,onClick:d,children:o.jsx(M,{icon:"close",size:n==="small"?"small":"medium"})})]}),o.jsx(ot,{children:o.jsx(Te,{className:E.viewport,children:o.jsxs(pe,{className:E.content,children:[t.length>wt&&o.jsx("div",{className:E.searchInput,children:o.jsx(Fe,{placeholder:"Search",value:S,onChange:u=>V(u.target.value),onKeyDown:u=>{u.key===" "&&u.stopPropagation()},slots:{startAdornment:o.jsx(M,{icon:"search",size:"tiny"})}})}),h.multiple&&o.jsx(Pe,{onValueChange:h.onValueChange,showAll:O,onShowAll:()=>G(!0),count:6}),K.map(u=>{const k=Ut({item:u,select:N,options:R});return o.jsx(le,{variant:"body-sm-reg",asChild:!0,className:E.item,children:o.jsxs(Ee,{item:u,children:[h.multiple&&o.jsx(Ne,{checked:k}),u.icon&&o.jsx(M,{className:E.itemIcon,icon:u.icon,"aria-hidden":"true"}),o.jsx(ye,{children:u.label})]})},w.getItemValue(u))})]})})}),o.jsx(ve,{style:{display:"none"}})]})};function Ut({item:e,select:t,options:l}){return e.value!==q?t.getItemState({item:e}).selected:t.selectedItems.length===l.length-1?!0:t.hasSelectedItems?"indeterminate":!1}Mt.__docgenInfo={description:"",methods:[],displayName:"DsSelect",props:{id:{required:!1,tsType:{name:"string"},description:"Unique identifier for the select component"},options:{required:!0,tsType:{name:"Array",elements:[{name:"DsSelectOption"}],raw:"DsSelectOption[]"},description:"Options to display in the select dropdown"},style:{required:!1,tsType:{name:"ReactCSSProperties",raw:"React.CSSProperties"},description:"Additional styles to apply to the icon"},className:{required:!1,tsType:{name:"string"},description:"Additional CSS class names"},onBlur:{required:!1,tsType:{name:"signature",type:"function",raw:"(event: React.FocusEvent) => void",signature:{arguments:[{type:{name:"ReactFocusEvent",raw:"React.FocusEvent"},name:"event"}],return:{name:"void"}}},description:`Event handler called when the select loses focus

@param event`},placeholder:{required:!1,tsType:{name:"string"},description:"Placeholder text to display when no option is selected",defaultValue:{value:"'Click to select a value'",computed:!1}},disabled:{required:!1,tsType:{name:"boolean"},description:"Whether the select is disabled"},size:{required:!1,tsType:{name:"union",raw:"'default' | 'small'",elements:[{name:"literal",value:"'default'"},{name:"literal",value:"'small'"}]},description:`The size of the select component
@default 'default'`}}};export{Mt as D};
