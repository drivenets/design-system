import{j as s}from"./jsx-runtime-u17CrQMm.js";import{r as g}from"./iframe-DLMDGCUl.js";import{a as X,P as k,d as Y,c as G,b as W,u as U}from"./index-Ccoi4OM8.js";import{u as J}from"./index-H_XcGL9U.js";import{u as K}from"./index-BXejAFVA.js";import{c as I}from"./index-CZjfX2qz.js";import{D as j}from"./ds-icon-DahQ-ftt.js";import{d as Q,j as S,az as Z,o as ee,al as te,am as ne,p as re,P as ae,a1 as se}from"./index-BiDlDip1.js";import{D as oe}from"./ds-button-Th9pp1mU.js";var ie=ee("steps").parts("root","list","item","trigger","indicator","separator","content","nextTrigger","prevTrigger","progress"),b=ie.build(),ce=e=>e.ids?.root??`steps:${e.id}`,le=e=>e.ids?.list??`steps:${e.id}:list`,M=(e,t)=>e.ids?.triggerId?.(t)??`steps:${e.id}:trigger:${t}`,de=(e,t)=>e.ids?.contentId?.(t)??`steps:${e.id}:content:${t}`;function pe(e,t){const{context:r,send:n,computed:o,prop:a,scope:c}=e,l=r.get("step"),d=a("count"),u=o("percent"),v=o("hasNextStep"),h=o("hasPrevStep"),y=i=>a("isStepValid")?.(i)??!0,P=i=>a("isStepSkippable")?.(i)??!1,_=i=>({triggerId:M(c,i.index),contentId:de(c,i.index),current:i.index===l,completed:i.index<l,incomplete:i.index>l,index:i.index,first:i.index===0,last:i.index===d-1,skippable:P(i.index),isValid:()=>y(i.index)}),x=()=>{n({type:"STEP.NEXT",src:"next.trigger.click"})},T=()=>{n({type:"STEP.PREV",src:"prev.trigger.click"})},C=()=>{n({type:"STEP.RESET",src:"reset.trigger.click"})},m=i=>{n({type:"STEP.SET",value:i,src:"api.setValue"})};return{value:l,count:d,percent:u,hasNextStep:v,hasPrevStep:h,isCompleted:o("completed"),isStepValid:y,isStepSkippable:P,goToNextStep:x,goToPrevStep:T,resetStep:C,getItemState:_,setStep:m,getRootProps(){return t.element({...b.root.attrs,id:ce(c),dir:a("dir"),"data-orientation":a("orientation"),style:{"--percent":`${u}%`}})},getListProps(){const p=Z(d).map(($,H)=>M(c,H));return t.element({...b.list.attrs,dir:a("dir"),id:le(c),role:"tablist","aria-owns":p.join(" "),"aria-orientation":a("orientation"),"data-orientation":a("orientation")})},getItemProps(i){const p=_(i);return t.element({...b.item.attrs,dir:a("dir"),"aria-current":p.current?"step":void 0,"data-orientation":a("orientation"),"data-skippable":S(p.skippable)})},getTriggerProps(i){const p=_(i);return t.button({...b.trigger.attrs,id:p.triggerId,role:"tab",dir:a("dir"),tabIndex:!a("linear")||p.current?0:-1,"aria-selected":p.current,"aria-controls":p.contentId,"data-state":p.current?"open":"closed","data-orientation":a("orientation"),"data-complete":S(p.completed),"data-current":S(p.current),"data-incomplete":S(p.incomplete),onClick($){$.defaultPrevented||a("linear")||n({type:"STEP.SET",value:i.index,src:"trigger.click"})}})},getContentProps(i){const p=_(i);return t.element({...b.content.attrs,dir:a("dir"),id:p.contentId,role:"tabpanel",tabIndex:0,hidden:!p.current,"data-state":p.current?"open":"closed","data-orientation":a("orientation"),"aria-labelledby":p.triggerId})},getIndicatorProps(i){const p=_(i);return t.element({...b.indicator.attrs,dir:a("dir"),"aria-hidden":!0,"data-complete":S(p.completed),"data-current":S(p.current),"data-incomplete":S(p.incomplete)})},getSeparatorProps(i){const p=_(i);return t.element({...b.separator.attrs,dir:a("dir"),"data-orientation":a("orientation"),"data-complete":S(p.completed),"data-current":S(p.current),"data-incomplete":S(p.incomplete)})},getNextTriggerProps(){return t.button({...b.nextTrigger.attrs,dir:a("dir"),type:"button",disabled:!v,onClick(i){i.defaultPrevented||x()}})},getPrevTriggerProps(){return t.button({dir:a("dir"),...b.prevTrigger.attrs,type:"button",disabled:!h,onClick(i){i.defaultPrevented||T()}})},getProgressProps(){return t.element({dir:a("dir"),...b.progress.attrs,role:"progressbar","aria-valuenow":u,"aria-valuemin":0,"aria-valuemax":100,"aria-valuetext":`${u}% complete`,"data-complete":S(u===100)})}}}var ue=Q({props({props:e}){return{defaultStep:0,count:1,linear:!1,orientation:"horizontal",...e}},context({prop:e,bindable:t}){return{step:t(()=>({defaultValue:e("defaultStep"),value:e("step"),onChange(r){e("onStepChange")?.({step:r}),r==e("count")&&e("onStepComplete")?.()}}))}},computed:{percent:te(({context:e,prop:t})=>[e.get("step"),t("count")],([e,t])=>e/t*100),hasNextStep:({context:e,prop:t})=>e.get("step")<t("count"),hasPrevStep:({context:e})=>e.get("step")>0,completed:({context:e,prop:t})=>e.get("step")===t("count")},initialState(){return"idle"},entry:["validateStepIndex"],states:{idle:{on:{"STEP.SET":[{guard:"isValidStepNavigation",actions:["setStep"]},{actions:["invokeOnStepInvalid"]}],"STEP.NEXT":[{guard:"isCurrentStepValid",actions:["goToNextStep"]},{actions:["invokeOnStepInvalid"]}],"STEP.PREV":{actions:["goToPrevStep"]},"STEP.RESET":{actions:["resetStep"]}}}},implementations:{guards:{isCurrentStepValid({context:e,prop:t}){const r=e.get("step");if(t("isStepSkippable")?.(r))return!0;const n=t("isStepValid");return n?n(r):!0},isValidStepNavigation({context:e,event:t,prop:r}){const n=e.get("step");if(t.value<=n||r("isStepSkippable")?.(n))return!0;const o=r("isStepValid");return o?o(n):!0}},actions:{goToNextStep({context:e,prop:t}){const r=t("count");e.set("step",Math.min(e.get("step")+1,r))},goToPrevStep({context:e}){e.set("step",Math.max(e.get("step")-1,0))},resetStep({context:e}){e.set("step",0)},setStep({context:e,event:t}){e.set("step",t.value)},validateStepIndex({context:e,prop:t}){ge(t("count"),e.get("step"))},invokeOnStepInvalid({context:e,event:t,prop:r}){r("onStepInvalid")?.({step:e.get("step"),action:t.type==="STEP.NEXT"?"next":"set",targetStep:t.value})}}}}),ge=(e,t)=>{if(!ne(t,0,e))throw new RangeError(`[zag-js/steps] step index ${t} is out of bounds`)};re()(["count","defaultStep","dir","getRootNode","id","ids","isStepSkippable","isStepValid","linear","onStepChange","onStepComplete","onStepInvalid","orientation","step"]);var w="Collapsible",[me]=G(w),[fe,A]=me(w),O=g.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:o,disabled:a,onOpenChange:c,...l}=e,[d,u]=X({prop:n,defaultProp:o??!1,onChange:c,caller:w});return s.jsx(fe,{scope:r,disabled:a,contentId:K(),open:d,onOpenToggle:g.useCallback(()=>u(v=>!v),[u]),children:s.jsx(k.div,{"data-state":V(d),"data-disabled":a?"":void 0,...l,ref:t})})});O.displayName=w;var z="CollapsibleTrigger",F=g.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,o=A(z,r);return s.jsx(k.button,{type:"button","aria-controls":o.contentId,"aria-expanded":o.open||!1,"data-state":V(o.open),"data-disabled":o.disabled?"":void 0,disabled:o.disabled,...n,ref:t,onClick:Y(e.onClick,o.onOpenToggle)})});F.displayName=z;var L="CollapsibleContent",ve=g.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=A(L,e.__scopeCollapsible);return s.jsx(W,{present:r||o.open,children:({present:a})=>s.jsx(Se,{...n,ref:t,present:a})})});ve.displayName=L;var Se=g.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:o,...a}=e,c=A(L,r),[l,d]=g.useState(n),u=g.useRef(null),v=J(t,u),h=g.useRef(0),y=h.current,P=g.useRef(0),_=P.current,x=c.open||l,T=g.useRef(x),C=g.useRef(void 0);return g.useEffect(()=>{const m=requestAnimationFrame(()=>T.current=!1);return()=>cancelAnimationFrame(m)},[]),U(()=>{const m=u.current;if(m){C.current=C.current||{transitionDuration:m.style.transitionDuration,animationName:m.style.animationName},m.style.transitionDuration="0s",m.style.animationName="none";const i=m.getBoundingClientRect();h.current=i.height,P.current=i.width,T.current||(m.style.transitionDuration=C.current.transitionDuration,m.style.animationName=C.current.animationName),d(n)}},[c.open,n]),s.jsx(k.div,{"data-state":V(c.open),"data-disabled":c.disabled?"":void 0,id:c.contentId,hidden:!x,...a,ref:v,style:{"--radix-collapsible-content-height":y?`${y}px`:void 0,"--radix-collapsible-content-width":_?`${_}px`:void 0,...e.style},children:x&&o})});function V(e){return e?"open":"closed"}var he=O,_e=F;const be="_root_bscnl_1",xe="_variantFloating_bscnl_14",Ce="_dragging_bscnl_22",Ne="_disablePadding_bscnl_26",ye="_trigger_bscnl_30",Pe="_triggerCollapsed_bscnl_47",Te="_variantDocked_bscnl_62",N={root:be,variantFloating:xe,dragging:Ce,disablePadding:Ne,trigger:ye,triggerCollapsed:Pe,variantDocked:Te};function Ie(e){const t=g.useRef(null),r=g.useRef({x:0,y:0}),n=g.useRef(null);return g.useEffect(()=>{const o=t.current;if(!o)return;if(!e){r.current={x:0,y:0},o.style.transform="";return}const a=d=>{d.target.closest("[data-drag-handle]")&&(d.preventDefault(),n.current={startX:d.clientX,startY:d.clientY,originX:r.current.x,originY:r.current.y},o.classList.add(N.dragging))},c=d=>{n.current&&(r.current={x:n.current.originX+(d.clientX-n.current.startX),y:n.current.originY+(d.clientY-n.current.startY)},o.style.transform=`translate(${String(r.current.x)}px, ${String(r.current.y)}px)`)},l=()=>{n.current&&(n.current=null,o.classList.remove(N.dragging))};return o.addEventListener("mousedown",a),document.addEventListener("mousemove",c),document.addEventListener("mouseup",l),()=>{o.removeEventListener("mousedown",a),document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",l)}},[e]),t}function je({open:e,onOpenChange:t,children:r,className:n,slotProps:o,variant:a="docked",draggable:c=!1,disablePadding:l=!1,...d}){const v=Ie(a==="floating"&&c);return s.jsxs(he,{ref:v,open:e,onOpenChange:t,className:I(N.root,n,{[N.variantDocked]:a==="docked",[N.variantFloating]:a==="floating",[N.disablePadding]:l}),...d,children:[s.jsx(we,{...o?.collapseButton}),r]})}function we({collapsed:e,...t}){return s.jsx(_e,{className:I(N.trigger,{[N.triggerCollapsed]:e}),"aria-label":"Toggle panel",...t,children:s.jsx(j,{icon:"arrow_circle_left",variant:"outlined"})})}je.__docgenInfo={description:"",methods:[],displayName:"DsPanel",props:{variant:{required:!1,tsType:{name:"union",raw:"'docked' | 'floating'",elements:[{name:"literal",value:"'docked'"},{name:"literal",value:"'floating'"}]},description:"",defaultValue:{value:"'docked'",computed:!1}},draggable:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},disablePadding:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},slotProps:{required:!1,tsType:{name:"signature",type:"object",raw:`{
	collapseButton?: DsPanelCollapseButtonProps;
}`,signature:{properties:[{key:"collapseButton",value:{name:"signature",type:"object",raw:`{
	onClick?: () => void;
	collapsed?: boolean;
}`,signature:{properties:[{key:"onClick",value:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}},required:!1}},{key:"collapsed",value:{name:"boolean",required:!1}}]},required:!1}}]}},description:""},onOpenChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:""}}};const De="_dragHandle_c3mhw_1",Re="_root_c3mhw_11",Ee="_verticalActions_c3mhw_16",ke="_step_c3mhw_22",Ae="_variantSingle_c3mhw_44",Le="_indicatorContainer_c3mhw_57",Ve="_indicator_c3mhw_57",qe="_separator_c3mhw_83",$e="_stepContent_c3mhw_99",Me="_stepContentSingle_c3mhw_104",Oe="_stepLabel_c3mhw_108",ze="_stepDescription_c3mhw_118",Fe="_stepActions_c3mhw_136",Be="_stepsContainer_c3mhw_159",He="_horizontalActions_c3mhw_166",Xe="_stepLabelRow_c3mhw_193",Ye="_horizontalSeparator_c3mhw_209",f={dragHandle:De,root:Re,verticalActions:Ee,step:ke,variantSingle:Ae,indicatorContainer:Le,indicator:Ve,separator:qe,stepContent:$e,stepContentSingle:Me,stepLabel:Oe,stepDescription:ze,stepActions:Fe,stepsContainer:Be,horizontalActions:He,stepLabelRow:Xe,horizontalSeparator:Ye};function Ge({count:e,activeStep:t,onStepChange:r,onComplete:n,orientation:o}){const a=ae(ue,{id:g.useId(),count:e,step:t,onStepChange:r,onStepComplete:n,orientation:o});return pe(a,se)}const B=g.createContext(null);function D(){const e=g.useContext(B);if(!e)throw new Error("useStepper must be used within a DsStepper");return e}function We({count:e,variant:t,orientation:r="vertical",floating:n=!1,activeStep:o,onStepChange:a,onComplete:c,children:l,className:d,actions:u}){const v=Ge({count:e,activeStep:o,onStepChange:a,onComplete:c,orientation:r}),h=r==="horizontal";return s.jsx(B.Provider,{value:{stepsApi:v,variant:t,orientation:r,floating:n},children:s.jsx("div",{...v.getRootProps(),className:I(f.root,{[f.variantSingle]:t==="single"},d),children:h?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:f.stepsContainer,children:l}),u&&s.jsx("div",{className:f.horizontalActions,children:u})]}):s.jsxs(s.Fragment,{children:[l,u&&s.jsx("div",{className:f.verticalActions,children:u})]})})})}We.__docgenInfo={description:"",methods:[],displayName:"DsStepper",props:{orientation:{defaultValue:{value:"'vertical'",computed:!1},required:!1},floating:{defaultValue:{value:"false",computed:!1},required:!1}}};function q({index:e}){const{stepsApi:t,orientation:r}=D(),{last:n}=t.getItemState({index:e});return n?null:s.jsx("div",{...t.getSeparatorProps({index:e}),className:r==="horizontal"?f.horizontalSeparator:f.separator})}q.__docgenInfo={description:"",methods:[],displayName:"DsStepSeparator",props:{index:{required:!0,tsType:{name:"number"},description:""}}};function Ue({index:e,children:t,className:r,disabled:n,variant:o="default",slots:a,slotProps:c}){const l=D(),{completed:d,current:u,last:v}=l.stepsApi.getItemState({index:e}),h=l.variant==="single",y=l.orientation==="horizontal",P=v&&l.stepsApi.value===e+1;if(h&&!u&&!P)return null;const x=d&&!h&&!n,T=x?"button":"div",C=x?{onClick:()=>{l.stepsApi.setStep(e)}}:{},m=I(f.indicator,c?.indicator?.className),i=()=>a?.indicator?s.jsx("span",{...c?.indicator,className:m,children:a.indicator}):o==="error"?s.jsx("span",{...c?.indicator,className:c?.indicator?.className,children:s.jsx(j,{icon:"close",className:m})}):d?s.jsx("span",{...c?.indicator,className:c?.indicator?.className,children:s.jsx(j,{icon:"check",className:m})}):s.jsx("span",{...c?.indicator,className:m,children:e+1});return s.jsxs(T,{...l.stepsApi.getItemProps({index:e}),"data-current":u?"":void 0,"data-complete":d?"":void 0,"data-disabled":n?"":void 0,"data-error":o==="error"?"":void 0,className:I(f.step,r),...C,children:[l.floating&&s.jsx(j,{icon:"drag_indicator",className:f.dragHandle,"data-drag-handle":""}),s.jsxs("div",{...l.stepsApi.getIndicatorProps({index:e}),className:f.indicatorContainer,children:[i(),!y&&s.jsx(q,{index:e})]}),t]})}Ue.__docgenInfo={description:"",methods:[],displayName:"DsStep",props:{variant:{defaultValue:{value:"'default'",computed:!1},required:!1}}};function R({children:e}){return s.jsx("span",{className:f.stepLabel,children:e})}R.__docgenInfo={description:"",methods:[],displayName:"DsStepLabel"};function E({children:e}){return s.jsx("p",{className:f.stepDescription,children:e})}E.__docgenInfo={description:"",methods:[],displayName:"DsStepDescription"};function Je({index:e,label:t,description:r,actions:n}){const{variant:o,orientation:a,stepsApi:c}=D(),{current:l}=c.getItemState({index:e}),d=a==="horizontal",u=o!=="single"&&r;return s.jsx("div",{className:I(f.stepContent,{[f.stepContentSingle]:o==="single"}),children:d?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:f.stepLabelRow,children:[s.jsx(R,{children:t}),s.jsx(q,{index:e})]}),u&&s.jsx(E,{children:r})]}):s.jsxs(s.Fragment,{children:[s.jsx(R,{children:t}),u&&s.jsx(E,{children:r}),n&&l&&s.jsx("div",{className:f.stepActions,children:n})]})})}Je.__docgenInfo={description:"",methods:[],displayName:"DsStepContent",props:{index:{required:!0,tsType:{name:"number"},description:""},label:{required:!0,tsType:{name:"ReactNode"},description:""},description:{required:!1,tsType:{name:"ReactNode"},description:""},actions:{required:!1,tsType:{name:"ReactNode"},description:""}}};function Ke({children:e,size:t="small",...r}){const n=D();return s.jsx(oe,{...n.stepsApi.getNextTriggerProps(),size:t,...r,children:e})}Ke.__docgenInfo={description:"",methods:[],displayName:"DsNextStepButton",props:{size:{defaultValue:{value:"'small'",computed:!1},required:!1}}};export{je as D,We as a,Ue as b,Je as c,Ke as d};
