import{j as p}from"./jsx-runtime-u17CrQMm.js";import{r as V}from"./iframe-CJ20uA1V.js";import{c as U,S as I,T as A,U as D,t as C,d as v,V as k,i as W,W as j,J as M,n as $,X,e as H,h as _,Y as K,G as q,r as Y,y as T,Z as z,_ as G,$ as J,s as Z,q as Q,a0 as ee,a1 as te,a2 as ae,a3 as se,a4 as oe,u as re,a5 as ne,R as ie,a6 as ce}from"./use-locale-context-DCw1w6lP.js";import{c as N}from"./create-split-props-u5h9OPvL.js";import{u as le,s as ue,R as de}from"./render-strategy-eJuwMKx1.js";import{u as ge,P as fe}from"./use-presence-C9oE2LYv.js";const[ve,w]=U({name:"TabsContext",hookName:"useTabsContext",providerName:"<TabsProvider />"}),pe=N(),be=V.forwardRef((e,t)=>{const[s,a]=pe(e,["value"]),n=w(),o=le(),i=ge({...o,present:n.value===e.value,immediate:!0}),d=I(n.getContentProps(s),i.getPresenceProps(),a);return p.jsx(fe,{value:i,children:i.unmounted?null:p.jsx(A.div,{...d,ref:D(i.ref,t)})})});be.displayName="TabContent";const Te=V.forwardRef((e,t)=>{const s=w(),a=I(s.getListProps(),e);return p.jsx(A.div,{...a,ref:t})});Te.displayName="TabList";const ye=N(),Re=V.forwardRef((e,t)=>{const[s,a]=ye(e,["disabled","value"]),n=w(),o=I(n.getTriggerProps(s),a);return p.jsx(A.button,{...o,ref:t})});Re.displayName="TabTrigger";var me=H("tabs").parts("root","list","trigger","content","indicator"),E=me.build(),Ee=e=>e.ids?.root??`tabs:${e.id}`,P=e=>e.ids?.list??`tabs:${e.id}:list`,F=(e,t)=>e.ids?.content?.(t)??`tabs:${e.id}:content-${t}`,b=(e,t)=>e.ids?.trigger?.(t)??`tabs:${e.id}:trigger-${t}`,B=e=>e.ids?.indicator??`tabs:${e.id}:indicator`,Pe=e=>e.getById(P(e)),Ve=(e,t)=>e.getById(F(e,t)),h=(e,t)=>t!=null?e.getById(b(e,t)):null,S=e=>e.getById(B(e)),y=e=>{const s=`[role=tab][data-ownedby='${CSS.escape(P(e))}']:not([disabled])`;return Q(Pe(e),s)},Ce=e=>oe(y(e)),he=e=>se(y(e)),Ie=(e,t)=>ae(y(e),b(e,t.value),t.loopFocus),Ae=(e,t)=>te(y(e),b(e,t.value),t.loopFocus),x=e=>({x:e?.offsetLeft??0,y:e?.offsetTop??0,width:e?.offsetWidth??0,height:e?.offsetHeight??0}),Fe=(e,t)=>{const s=ee(y(e),b(e,t));return x(s)};function _e(e,t){const{state:s,send:a,context:n,prop:o,scope:i}=e,d=o("translations"),g=s.matches("focused"),R=o("orientation")==="vertical",f=o("orientation")==="horizontal",L=o("composite");function O(r){return{selected:n.get("value")===r.value,focused:n.get("focusedValue")===r.value,disabled:!!r.disabled}}return{value:n.get("value"),focusedValue:n.get("focusedValue"),setValue(r){a({type:"SET_VALUE",value:r})},clearValue(){a({type:"CLEAR_VALUE"})},setIndicatorRect(r){const c=b(i,r);a({type:"SET_INDICATOR_RECT",id:c})},syncTabIndex(){a({type:"SYNC_TAB_INDEX"})},selectNext(r){a({type:"TAB_FOCUS",value:r,src:"selectNext"}),a({type:"ARROW_NEXT",src:"selectNext"})},selectPrev(r){a({type:"TAB_FOCUS",value:r,src:"selectPrev"}),a({type:"ARROW_PREV",src:"selectPrev"})},focus(){const r=n.get("value");r&&h(i,r)?.focus()},getRootProps(){return t.element({...E.root.attrs,id:Ee(i),"data-orientation":o("orientation"),"data-focus":v(g),dir:o("dir")})},getListProps(){return t.element({...E.list.attrs,id:P(i),role:"tablist",dir:o("dir"),"data-focus":v(g),"aria-orientation":o("orientation"),"data-orientation":o("orientation"),"aria-label":d?.listLabel,onKeyDown(r){if(r.defaultPrevented||j(r)||!M(r.currentTarget,$(r)))return;const c={ArrowDown(){f||a({type:"ARROW_NEXT",key:"ArrowDown"})},ArrowUp(){f||a({type:"ARROW_PREV",key:"ArrowUp"})},ArrowLeft(){R||a({type:"ARROW_PREV",key:"ArrowLeft"})},ArrowRight(){R||a({type:"ARROW_NEXT",key:"ArrowRight"})},Home(){a({type:"HOME"})},End(){a({type:"END"})}};let l=X(r,{dir:o("dir"),orientation:o("orientation")});const u=c[l];if(u){r.preventDefault(),u(r);return}}})},getTriggerState:O,getTriggerProps(r){const{value:c,disabled:l}=r,u=O(r);return t.button({...E.trigger.attrs,role:"tab",type:"button",disabled:l,dir:o("dir"),"data-orientation":o("orientation"),"data-disabled":v(l),"aria-disabled":l,"data-value":c,"aria-selected":u.selected,"data-selected":v(u.selected),"data-focus":v(u.focused),"aria-controls":u.selected?F(i,c):void 0,"data-ownedby":P(i),"data-ssr":v(n.get("ssr")),id:b(i,c),tabIndex:u.selected&&L?0:-1,onFocus(){a({type:"TAB_FOCUS",value:c})},onBlur(m){m.relatedTarget?.getAttribute("role")!=="tab"&&a({type:"TAB_BLUR"})},onClick(m){m.defaultPrevented||k(m)||l||(W()&&m.currentTarget.focus(),a({type:"TAB_CLICK",value:c}))}})},getContentProps(r){const{value:c}=r,l=n.get("value")===c;return t.element({...E.content.attrs,dir:o("dir"),id:F(i,c),tabIndex:L?0:-1,"aria-labelledby":b(i,c),role:"tabpanel","data-ownedby":P(i),"data-selected":v(l),"data-orientation":o("orientation"),hidden:!l})},getIndicatorProps(){const r=n.get("indicatorRect"),c=r==null||r.width===0&&r.height===0&&r.x===0&&r.y===0;return t.element({id:B(i),...E.indicator.attrs,dir:o("dir"),"data-orientation":o("orientation"),hidden:c,style:{"--transition-property":"left, right, top, bottom, width, height","--left":C(r?.x),"--top":C(r?.y),"--width":C(r?.width),"--height":C(r?.height),position:"absolute",willChange:"var(--transition-property)",transitionProperty:"var(--transition-property)",transitionDuration:"var(--transition-duration, 150ms)",transitionTimingFunction:"var(--transition-timing-function)",[f?"left":"top"]:f?"var(--left)":"var(--top)"}})}}}var{createMachine:Ne}=J(),we=Ne({props({props:e}){return{dir:"ltr",orientation:"horizontal",activationMode:"automatic",loopFocus:!0,composite:!0,navigate(t){G(t.node)},defaultValue:null,...e}},initialState(){return"idle"},context({prop:e,bindable:t}){return{value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),onChange(s){e("onValueChange")?.({value:s})}})),focusedValue:t(()=>({defaultValue:e("value")||e("defaultValue"),sync:!0,onChange(s){e("onFocusChange")?.({focusedValue:s})}})),ssr:t(()=>({defaultValue:!0})),indicatorRect:t(()=>({defaultValue:null}))}},watch({context:e,prop:t,track:s,action:a}){s([()=>e.get("value")],()=>{a(["syncIndicatorRect","syncTabIndex","navigateIfNeeded"])}),s([()=>t("dir"),()=>t("orientation")],()=>{a(["syncIndicatorRect"])})},on:{SET_VALUE:{actions:["setValue"]},CLEAR_VALUE:{actions:["clearValue"]},SET_INDICATOR_RECT:{actions:["setIndicatorRect"]},SYNC_TAB_INDEX:{actions:["syncTabIndex"]}},entry:["syncIndicatorRect","syncTabIndex","syncSsr"],exit:["cleanupObserver"],states:{idle:{on:{TAB_FOCUS:{target:"focused",actions:["setFocusedValue"]},TAB_CLICK:{target:"focused",actions:["setFocusedValue","setValue"]}}},focused:{on:{TAB_CLICK:{actions:["setFocusedValue","setValue"]},ARROW_PREV:[{guard:"selectOnFocus",actions:["focusPrevTab","selectFocusedTab"]},{actions:["focusPrevTab"]}],ARROW_NEXT:[{guard:"selectOnFocus",actions:["focusNextTab","selectFocusedTab"]},{actions:["focusNextTab"]}],HOME:[{guard:"selectOnFocus",actions:["focusFirstTab","selectFocusedTab"]},{actions:["focusFirstTab"]}],END:[{guard:"selectOnFocus",actions:["focusLastTab","selectFocusedTab"]},{actions:["focusLastTab"]}],TAB_FOCUS:{actions:["setFocusedValue"]},TAB_BLUR:{target:"idle",actions:["clearFocusedValue"]}}}},implementations:{guards:{selectOnFocus:({prop:e})=>e("activationMode")==="automatic"},actions:{selectFocusedTab({context:e,prop:t}){T(()=>{const s=e.get("focusedValue");if(!s)return;const n=t("deselectable")&&e.get("value")===s?null:s;e.set("value",n)})},setFocusedValue({context:e,event:t,flush:s}){t.value!=null&&s(()=>{e.set("focusedValue",t.value)})},clearFocusedValue({context:e}){e.set("focusedValue",null)},setValue({context:e,event:t,prop:s}){const a=s("deselectable")&&e.get("value")===e.get("focusedValue");e.set("value",a?null:t.value)},clearValue({context:e}){e.set("value",null)},focusFirstTab({scope:e}){T(()=>{Ce(e)?.focus()})},focusLastTab({scope:e}){T(()=>{he(e)?.focus()})},focusNextTab({context:e,prop:t,scope:s,event:a}){const n=a.value??e.get("focusedValue");if(!n)return;const o=Ie(s,{value:n,loopFocus:t("loopFocus")});T(()=>{t("composite")?o?.focus():o?.dataset.value!=null&&e.set("focusedValue",o.dataset.value)})},focusPrevTab({context:e,prop:t,scope:s,event:a}){const n=a.value??e.get("focusedValue");if(!n)return;const o=Ae(s,{value:n,loopFocus:t("loopFocus")});T(()=>{t("composite")?o?.focus():o?.dataset.value!=null&&e.set("focusedValue",o.dataset.value)})},syncTabIndex({context:e,scope:t}){T(()=>{const s=e.get("value");if(!s)return;const a=Ve(t,s);if(!a)return;z(a).length>0?a.removeAttribute("tabindex"):a.setAttribute("tabindex","0")})},cleanupObserver({refs:e}){const t=e.get("indicatorCleanup");t&&t()},setIndicatorRect({context:e,event:t,scope:s}){const a=t.id??e.get("value");!S(s)||!a||!h(s,a)||e.set("indicatorRect",Fe(s,a))},syncSsr({context:e}){e.set("ssr",!1)},syncIndicatorRect({context:e,refs:t,scope:s}){const a=t.get("indicatorCleanup");if(a&&a(),!S(s))return;const o=()=>{const g=h(s,e.get("value"));if(!g)return;const R=x(g);e.set("indicatorRect",f=>Z(f,R)?f:R)};o();const i=y(s),d=q(...i.map(g=>Y.observe(g,o)));t.set("indicatorCleanup",d)},navigateIfNeeded({context:e,prop:t,scope:s}){const a=e.get("value");if(!a)return;const n=h(s,a);K(n)&&t("navigate")?.({value:a,node:n,href:n.href})}}}});_()(["activationMode","composite","deselectable","dir","getRootNode","id","ids","loopFocus","navigate","onFocusChange","onValueChange","orientation","translations","value","defaultValue"]);_()(["disabled","value"]);_()(["value"]);const Le=e=>{const t=V.useId(),{getRootNode:s}=re(),{dir:a}=ne(),n={id:t,dir:a,getRootNode:s,...e},o=ie(we,n);return _e(o,ce)},Oe=N(),Se=V.forwardRef((e,t)=>{const[s,a]=ue(e),[n,o]=Oe(a,["activationMode","composite","defaultValue","deselectable","id","ids","loopFocus","navigate","onFocusChange","onValueChange","orientation","translations","value"]),i=Le(n),d=I(i.getRootProps(),o);return p.jsx(ve,{value:i,children:p.jsx(de,{value:s,children:p.jsx(A.div,{...d,ref:t})})})});Se.displayName="TabsRoot";export{Se as T,Te as a,Re as b,be as c,w as u};
