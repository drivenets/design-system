import{j as r}from"./jsx-runtime-u17CrQMm.js";import{D as Y}from"./ds-icon-DoWNvs5Z.js";import{c as Qe}from"./index-CAJkVsre.js";import{c as Xe}from"./index-DJ4NnFZ2.js";import{r as b}from"./iframe-cDXgLNwq.js";import{c as le,a as D,b as Ze,d as we,u as et}from"./use-locale-context-CWB5fLpi.js";import{b as E,a as Te,u as tt,P as nt}from"./use-presence-CrUsv3FN.js";import{c as pe,L as Pe}from"./list-collection-Dc1WJxoZ.js";import{s as at,P as ot}from"./portal-DDk-YuwG.js";import{c as Q}from"./create-split-props-u5h9OPvL.js";import{Q as B,U as it,aK as U,r as R,aL as st,aM as lt,aH as he,O as rt,a2 as ct,aN as ut,z as dt,$ as gt,d as pt,l as f,a5 as ue,aO as ht,R as mt,G as vt,o as Z,T as me,S as It,aP as ft,aJ as ve,aG as Ct,V as bt,p as re,P as yt,a1 as xt}from"./index-DlvIUqsm.js";import{a as Ie,g as Ot}from"./index-BLXNfmeO.js";import{t as Vt}from"./index-BbbpB-3u.js";import{u as Se}from"./use-field-context-B_sF87mS.js";import"./preload-helper-PPVm8Dsz.js";import"./index-BVzgQ7cU.js";import"./index-BUJ_78C5.js";import"./floating-ui.dom-CGTwz-PJ.js";function Et(e){const{initialItems:t=[],filter:n,limit:a,...o}=e,[i,s]=b.useState(t),[g,y]=b.useState(""),d=E(c=>{s(c),y("")}),x=b.useRef(o);x.current=o;const p=b.useCallback(c=>pe({...x.current,items:c}),[]);return{collection:b.useMemo(()=>{let c=i;g&&n&&(c=p(i).filter((v,I,G)=>n(v,g,G)).items);const h=a==null?c:c.slice(0,a);return pe({...x.current,items:h})},[i,g,n,a,p]),filter:E(c=>{y(c||"")}),set:E(c=>{d(c)}),reset:E(()=>{d(t)}),clear:E(()=>{d([])}),insert:E((c,...h)=>{const v=p(i).insert(c,...h).items;d(v)}),insertBefore:E((c,...h)=>{const v=p(i).insertBefore(c,...h).items;d(v)}),insertAfter:E((c,...h)=>{const v=p(i).insertAfter(c,...h).items;d(v)}),remove:E((...c)=>{const h=p(i).remove(...c).items;d(h)}),move:E((c,h)=>{const v=p(i).move(c,h).items;d(v)}),moveBefore:E((c,...h)=>{const v=p(i).moveBefore(c,...h).items;d(v)}),moveAfter:E((c,...h)=>{const v=p(i).moveAfter(c,...h).items;d(v)}),reorder:E((c,h)=>{const v=p(i).reorder(c,h).items;d(v)}),append:E((...c)=>{const h=p(i).append(...c).items;d(h)}),upsert:E((c,h,v="append")=>{const I=p(i).upsert(c,h,v).items;d(I)}),prepend:E((...c)=>{const h=p(i).prepend(...c).items;d(h)}),update:E((c,h)=>{const v=p(i).update(c,h).items;d(v)})}}const[wt,F]=le({name:"ComboboxContext",hookName:"useComboboxContext",providerName:"<ComboboxProvider />"}),ke=b.forwardRef((e,t)=>{const n=F(),a=B(n.getClearTriggerProps(),e);return r.jsx(D.button,{...a,ref:t})});ke.displayName="ComboboxClearTrigger";const Le=b.forwardRef((e,t)=>{const n=F(),a=Te(),o=B(n.getContentProps(),a.getPresenceProps(),e);return a.unmounted?null:r.jsx(D.div,{...o,ref:Ze(a.ref,t)})});Le.displayName="ComboboxContent";var Tt=pt("combobox").parts("root","clearTrigger","content","control","input","item","itemGroup","itemGroupLabel","itemIndicator","itemText","label","list","positioner","trigger"),S=Tt.build(),Ne=e=>new Pe(e);Ne.empty=()=>new Pe({items:[]});var Pt=e=>e.ids?.root??`combobox:${e.id}`,de=e=>e.ids?.label??`combobox:${e.id}:label`,Be=e=>e.ids?.control??`combobox:${e.id}:control`,ie=e=>e.ids?.input??`combobox:${e.id}:input`,se=e=>e.ids?.content??`combobox:${e.id}:content`,Ae=e=>e.ids?.positioner??`combobox:${e.id}:popper`,Re=e=>e.ids?.trigger??`combobox:${e.id}:toggle-btn`,He=e=>e.ids?.clearTrigger??`combobox:${e.id}:clear-btn`,St=(e,t)=>e.ids?.itemGroup?.(t)??`combobox:${e.id}:optgroup:${t}`,fe=(e,t)=>e.ids?.itemGroupLabel?.(t)??`combobox:${e.id}:optgroup-label:${t}`,Ce=(e,t)=>e.ids?.item?.(t)??`combobox:${e.id}:option:${t}`,W=e=>e.getById(se(e)),q=e=>e.getById(ie(e)),be=e=>e.getById(Ae(e)),ye=e=>e.getById(Be(e)),J=e=>e.getById(Re(e)),kt=e=>e.getById(He(e)),z=(e,t)=>{if(t==null)return null;const n=`[role=option][data-value="${CSS.escape(t)}"]`;return ft(W(e),n)},xe=e=>{const t=q(e);e.isActiveElement(t)||t?.focus({preventScroll:!0})},Lt=e=>{const t=J(e);e.isActiveElement(t)||t?.focus({preventScroll:!0})};function Nt(e,t){const{context:n,prop:a,state:o,send:i,scope:s,computed:g,event:y}=e,d=a("translations"),x=a("collection"),p=!!a("disabled"),w=g("isInteractive"),c=!!a("invalid"),h=!!a("required"),v=!!a("readOnly"),I=o.hasTag("open"),G=o.hasTag("focused"),_=a("composite"),C=n.get("highlightedValue"),N=Ot({...a("positioning"),placement:n.get("currentPlacement")});function A(l){const u=x.getItemDisabled(l.item),P=x.getItemValue(l.item);return Ct(P,()=>`[zag-js] No value found for item ${JSON.stringify(l.item)}`),{value:P,disabled:!!(u||u),highlighted:C===P,selected:n.get("value").includes(P)}}return{focused:G,open:I,inputValue:n.get("inputValue"),highlightedValue:C,highlightedItem:n.get("highlightedItem"),value:n.get("value"),valueAsString:g("valueAsString"),hasSelectedItems:g("hasSelectedItems"),selectedItems:n.get("selectedItems"),collection:a("collection"),multiple:!!a("multiple"),disabled:!!p,syncSelectedItems(){i({type:"SELECTED_ITEMS.SYNC"})},reposition(l={}){i({type:"POSITIONING.SET",options:l})},setHighlightValue(l){i({type:"HIGHLIGHTED_VALUE.SET",value:l})},clearHighlightValue(){i({type:"HIGHLIGHTED_VALUE.CLEAR"})},selectValue(l){i({type:"ITEM.SELECT",value:l})},setValue(l){i({type:"VALUE.SET",value:l})},setInputValue(l,u="script"){i({type:"INPUT_VALUE.SET",value:l,src:u})},clearValue(l){l!=null?i({type:"ITEM.CLEAR",value:l}):i({type:"VALUE.CLEAR"})},focus(){q(s)?.focus()},setOpen(l,u="script"){o.hasTag("open")!==l&&i({type:l?"OPEN":"CLOSE",src:u})},getRootProps(){return t.element({...S.root.attrs,dir:a("dir"),id:Pt(s),"data-invalid":f(c),"data-readonly":f(v)})},getLabelProps(){return t.label({...S.label.attrs,dir:a("dir"),htmlFor:ie(s),id:de(s),"data-readonly":f(v),"data-disabled":f(p),"data-invalid":f(c),"data-required":f(h),"data-focus":f(G),onClick(l){_||(l.preventDefault(),J(s)?.focus({preventScroll:!0}))}})},getControlProps(){return t.element({...S.control.attrs,dir:a("dir"),id:Be(s),"data-state":I?"open":"closed","data-focus":f(G),"data-disabled":f(p),"data-invalid":f(c)})},getPositionerProps(){return t.element({...S.positioner.attrs,dir:a("dir"),id:Ae(s),style:N.floating})},getInputProps(){return t.input({...S.input.attrs,dir:a("dir"),"aria-invalid":ue(c),"data-invalid":f(c),"data-autofocus":f(a("autoFocus")),name:a("name"),form:a("form"),disabled:p,required:a("required"),autoComplete:"off",autoCorrect:"off",autoCapitalize:"none",spellCheck:"false",readOnly:v,placeholder:a("placeholder"),id:ie(s),type:"text",role:"combobox",defaultValue:n.get("inputValue"),"aria-autocomplete":g("autoComplete")?"both":"list","aria-controls":se(s),"aria-expanded":I,"data-state":I?"open":"closed","aria-activedescendant":C?Ce(s,C):void 0,onClick(l){l.defaultPrevented||a("openOnClick")&&w&&i({type:"INPUT.CLICK",src:"input-click"})},onFocus(){p||i({type:"INPUT.FOCUS"})},onBlur(){p||i({type:"INPUT.BLUR"})},onChange(l){i({type:"INPUT.CHANGE",value:l.currentTarget.value,src:"input-change"})},onKeyDown(l){if(l.defaultPrevented||!w||l.ctrlKey||l.shiftKey||It(l))return;const u=a("openOnKeyPress"),P=l.ctrlKey||l.metaKey||l.shiftKey,k=!0,$={ArrowDown(M){!u&&!I||(i({type:M.altKey?"OPEN":"INPUT.ARROW_DOWN",keypress:k,src:"arrow-key"}),M.preventDefault())},ArrowUp(){!u&&!I||(i({type:l.altKey?"CLOSE":"INPUT.ARROW_UP",keypress:k,src:"arrow-key"}),l.preventDefault())},Home(M){P||(i({type:"INPUT.HOME",keypress:k}),I&&M.preventDefault())},End(M){P||(i({type:"INPUT.END",keypress:k}),I&&M.preventDefault())},Enter(M){i({type:"INPUT.ENTER",keypress:k,src:"item-select"});const $e=g("isCustomValue")&&a("allowCustomValue"),Ye=C!=null,Je=a("alwaysSubmitOnEnter");if(I&&!$e&&!Je&&Ye&&M.preventDefault(),C==null)return;const ce=z(s,C);bt(ce)&&a("navigate")?.({value:C,node:ce,href:ce.href})},Escape(){i({type:"INPUT.ESCAPE",keypress:k,src:"escape-key"}),l.preventDefault()}},ze=me(l,{dir:a("dir")}),Ke=$[ze];Ke?.(l)}})},getTriggerProps(l={}){return t.button({...S.trigger.attrs,dir:a("dir"),id:Re(s),"aria-haspopup":_?"listbox":"dialog",type:"button",tabIndex:l.focusable?void 0:-1,"aria-label":d.triggerLabel,"aria-expanded":I,"data-state":I?"open":"closed","aria-controls":I?se(s):void 0,disabled:p,"data-invalid":f(c),"data-focusable":f(l.focusable),"data-readonly":f(v),"data-disabled":f(p),onFocus(){l.focusable&&i({type:"INPUT.FOCUS",src:"trigger"})},onClick(u){u.defaultPrevented||w&&Z(u)&&i({type:"TRIGGER.CLICK",src:"trigger-click"})},onPointerDown(u){w&&u.pointerType!=="touch"&&Z(u)&&(u.preventDefault(),queueMicrotask(()=>{q(s)?.focus({preventScroll:!0})}))},onKeyDown(u){if(u.defaultPrevented||_)return;const P={ArrowDown(){i({type:"INPUT.ARROW_DOWN",src:"arrow-key"})},ArrowUp(){i({type:"INPUT.ARROW_UP",src:"arrow-key"})}},k=me(u,{dir:a("dir")}),$=P[k];$&&($(u),u.preventDefault())}})},getContentProps(){return t.element({...S.content.attrs,dir:a("dir"),id:se(s),role:_?"listbox":"dialog",tabIndex:-1,hidden:!I,"data-state":I?"open":"closed","data-placement":n.get("currentPlacement"),"aria-labelledby":de(s),"aria-multiselectable":a("multiple")&&_?!0:void 0,"data-empty":f(x.size===0),onPointerDown(l){Z(l)&&l.preventDefault()}})},getListProps(){return t.element({...S.list.attrs,role:_?void 0:"listbox","data-empty":f(x.size===0),"aria-labelledby":de(s),"aria-multiselectable":a("multiple")&&!_?!0:void 0})},getClearTriggerProps(){return t.button({...S.clearTrigger.attrs,dir:a("dir"),id:He(s),type:"button",tabIndex:-1,disabled:p,"data-invalid":f(c),"aria-label":d.clearTriggerLabel,"aria-controls":ie(s),hidden:!n.get("value").length,onPointerDown(l){Z(l)&&l.preventDefault()},onClick(l){l.defaultPrevented||w&&i({type:"VALUE.CLEAR",src:"clear-trigger"})}})},getItemState:A,getItemProps(l){const u=A(l),P=u.value;return t.element({...S.item.attrs,dir:a("dir"),id:Ce(s,P),role:"option",tabIndex:-1,"data-highlighted":f(u.highlighted),"data-state":u.selected?"checked":"unchecked","aria-selected":ue(u.highlighted),"aria-disabled":ue(u.disabled),"data-disabled":f(u.disabled),"data-value":u.value,onPointerMove(){u.disabled||u.highlighted||i({type:"ITEM.POINTER_MOVE",value:P})},onPointerLeave(){l.persistFocus||u.disabled||!y.previous()?.type.includes("POINTER")||i({type:"ITEM.POINTER_LEAVE",value:P})},onClick(k){ht(k)||mt(k)||vt(k)||u.disabled||i({type:"ITEM.CLICK",src:"item-select",value:P})}})},getItemTextProps(l){const u=A(l);return t.element({...S.itemText.attrs,dir:a("dir"),"data-state":u.selected?"checked":"unchecked","data-disabled":f(u.disabled),"data-highlighted":f(u.highlighted)})},getItemIndicatorProps(l){const u=A(l);return t.element({"aria-hidden":!0,...S.itemIndicator.attrs,dir:a("dir"),"data-state":u.selected?"checked":"unchecked",hidden:!u.selected})},getItemGroupProps(l){const{id:u}=l;return t.element({...S.itemGroup.attrs,dir:a("dir"),id:St(s,u),"aria-labelledby":fe(s,u),"data-empty":f(x.size===0),role:"group"})},getItemGroupLabelProps(l){const{htmlFor:u}=l;return t.element({...S.itemGroupLabel.attrs,dir:a("dir"),id:fe(s,u),role:"presentation"})}}}var{guards:Bt,createMachine:At,choose:Rt}=it(),{and:O,not:L}=Bt,Ht=At({props({props:e}){return{loopFocus:!0,openOnClick:!1,defaultValue:[],defaultInputValue:"",closeOnSelect:!e.multiple,allowCustomValue:!1,alwaysSubmitOnEnter:!1,inputBehavior:"none",selectionBehavior:e.multiple?"clear":"replace",openOnKeyPress:!0,openOnChange:!0,composite:!0,navigate({node:t}){gt(t)},collection:Ne.empty(),...e,positioning:{placement:"bottom",sameWidth:!0,...e.positioning},translations:{triggerLabel:"Toggle suggestions",clearTriggerLabel:"Clear value",...e.translations}}},initialState({prop:e}){return e("open")||e("defaultOpen")?"suggesting":"idle"},context({prop:e,bindable:t,getContext:n,getEvent:a}){return{currentPlacement:t(()=>({defaultValue:void 0})),value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),isEqual:dt,hash(o){return o.join(",")},onChange(o){const i=n(),s=i.get("selectedItems"),g=e("collection"),y=o.map(d=>s.find(p=>g.getItemValue(p)===d)||g.find(d));i.set("selectedItems",y),e("onValueChange")?.({value:o,items:y})}})),highlightedValue:t(()=>({defaultValue:e("defaultHighlightedValue")||null,value:e("highlightedValue"),onChange(o){const i=e("collection").find(o);e("onHighlightChange")?.({highlightedValue:o,highlightedItem:i})}})),inputValue:t(()=>{let o=e("inputValue")||e("defaultInputValue");const i=e("value")||e("defaultValue");if(!o.trim()&&!e("multiple")){const s=e("collection").stringifyMany(i);o=U(e("selectionBehavior"),{preserve:o||s,replace:s,clear:""})}return{defaultValue:o,value:e("inputValue"),onChange(s){const g=a(),y=(g.previousEvent||g).src;e("onInputValueChange")?.({inputValue:s,reason:y})}}}),highlightedItem:t(()=>{const o=e("highlightedValue");return{defaultValue:e("collection").find(o)}}),selectedItems:t(()=>{const o=e("value")||e("defaultValue")||[];return{defaultValue:e("collection").findMany(o)}})}},computed:{isInputValueEmpty:({context:e})=>e.get("inputValue").length===0,isInteractive:({prop:e})=>!(e("readOnly")||e("disabled")),autoComplete:({prop:e})=>e("inputBehavior")==="autocomplete",autoHighlight:({prop:e})=>e("inputBehavior")==="autohighlight",hasSelectedItems:({context:e})=>e.get("value").length>0,valueAsString:({context:e,prop:t})=>t("collection").stringifyItems(e.get("selectedItems")),isCustomValue:({context:e,computed:t})=>e.get("inputValue")!==t("valueAsString")},watch({context:e,prop:t,track:n,action:a,send:o}){n([()=>e.hash("value")],()=>{a(["syncSelectedItems"])}),n([()=>e.get("inputValue")],()=>{a(["syncInputValue"])}),n([()=>e.get("highlightedValue")],()=>{a(["syncHighlightedItem","autofillInputValue"])}),n([()=>t("open")],()=>{a(["toggleVisibility"])}),n([()=>t("collection").toString()],()=>{o({type:"CHILDREN_CHANGE"})})},on:{"SELECTED_ITEMS.SYNC":{actions:["syncSelectedItems"]},"HIGHLIGHTED_VALUE.SET":{actions:["setHighlightedValue"]},"HIGHLIGHTED_VALUE.CLEAR":{actions:["clearHighlightedValue"]},"ITEM.SELECT":{actions:["selectItem"]},"ITEM.CLEAR":{actions:["clearItem"]},"VALUE.SET":{actions:["setValue"]},"INPUT_VALUE.SET":{actions:["setInputValue"]},"POSITIONING.SET":{actions:["reposition"]}},entry:Rt([{guard:"autoFocus",actions:["setInitialFocus"]}]),states:{idle:{tags:["idle","closed"],entry:["scrollContentToTop","clearHighlightedValue"],on:{"CONTROLLED.OPEN":{target:"interacting"},"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["setInitialFocus","highlightFirstSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["setInitialFocus","highlightFirstSelectedItem","invokeOnOpen"]}],"INPUT.CLICK":[{guard:"isOpenControlled",actions:["highlightFirstSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["highlightFirstSelectedItem","invokeOnOpen"]}],"INPUT.FOCUS":{target:"focused"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"interacting",actions:["invokeOnOpen"]}],"VALUE.CLEAR":{target:"focused",actions:["clearInputValue","clearSelectedItems","setInitialFocus"]}}},focused:{tags:["focused","closed"],entry:["scrollContentToTop","clearHighlightedValue"],on:{"CONTROLLED.OPEN":[{guard:"isChangeEvent",target:"suggesting"},{target:"interacting"}],"INPUT.CHANGE":[{guard:O("isOpenControlled","openOnChange"),actions:["setInputValue","invokeOnOpen","highlightFirstItemIfNeeded"]},{guard:"openOnChange",target:"suggesting",actions:["setInputValue","invokeOnOpen","highlightFirstItemIfNeeded"]},{actions:["setInputValue"]}],"LAYER.INTERACT_OUTSIDE":{target:"idle"},"INPUT.ESCAPE":{guard:O("isCustomValue",L("allowCustomValue")),actions:["revertInputValue"]},"INPUT.BLUR":{target:"idle"},"INPUT.CLICK":[{guard:"isOpenControlled",actions:["highlightFirstSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["highlightFirstSelectedItem","invokeOnOpen"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["setInitialFocus","highlightFirstSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["setInitialFocus","highlightFirstSelectedItem","invokeOnOpen"]}],"INPUT.ARROW_DOWN":[{guard:O("isOpenControlled","autoComplete"),actions:["invokeOnOpen"]},{guard:"autoComplete",target:"interacting",actions:["invokeOnOpen"]},{guard:"isOpenControlled",actions:["highlightFirstOrSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["highlightFirstOrSelectedItem","invokeOnOpen"]}],"INPUT.ARROW_UP":[{guard:"autoComplete",target:"interacting",actions:["invokeOnOpen"]},{guard:"autoComplete",target:"interacting",actions:["invokeOnOpen"]},{target:"interacting",actions:["highlightLastOrSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["highlightLastOrSelectedItem","invokeOnOpen"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"interacting",actions:["invokeOnOpen"]}],"VALUE.CLEAR":{actions:["clearInputValue","clearSelectedItems"]}}},interacting:{tags:["open","focused"],entry:["setInitialFocus"],effects:["scrollToHighlightedItem","trackDismissableLayer","trackPlacement"],on:{"CONTROLLED.CLOSE":[{guard:"restoreFocus",target:"focused",actions:["setFinalFocus"]},{target:"idle"}],CHILDREN_CHANGE:[{guard:"isHighlightedItemRemoved",actions:["clearHighlightedValue"]},{actions:["scrollToHighlightedItem"]}],"INPUT.HOME":{actions:["highlightFirstItem"]},"INPUT.END":{actions:["highlightLastItem"]},"INPUT.ARROW_DOWN":[{guard:O("autoComplete","isLastItemHighlighted"),actions:["clearHighlightedValue","scrollContentToTop"]},{actions:["highlightNextItem"]}],"INPUT.ARROW_UP":[{guard:O("autoComplete","isFirstItemHighlighted"),actions:["clearHighlightedValue"]},{actions:["highlightPrevItem"]}],"INPUT.ENTER":[{guard:O("isOpenControlled","isCustomValue",L("hasHighlightedItem"),L("allowCustomValue")),actions:["revertInputValue","invokeOnClose"]},{guard:O("isCustomValue",L("hasHighlightedItem"),L("allowCustomValue")),target:"focused",actions:["revertInputValue","invokeOnClose"]},{guard:O("isOpenControlled","closeOnSelect"),actions:["selectHighlightedItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectHighlightedItem","invokeOnClose","setFinalFocus"]},{actions:["selectHighlightedItem"]}],"INPUT.CHANGE":[{guard:"autoComplete",target:"suggesting",actions:["setInputValue"]},{target:"suggesting",actions:["clearHighlightedValue","setInputValue"]}],"ITEM.POINTER_MOVE":{actions:["setHighlightedValue"]},"ITEM.POINTER_LEAVE":{actions:["clearHighlightedValue"]},"ITEM.CLICK":[{guard:O("isOpenControlled","closeOnSelect"),actions:["selectItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectItem","invokeOnClose","setFinalFocus"]},{actions:["selectItem"]}],"LAYER.ESCAPE":[{guard:O("isOpenControlled","autoComplete"),actions:["syncInputValue","invokeOnClose"]},{guard:"autoComplete",target:"focused",actions:["syncInputValue","invokeOnClose"]},{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","setFinalFocus"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose"]}],"LAYER.INTERACT_OUTSIDE":[{guard:O("isOpenControlled","isCustomValue",L("allowCustomValue")),actions:["revertInputValue","invokeOnClose"]},{guard:O("isCustomValue",L("allowCustomValue")),target:"idle",actions:["revertInputValue","invokeOnClose"]},{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"idle",actions:["invokeOnClose"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","setFinalFocus"]}],"VALUE.CLEAR":[{guard:"isOpenControlled",actions:["clearInputValue","clearSelectedItems","invokeOnClose"]},{target:"focused",actions:["clearInputValue","clearSelectedItems","invokeOnClose","setFinalFocus"]}]}},suggesting:{tags:["open","focused"],effects:["trackDismissableLayer","scrollToHighlightedItem","trackPlacement"],entry:["setInitialFocus"],on:{"CONTROLLED.CLOSE":[{guard:"restoreFocus",target:"focused",actions:["setFinalFocus"]},{target:"idle"}],CHILDREN_CHANGE:[{guard:O("isHighlightedItemRemoved","hasCollectionItems","autoHighlight"),actions:["clearHighlightedValue","highlightFirstItem"]},{guard:"isHighlightedItemRemoved",actions:["clearHighlightedValue"]},{guard:"autoHighlight",actions:["highlightFirstItem"]}],"INPUT.ARROW_DOWN":{target:"interacting",actions:["highlightNextItem"]},"INPUT.ARROW_UP":{target:"interacting",actions:["highlightPrevItem"]},"INPUT.HOME":{target:"interacting",actions:["highlightFirstItem"]},"INPUT.END":{target:"interacting",actions:["highlightLastItem"]},"INPUT.ENTER":[{guard:O("isOpenControlled","isCustomValue",L("hasHighlightedItem"),L("allowCustomValue")),actions:["revertInputValue","invokeOnClose"]},{guard:O("isCustomValue",L("hasHighlightedItem"),L("allowCustomValue")),target:"focused",actions:["revertInputValue","invokeOnClose"]},{guard:O("isOpenControlled","closeOnSelect"),actions:["selectHighlightedItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectHighlightedItem","invokeOnClose","setFinalFocus"]},{actions:["selectHighlightedItem"]}],"INPUT.CHANGE":{actions:["setInputValue"]},"LAYER.ESCAPE":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose"]}],"ITEM.POINTER_MOVE":{target:"interacting",actions:["setHighlightedValue"]},"ITEM.POINTER_LEAVE":{actions:["clearHighlightedValue"]},"LAYER.INTERACT_OUTSIDE":[{guard:O("isOpenControlled","isCustomValue",L("allowCustomValue")),actions:["revertInputValue","invokeOnClose"]},{guard:O("isCustomValue",L("allowCustomValue")),target:"idle",actions:["revertInputValue","invokeOnClose"]},{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"idle",actions:["invokeOnClose"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose"]}],"ITEM.CLICK":[{guard:O("isOpenControlled","closeOnSelect"),actions:["selectItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectItem","invokeOnClose","setFinalFocus"]},{actions:["selectItem"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","setFinalFocus"]}],"VALUE.CLEAR":[{guard:"isOpenControlled",actions:["clearInputValue","clearSelectedItems","invokeOnClose"]},{target:"focused",actions:["clearInputValue","clearSelectedItems","invokeOnClose","setFinalFocus"]}]}}},implementations:{guards:{isInputValueEmpty:({computed:e})=>e("isInputValueEmpty"),autoComplete:({computed:e,prop:t})=>e("autoComplete")&&!t("multiple"),autoHighlight:({computed:e})=>e("autoHighlight"),isFirstItemHighlighted:({prop:e,context:t})=>e("collection").firstValue===t.get("highlightedValue"),isLastItemHighlighted:({prop:e,context:t})=>e("collection").lastValue===t.get("highlightedValue"),isCustomValue:({computed:e})=>e("isCustomValue"),allowCustomValue:({prop:e})=>!!e("allowCustomValue"),hasHighlightedItem:({context:e})=>e.get("highlightedValue")!=null,closeOnSelect:({prop:e})=>!!e("closeOnSelect"),isOpenControlled:({prop:e})=>e("open")!=null,openOnChange:({prop:e,context:t})=>{const n=e("openOnChange");return ut(n)?n:!!n?.({inputValue:t.get("inputValue")})},restoreFocus:({event:e})=>{const t=e.restoreFocus??e.previousEvent?.restoreFocus;return t==null?!0:!!t},isChangeEvent:({event:e})=>e.previousEvent?.type==="INPUT.CHANGE",autoFocus:({prop:e})=>!!e("autoFocus"),isHighlightedItemRemoved:({prop:e,context:t})=>!e("collection").has(t.get("highlightedValue")),hasCollectionItems:({prop:e})=>e("collection").size>0},effects:{trackDismissableLayer({send:e,prop:t,scope:n}){return t("disableLayer")?void 0:Vt(()=>W(n),{type:"listbox",defer:!0,exclude:()=>[q(n),J(n),kt(n)],onFocusOutside:t("onFocusOutside"),onPointerDownOutside:t("onPointerDownOutside"),onInteractOutside:t("onInteractOutside"),onEscapeKeyDown(o){o.preventDefault(),o.stopPropagation(),e({type:"LAYER.ESCAPE",src:"escape-key"})},onDismiss(){e({type:"LAYER.INTERACT_OUTSIDE",src:"interact-outside",restoreFocus:!1})}})},trackPlacement({context:e,prop:t,scope:n}){const a=()=>ye(n)||J(n),o=()=>be(n);return e.set("currentPlacement",t("positioning").placement),Ie(a,o,{...t("positioning"),defer:!0,onComplete(i){e.set("currentPlacement",i.placement)}})},scrollToHighlightedItem({context:e,prop:t,scope:n,event:a}){const o=q(n);let i=[];const s=d=>{const x=a.current().type.includes("POINTER"),p=e.get("highlightedValue");if(x||!p)return;const w=W(n),c=t("scrollToIndexFn");if(c){const I=t("collection").indexOf(p);c({index:I,immediate:d,getElement:()=>z(n,p)});return}const h=z(n,p),v=R(()=>{ve(h,{rootEl:w,block:"nearest"})});i.push(v)},g=R(()=>s(!0));i.push(g);const y=ct(o,{attributes:["aria-activedescendant"],callback:()=>s(!1)});return i.push(y),()=>{i.forEach(d=>d())}}},actions:{reposition({context:e,prop:t,scope:n,event:a}){Ie(()=>ye(n),()=>be(n),{...t("positioning"),...a.options,defer:!0,listeners:!1,onComplete(s){e.set("currentPlacement",s.placement)}})},setHighlightedValue({context:e,event:t}){t.value!=null&&e.set("highlightedValue",t.value)},clearHighlightedValue({context:e}){e.set("highlightedValue",null)},selectHighlightedItem(e){const{context:t,prop:n}=e,a=n("collection"),o=t.get("highlightedValue");if(!o||!a.has(o))return;const i=n("multiple")?he(t.get("value"),o):[o];n("onSelect")?.({value:i,itemValue:o}),t.set("value",i);const s=U(n("selectionBehavior"),{preserve:t.get("inputValue"),replace:a.stringifyMany(i),clear:""});t.set("inputValue",s)},scrollToHighlightedItem({context:e,prop:t,scope:n}){rt(()=>{const a=e.get("highlightedValue");if(a==null)return;const o=z(n,a),i=W(n),s=t("scrollToIndexFn");if(s){const g=t("collection").indexOf(a);s({index:g,immediate:!0,getElement:()=>z(n,a)});return}ve(o,{rootEl:i,block:"nearest"})})},selectItem(e){const{context:t,event:n,flush:a,prop:o}=e;n.value!=null&&a(()=>{const i=o("multiple")?he(t.get("value"),n.value):[n.value];o("onSelect")?.({value:i,itemValue:n.value}),t.set("value",i);const s=U(o("selectionBehavior"),{preserve:t.get("inputValue"),replace:o("collection").stringifyMany(i),clear:""});t.set("inputValue",s)})},clearItem(e){const{context:t,event:n,flush:a,prop:o}=e;n.value!=null&&a(()=>{const i=lt(t.get("value"),n.value);t.set("value",i);const s=U(o("selectionBehavior"),{preserve:t.get("inputValue"),replace:o("collection").stringifyMany(i),clear:""});t.set("inputValue",s)})},setInitialFocus({scope:e}){R(()=>{xe(e)})},setFinalFocus({scope:e}){R(()=>{J(e)?.dataset.focusable==null?xe(e):Lt(e)})},syncInputValue({context:e,scope:t,event:n}){const a=q(t);a&&(a.value=e.get("inputValue"),queueMicrotask(()=>{n.current().type!=="INPUT.CHANGE"&&st(a)}))},setInputValue({context:e,event:t}){e.set("inputValue",t.value)},clearInputValue({context:e}){e.set("inputValue","")},revertInputValue({context:e,prop:t,computed:n}){const a=t("selectionBehavior"),o=U(a,{replace:n("hasSelectedItems")?n("valueAsString"):"",preserve:e.get("inputValue"),clear:""});e.set("inputValue",o)},setValue(e){const{context:t,flush:n,event:a,prop:o}=e;n(()=>{t.set("value",a.value);const i=U(o("selectionBehavior"),{preserve:t.get("inputValue"),replace:o("collection").stringifyMany(a.value),clear:""});t.set("inputValue",i)})},clearSelectedItems(e){const{context:t,flush:n,prop:a}=e;n(()=>{t.set("value",[]);const o=U(a("selectionBehavior"),{preserve:t.get("inputValue"),replace:a("collection").stringifyMany([]),clear:""});t.set("inputValue",o)})},scrollContentToTop({prop:e,scope:t}){const n=e("scrollToIndexFn");if(n){const a=e("collection").firstValue;n({index:0,immediate:!0,getElement:()=>z(t,a)})}else{const a=W(t);if(!a)return;a.scrollTop=0}},invokeOnOpen({prop:e,event:t,context:n}){const a=Oe(t);e("onOpenChange")?.({open:!0,reason:a,value:n.get("value")})},invokeOnClose({prop:e,event:t,context:n}){const a=Oe(t);e("onOpenChange")?.({open:!1,reason:a,value:n.get("value")})},highlightFirstItem({context:e,prop:t,scope:n}){(W(n)?queueMicrotask:R)(()=>{const o=t("collection").firstValue;o&&e.set("highlightedValue",o)})},highlightFirstItemIfNeeded({computed:e,action:t}){e("autoHighlight")&&t(["highlightFirstItem"])},highlightLastItem({context:e,prop:t,scope:n}){(W(n)?queueMicrotask:R)(()=>{const o=t("collection").lastValue;o&&e.set("highlightedValue",o)})},highlightNextItem({context:e,prop:t}){let n=null;const a=e.get("highlightedValue"),o=t("collection");a?(n=o.getNextValue(a),!n&&t("loopFocus")&&(n=o.firstValue)):n=o.firstValue,n&&e.set("highlightedValue",n)},highlightPrevItem({context:e,prop:t}){let n=null;const a=e.get("highlightedValue"),o=t("collection");a?(n=o.getPreviousValue(a),!n&&t("loopFocus")&&(n=o.lastValue)):n=o.lastValue,n&&e.set("highlightedValue",n)},highlightFirstSelectedItem({context:e,prop:t}){R(()=>{const[n]=t("collection").sort(e.get("value"));n&&e.set("highlightedValue",n)})},highlightFirstOrSelectedItem({context:e,prop:t,computed:n}){R(()=>{let a=null;n("hasSelectedItems")?a=t("collection").sort(e.get("value"))[0]:a=t("collection").firstValue,a&&e.set("highlightedValue",a)})},highlightLastOrSelectedItem({context:e,prop:t,computed:n}){R(()=>{const a=t("collection");let o=null;n("hasSelectedItems")?o=a.sort(e.get("value"))[0]:o=a.lastValue,o&&e.set("highlightedValue",o)})},autofillInputValue({context:e,computed:t,prop:n,event:a,scope:o}){const i=q(o),s=n("collection");if(!t("autoComplete")||!i||!a.keypress)return;const g=s.stringify(e.get("highlightedValue"));R(()=>{i.value=g||e.get("inputValue")})},syncSelectedItems(e){queueMicrotask(()=>{const{context:t,prop:n}=e,a=n("collection"),o=t.get("value"),i=o.map(g=>t.get("selectedItems").find(d=>a.getItemValue(d)===g)||a.find(g));t.set("selectedItems",i);const s=U(n("selectionBehavior"),{preserve:t.get("inputValue"),replace:a.stringifyMany(o),clear:""});t.set("inputValue",s)})},syncHighlightedItem({context:e,prop:t}){const n=t("collection").find(e.get("highlightedValue"));e.set("highlightedItem",n)},toggleVisibility({event:e,send:t,prop:n}){t({type:n("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:e})}}}});function Oe(e){return(e.previousEvent||e).src}re()(["allowCustomValue","autoFocus","closeOnSelect","collection","composite","defaultHighlightedValue","defaultInputValue","defaultOpen","defaultValue","dir","disabled","disableLayer","form","getRootNode","highlightedValue","id","ids","inputBehavior","inputValue","invalid","loopFocus","multiple","name","navigate","onFocusOutside","onHighlightChange","onInputValueChange","onInteractOutside","onOpenChange","onOpenChange","onPointerDownOutside","onSelect","onValueChange","open","openOnChange","openOnClick","openOnKeyPress","placeholder","positioning","readOnly","required","scrollToIndexFn","selectionBehavior","translations","value","alwaysSubmitOnEnter"]);re()(["htmlFor"]);re()(["id"]);re()(["item","persistFocus"]);const Ve=e=>e.children(F()),De=b.forwardRef((e,t)=>{const n=F(),a=B(n.getControlProps(),e);return r.jsx(D.div,{...a,ref:t})});De.displayName="ComboboxControl";const Fe=b.forwardRef((e,t)=>{const n=F(),a=B(n.getInputProps(),e),o=Se();return r.jsx(D.input,{"aria-describedby":o?.ariaDescribedby,...a,ref:t})});Fe.displayName="ComboboxInput";const[Dt]=le({name:"ComboboxItemContext",hookName:"useComboboxItemContext",providerName:"<ComboboxItemProvider />"}),[Ft,_t]=le({name:"ComboboxItemPropsContext",hookName:"useComboboxItemPropsContext",providerName:"<ComboboxItemPropsProvider />"}),Mt=Q(),_e=b.forwardRef((e,t)=>{const[n,a]=Mt(e,["item","persistFocus"]),o=F(),i=B(o.getItemProps(n),a),s=o.getItemState(n);return r.jsx(Ft,{value:n,children:r.jsx(Dt,{value:s,children:r.jsx(D.div,{...i,ref:t})})})});_e.displayName="ComboboxItem";const[Ut]=le({name:"ComboboxItemGroupPropsContext",hookName:"useComboboxItemGroupPropsContext",providerName:"<ComboboxItemGroupPropsProvider />"}),jt=Q(),Me=b.forwardRef((e,t)=>{const n=b.useId(),[a,o]=jt(e,["id"]),i={id:n,...a},s=F(),g=B(s.getItemGroupProps(i),o);return r.jsx(Ut,{value:i,children:r.jsx(D.div,{...g,ref:t})})});Me.displayName="ComboboxItemGroup";const Ue=b.forwardRef((e,t)=>{const n=F(),a=_t(),o=B(n.getItemTextProps(a),e);return r.jsx(D.span,{...o,ref:t})});Ue.displayName="ComboboxItemText";const je=b.forwardRef((e,t)=>{const n=F(),a=Te(),o=B(n.getPositionerProps(),e);return a.unmounted?null:r.jsx(D.div,{...o,ref:t})});je.displayName="ComboboxPositioner";const Gt=e=>{const t=b.useId(),{dir:n}=we(),{getRootNode:a}=et(),o=Se(),i={id:t,ids:{label:o?.ids.label,input:o?.ids.control},disabled:o?.disabled,readOnly:o?.readOnly,required:o?.required,invalid:o?.invalid,dir:n,getRootNode:a,...e},s=yt(Ht,i);return Nt(s,xt)},Wt=(e,t)=>{const[n,a]=at(e),[o,i]=Q()(a,["allowCustomValue","alwaysSubmitOnEnter","autoFocus","closeOnSelect","collection","composite","defaultHighlightedValue","defaultInputValue","defaultOpen","defaultValue","disabled","disableLayer","form","highlightedValue","id","ids","inputBehavior","inputValue","invalid","loopFocus","multiple","name","navigate","onFocusOutside","onHighlightChange","onInputValueChange","onInteractOutside","onOpenChange","onPointerDownOutside","onSelect","onValueChange","open","openOnChange","openOnClick","openOnKeyPress","placeholder","positioning","readOnly","required","scrollToIndexFn","selectionBehavior","translations","value"]),s=Gt(o),g=tt(B({present:s.open},n)),y=B(s.getRootProps(),i);return r.jsx(wt,{value:s,children:r.jsx(nt,{value:g,children:r.jsx(D.div,{...y,ref:t})})})},qt=b.forwardRef(Wt),zt=Q(),Ge=b.forwardRef((e,t)=>{const[n,a]=zt(e,["focusable"]),o=F(),i=B(o.getTriggerProps(n),a);return r.jsx(D.button,{...i,ref:t})});Ge.displayName="ComboboxTrigger";function Kt(e){const t=we(),n=e.locale??t.locale;return b.useMemo(()=>Xe({...e,locale:n}),[n,e])}var ge=(e,t)=>{const n=[],a=(o,i,s)=>{i-o>0&&n.push({start:o,end:i,match:s})};if(e.length===0)a(0,t,!1);else{let o=0;for(const i of e)a(o,i.start,!1),a(i.start,i.end,!0),o=i.end;a(o,t,!1)}return n},We=e=>e.replace(/[|\\{}()[\]^$+*?.-]/g,t=>`\\${t}`);function $t(e){const{text:t,query:n,ignoreCase:a,exactMatch:o}=e;if(o){const x=We(n),p=new RegExp(`\\b(${x})\\b`,a?"i":""),w=t.match(p);if(!w||w.index===void 0)return[{text:t,match:!1}];const c=w.index,h=c+w[0].length;return ge([{start:c,end:h}],t.length).map(I=>({text:t.slice(I.start,I.end),match:!!I.match}))}const i=a?t.toLowerCase():t,s=a&&typeof n=="string"?n.toLowerCase():n,g=typeof i=="string"?i.indexOf(s):-1;if(g===-1)return[{text:t,match:!1}];const y=g+s.length;return ge([{start:g,end:y}],t.length).map(x=>({text:t.slice(x.start,x.end),match:!!x.match}))}var Yt=(e,t,n)=>{const a=e.filter(Boolean).map(i=>We(i)),o=n?`\\b(${a.join("|")})\\b`:`(${a.join("|")})`;return new RegExp(o,t)},Jt=(e,t=!0)=>`${e?"i":""}${t?"g":""}`;function Qt(e){const{text:t,query:n,ignoreCase:a,matchAll:o,exactMatch:i}=e;if(n.length===0)return[{text:t,match:!1}];const s=Jt(a,o),g=Yt(Array.isArray(n)?n:[n],s,i),y=[...t.matchAll(g)].map(d=>({start:d.index||0,end:(d.index||0)+d[0].length}));return ge(y,e.text.length).map(d=>({text:e.text.slice(d.start,d.end),match:!!d.match}))}var Xt=e=>{if(e.matchAll==null&&(e.matchAll=Array.isArray(e.query)),!e.matchAll&&Array.isArray(e.query))throw new Error("matchAll must be true when using multiple queries");return e.matchAll?Qt(e):$t(e)};const Zt=e=>b.useMemo(()=>Xt(e),[e]),en=Q(),tn=e=>{if(typeof e.text!="string")throw new Error("[ark-ui/highlight] text must be a string");const[t,n]=en(e,["query","text","ignoreCase","matchAll","exactMatch"]),a=Zt(t);return r.jsx(b.Fragment,{children:a.map(({text:o,match:i},s)=>i?r.jsx("mark",{...n,children:o},s):r.jsx(b.Fragment,{children:o},s))})},nn="_root_z8zhg_41",an="_control_z8zhg_48",on="_input_z8zhg_59",sn="_startAdornment_z8zhg_130",ln="_iconContainer_z8zhg_138",rn="_clearButton_z8zhg_145",cn="_trigger_z8zhg_173",un="_positioner_z8zhg_206",dn="_content_z8zhg_211",gn="_itemGroup_z8zhg_272",pn="_item_z8zhg_272",hn="_itemIcon_z8zhg_294",mn="_itemText_z8zhg_324",vn="_noMatches_z8zhg_338",In="_disabled_z8zhg_345",fn="_invalid_z8zhg_365",T={root:nn,control:an,input:on,startAdornment:sn,iconContainer:ln,clearButton:rn,trigger:cn,positioner:un,content:dn,itemGroup:gn,item:pn,itemIcon:hn,itemText:mn,noMatches:vn,disabled:In,invalid:fn},H=({id:e,options:t,style:n,className:a,placeholder:o="Start typing to search...",disabled:i=!1,invalid:s=!1,onValueChange:g,onInputValueChange:y,noMatchesMessage:d="No matches found",highlightMatch:x=!0,showTrigger:p=!0,startAdornment:w})=>{const c=Kt({sensitivity:"base"}),{collection:h,filter:v}=Et({initialItems:t.map(C=>C.label),filter:(C,N)=>c.contains(C,N)}),I=C=>{v(C.inputValue),y?.(C.inputValue)},G=C=>{const N=C.value[0];if(!N)return;const A=t.find(l=>l.label===N);A&&g?.(A.value)},_=Qe(T.root,{[T.disabled]:i,[T.invalid]:s},a);return r.jsxs(qt,{id:e,collection:h,className:_,style:n,disabled:i,invalid:s,onInputValueChange:I,onValueChange:G,closeOnSelect:!0,children:[r.jsxs(De,{className:T.control,children:[w&&r.jsx("span",{className:T.startAdornment,children:w}),r.jsx(Fe,{className:T.input,placeholder:o}),r.jsx(Ve,{children:C=>r.jsxs("div",{className:T.iconContainer,children:[C.inputValue&&!i&&r.jsx(ke,{className:T.clearButton,"aria-label":"Clear",children:r.jsx(Y,{icon:"close",size:"medium"})}),p&&r.jsx(Ge,{className:T.trigger,"aria-label":"Toggle dropdown",children:r.jsx(Y,{icon:"keyboard_arrow_down",size:"medium"})})]})})]}),r.jsx(ot,{children:r.jsx(je,{className:T.positioner,children:r.jsx(Le,{className:T.content,children:h.items.length===0?r.jsx("div",{className:T.noMatches,children:d}):r.jsx(Me,{className:T.itemGroup,children:r.jsx(Ve,{children:C=>h.items.map(N=>{const A=t.find(l=>l.label===N);return r.jsxs(_e,{item:N,className:T.item,children:[A?.icon&&r.jsx(Y,{className:T.itemIcon,icon:A.icon,"aria-hidden":"true"}),r.jsx(Ue,{className:T.itemText,children:x?r.jsx(tn,{query:C.inputValue,text:N,ignoreCase:!0}):N})]},N)})})})})})})]})};H.__docgenInfo={description:"",methods:[],displayName:"DsAutocomplete",props:{id:{required:!1,tsType:{name:"string"},description:"Unique identifier for the autocomplete component"},options:{required:!0,tsType:{name:"Array",elements:[{name:"DsAutocompleteOption"}],raw:"DsAutocompleteOption[]"},description:"Options to display in the dropdown"},style:{required:!1,tsType:{name:"ReactCSSProperties",raw:"React.CSSProperties"},description:"Additional styles to apply to the component"},className:{required:!1,tsType:{name:"string"},description:"Additional CSS class names"},placeholder:{required:!1,tsType:{name:"string"},description:"Placeholder text to display when input is empty",defaultValue:{value:"'Start typing to search...'",computed:!1}},disabled:{required:!1,tsType:{name:"boolean"},description:"Whether the autocomplete is disabled",defaultValue:{value:"false",computed:!1}},invalid:{required:!1,tsType:{name:"boolean"},description:"Whether the autocomplete is in an invalid state",defaultValue:{value:"false",computed:!1}},onValueChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:"Event handler called when the value changes (when an option is selected or custom value is entered)"},onInputValueChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:"Event handler called when the input value changes (on every keystroke)"},noMatchesMessage:{required:!1,tsType:{name:"string"},description:`Message to display when no options match the input
@default 'No matches found'`,defaultValue:{value:"'No matches found'",computed:!1}},highlightMatch:{required:!1,tsType:{name:"boolean"},description:`Whether to highlight the matching text in the dropdown options
@default true`,defaultValue:{value:"true",computed:!1}},showTrigger:{required:!1,tsType:{name:"boolean"},description:`Whether to show the dropdown trigger (arrow) button.
If false, the dropdown will only open on typing.
@default true`,defaultValue:{value:"true",computed:!1}},startAdornment:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"Content to display at the start of the input (e.g., a search icon)."}}};const{expect:m,fn:Ee,screen:j,userEvent:V,within:X}=__STORYBOOK_MODULE_TEST__,Dn={title:"Design System/Autocomplete",component:H,parameters:{layout:"centered"},tags:["autodocs"],argTypes:{options:{control:"object",description:"Options to display in the autocomplete dropdown"},placeholder:{control:"text",description:"Placeholder text when input is empty"},highlightMatch:{control:"boolean",description:"Whether to highlight the matching text in the dropdown options"},showTrigger:{control:"boolean",description:"Whether to show the dropdown trigger (arrow) button"},startAdornment:{control:"object",description:"Content to display at the start of the input (e.g., a search icon)"},noMatchesMessage:{control:"text",description:"Message to display when no options match the input"}},args:{onValueChange:Ee(),onInputValueChange:Ee()}},K=[{value:"apple",label:"Apple"},{value:"banana",label:"Banana"},{value:"cherry",label:"Cherry"},{value:"date",label:"Date"},{value:"elderberry",label:"Elderberry"},{value:"fig",label:"Fig"},{value:"grape",label:"Grape"},{value:"honeydew",label:"Honeydew"},{value:"kiwi",label:"Kiwi"},{value:"lemon",label:"Lemon"},{value:"mango",label:"Mango"},{value:"nectarine",label:"Nectarine"}],qe=[{value:"us",label:"United States"},{value:"uk",label:"United Kingdom"},{value:"ca",label:"Canada"},{value:"au",label:"Australia"},{value:"de",label:"Germany"},{value:"fr",label:"France"},{value:"it",label:"Italy"},{value:"es",label:"Spain"},{value:"jp",label:"Japan"},{value:"cn",label:"China"}],ee={render:e=>r.jsx(H,{...e}),args:{options:K,showTrigger:!0,placeholder:"Select or type to search...",style:{width:"300px"}},play:async({args:e,canvasElement:t})=>{const n=X(t),a=n.getByRole("combobox"),o=n.getByLabelText("Toggle dropdown");await m(o).toBeInTheDocument(),await V.click(o);const i=await j.findByRole("option",{name:/Apple/i});await m(i).toBeInTheDocument(),await V.click(a),await m(a).toHaveFocus(),await V.type(a,"b"),await m(j.queryByRole("option",{name:/Apple/i})).not.toBeInTheDocument(),await m(j.getByRole("option",{name:/Banana/i})).toBeInTheDocument(),await m(e.onInputValueChange).toHaveBeenLastCalledWith("b"),await V.click(j.getByRole("option",{name:/Banana/i})),await m(e.onInputValueChange).toHaveBeenLastCalledWith("Banana"),await m(e.onValueChange).toHaveBeenCalledWith("banana");const s=n.getByLabelText("Clear");await V.click(s),await m(e.onInputValueChange).toHaveBeenCalledWith("")}},te={render:e=>r.jsx(H,{...e}),args:{options:K,showTrigger:!1,placeholder:"Start typing to search...",style:{width:"300px"}},play:async({args:e,canvasElement:t})=>{const n=X(t),a=n.getByRole("combobox"),o=n.queryByLabelText("Toggle dropdown");await m(o).not.toBeInTheDocument(),await V.click(a),await m(a).toHaveFocus(),await m(n.queryByRole("listbox")).not.toBeInTheDocument(),await V.type(a,"a"),await m(e.onInputValueChange).toHaveBeenLastCalledWith("a");const i=await j.findByRole("option",{name:/Apple/i});await m(i).toBeInTheDocument(),await V.click(i),await m(e.onInputValueChange).toHaveBeenLastCalledWith("Apple"),await m(e.onValueChange).toHaveBeenCalledWith("apple");const s=n.getByLabelText("Clear");await V.click(s),await m(e.onInputValueChange).toHaveBeenCalledWith("")}},ne={render:e=>r.jsx(H,{...e}),args:{options:qe,showTrigger:!1,startAdornment:r.jsx(Y,{icon:"search",size:"medium","aria-label":"search icon"}),placeholder:"Search countries...",style:{width:"300px"}},play:async({args:e,canvasElement:t})=>{const n=X(t),a=n.getByRole("combobox"),o=n.getByLabelText("search icon");await m(o).toBeInTheDocument(),await V.type(a,"Sta"),await m(e.onInputValueChange).toHaveBeenLastCalledWith("Sta");const i=await j.findByRole("option",{name:/United States/i});await m(i).toBeInTheDocument(),await V.click(i),await m(e.onInputValueChange).toHaveBeenCalledWith("United States"),await m(e.onValueChange).toHaveBeenCalledWith("us")}},ae={render:()=>r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[r.jsxs("div",{style:{width:"300px"},children:[r.jsx("p",{children:"Default (with trigger)"}),r.jsx(H,{options:K,showTrigger:!0,placeholder:"Select or type..."})]}),r.jsxs("div",{style:{width:"300px"},children:[r.jsx("p",{children:"Search Mode (no trigger)"}),r.jsx(H,{options:K,showTrigger:!1,placeholder:"Start typing..."})]}),r.jsxs("div",{style:{width:"300px"},children:[r.jsx("p",{children:"Search with Icon"}),r.jsx(H,{options:qe,showTrigger:!1,startAdornment:r.jsx(Y,{icon:"search",size:"medium","aria-label":"search icon"}),placeholder:"Search countries..."})]})]}),play:async({canvasElement:e})=>{const n=X(e).getAllByRole("combobox");await m(n).toHaveLength(3);const a=n[0];await V.click(a),await m(a).toHaveFocus(),await V.type(a,"ap");const o=await j.findByText("Apple");await m(o).toBeInTheDocument(),await V.clear(a),await V.keyboard("{Escape}");const i=n[1];await V.click(i),await V.type(i,"ban");const s=await j.findByText("Banana");await m(s).toBeInTheDocument(),await V.clear(i),await V.keyboard("{Escape}")}},oe={render:()=>r.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[r.jsxs("div",{style:{width:"300px"},children:[r.jsx("p",{children:"Disabled"}),r.jsx(H,{options:K,disabled:!0,placeholder:"Disabled autocomplete..."})]}),r.jsxs("div",{style:{width:"300px"},children:[r.jsx("p",{children:"Invalid"}),r.jsx(H,{options:K,invalid:!0,placeholder:"Invalid autocomplete..."})]})]}),play:async({canvasElement:e})=>{const n=X(e).getAllByRole("combobox");await m(n).toHaveLength(2);const a=n[0];await m(a).toBeDisabled();const o=n[1];await m(o).toBeInTheDocument(),await m(o).not.toBeDisabled()}};ee.parameters={...ee.parameters,docs:{...ee.parameters?.docs,source:{originalSource:`{
  render: args => <DsAutocomplete {...args} />,
  args: {
    options: mockOptions,
    showTrigger: true,
    placeholder: 'Select or type to search...',
    style: {
      width: '300px'
    }
  },
  play: async ({
    args,
    canvasElement
  }) => {
    const canvas = within(canvasElement);
    const input = canvas.getByRole('combobox');
    const trigger = canvas.getByLabelText('Toggle dropdown');
    await expect(trigger).toBeInTheDocument();
    await userEvent.click(trigger);
    const appleOption = await screen.findByRole('option', {
      name: /Apple/i
    });
    await expect(appleOption).toBeInTheDocument();
    await userEvent.click(input);
    await expect(input).toHaveFocus();
    await userEvent.type(input, 'b');
    await expect(screen.queryByRole('option', {
      name: /Apple/i
    })).not.toBeInTheDocument();
    await expect(screen.getByRole('option', {
      name: /Banana/i
    })).toBeInTheDocument();
    await expect(args.onInputValueChange).toHaveBeenLastCalledWith('b');
    await userEvent.click(screen.getByRole('option', {
      name: /Banana/i
    }));
    await expect(args.onInputValueChange).toHaveBeenLastCalledWith('Banana');
    await expect(args.onValueChange).toHaveBeenCalledWith('banana');
    const clearButton = canvas.getByLabelText('Clear');
    await userEvent.click(clearButton);
    await expect(args.onInputValueChange).toHaveBeenCalledWith('');
  }
}`,...ee.parameters?.docs?.source}}};te.parameters={...te.parameters,docs:{...te.parameters?.docs,source:{originalSource:`{
  render: args => <DsAutocomplete {...args} />,
  args: {
    options: mockOptions,
    showTrigger: false,
    placeholder: 'Start typing to search...',
    style: {
      width: '300px'
    }
  },
  play: async ({
    args,
    canvasElement
  }) => {
    const canvas = within(canvasElement);
    const input = canvas.getByRole('combobox');
    const trigger = canvas.queryByLabelText('Toggle dropdown');
    await expect(trigger).not.toBeInTheDocument();
    await userEvent.click(input);
    await expect(input).toHaveFocus();
    await expect(canvas.queryByRole('listbox')).not.toBeInTheDocument();
    await userEvent.type(input, 'a');
    await expect(args.onInputValueChange).toHaveBeenLastCalledWith('a');
    const appleOption = await screen.findByRole('option', {
      name: /Apple/i
    });
    await expect(appleOption).toBeInTheDocument();
    await userEvent.click(appleOption);
    await expect(args.onInputValueChange).toHaveBeenLastCalledWith('Apple');
    await expect(args.onValueChange).toHaveBeenCalledWith('apple');
    const clearButton = canvas.getByLabelText('Clear');
    await userEvent.click(clearButton);
    await expect(args.onInputValueChange).toHaveBeenCalledWith('');
  }
}`,...te.parameters?.docs?.source}}};ne.parameters={...ne.parameters,docs:{...ne.parameters?.docs,source:{originalSource:`{
  render: args => <DsAutocomplete {...args} />,
  args: {
    options: countries,
    showTrigger: false,
    startAdornment: <DsIcon icon="search" size="medium" aria-label="search icon" />,
    placeholder: 'Search countries...',
    style: {
      width: '300px'
    }
  },
  play: async ({
    args,
    canvasElement
  }) => {
    const canvas = within(canvasElement);
    const input = canvas.getByRole('combobox');
    const searchIcon = canvas.getByLabelText('search icon');
    await expect(searchIcon).toBeInTheDocument();
    await userEvent.type(input, 'Sta');
    await expect(args.onInputValueChange).toHaveBeenLastCalledWith('Sta');
    const usOption = await screen.findByRole('option', {
      name: /United States/i
    });
    await expect(usOption).toBeInTheDocument();
    await userEvent.click(usOption);
    await expect(args.onInputValueChange).toHaveBeenCalledWith('United States');
    await expect(args.onValueChange).toHaveBeenCalledWith('us');
  }
}`,...ne.parameters?.docs?.source}}};ae.parameters={...ae.parameters,docs:{...ae.parameters?.docs,source:{originalSource:`{
  render: () => <div style={{
    display: 'flex',
    flexDirection: 'column',
    gap: '20px'
  }}>
            <div style={{
      width: '300px'
    }}>
                <p>Default (with trigger)</p>
                <DsAutocomplete options={mockOptions} showTrigger placeholder="Select or type..." />
            </div>
            <div style={{
      width: '300px'
    }}>
                <p>Search Mode (no trigger)</p>
                <DsAutocomplete options={mockOptions} showTrigger={false} placeholder="Start typing..." />
            </div>
            <div style={{
      width: '300px'
    }}>
                <p>Search with Icon</p>
                <DsAutocomplete options={countries} showTrigger={false} startAdornment={<DsIcon icon="search" size="medium" aria-label="search icon" />} placeholder="Search countries..." />
            </div>
        </div>,
  play: async ({
    canvasElement
  }) => {
    const canvas = within(canvasElement);
    const inputs = canvas.getAllByRole('combobox');
    await expect(inputs).toHaveLength(3);
    const defaultInput = inputs[0] as HTMLInputElement;
    await userEvent.click(defaultInput);
    await expect(defaultInput).toHaveFocus();
    await userEvent.type(defaultInput, 'ap');
    const appleOption = await screen.findByText('Apple');
    await expect(appleOption).toBeInTheDocument();
    await userEvent.clear(defaultInput);
    await userEvent.keyboard('{Escape}');
    const searchModeInput = inputs[1] as HTMLInputElement;
    await userEvent.click(searchModeInput);
    await userEvent.type(searchModeInput, 'ban');
    const bananaOption = await screen.findByText('Banana');
    await expect(bananaOption).toBeInTheDocument();
    await userEvent.clear(searchModeInput);
    await userEvent.keyboard('{Escape}');
  }
}`,...ae.parameters?.docs?.source}}};oe.parameters={...oe.parameters,docs:{...oe.parameters?.docs,source:{originalSource:`{
  render: () => <div style={{
    display: 'flex',
    flexDirection: 'column',
    gap: '20px'
  }}>
            <div style={{
      width: '300px'
    }}>
                <p>Disabled</p>
                <DsAutocomplete options={mockOptions} disabled placeholder="Disabled autocomplete..." />
            </div>
            <div style={{
      width: '300px'
    }}>
                <p>Invalid</p>
                <DsAutocomplete options={mockOptions} invalid placeholder="Invalid autocomplete..." />
            </div>
        </div>,
  play: async ({
    canvasElement
  }) => {
    const canvas = within(canvasElement);
    const inputs = canvas.getAllByRole('combobox');
    await expect(inputs).toHaveLength(2);
    const disabledInput = inputs[0] as HTMLInputElement;
    await expect(disabledInput).toBeDisabled();
    const invalidInput = inputs[1] as HTMLInputElement;
    await expect(invalidInput).toBeInTheDocument();
    await expect(invalidInput).not.toBeDisabled();
  }
}`,...oe.parameters?.docs?.source}}};const Fn=["Default","SearchMode","SearchWithIcon","AllVariants","States"];export{ae as AllVariants,ee as Default,te as SearchMode,ne as SearchWithIcon,oe as States,Fn as __namedExportsOrder,Dn as default};
