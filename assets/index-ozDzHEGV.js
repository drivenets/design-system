import{d as F,e as D,f as R,h as A,j as P,t as _,k as h,l as n,v as q,m as w,o as O,q as $,p as T}from"./index-DV_eOiKP.js";import{t as H,i as L}from"./index-C06eR8_X.js";var U=F("radio-group").parts("root","label","item","itemText","itemControl","indicator"),c=U.build(),V=e=>e.ids?.root??`radio-group:${e.id}`,I=e=>e.ids?.label??`radio-group:${e.id}:label`,S=(e,t)=>e.ids?.item?.(t)??`radio-group:${e.id}:radio:${t}`,E=(e,t)=>e.ids?.itemHiddenInput?.(t)??`radio-group:${e.id}:radio:input:${t}`,B=(e,t)=>e.ids?.itemControl?.(t)??`radio-group:${e.id}:radio:control:${t}`,K=(e,t)=>e.ids?.itemLabel?.(t)??`radio-group:${e.id}:radio:label:${t}`,k=e=>e.ids?.indicator??`radio-group:${e.id}:indicator`,y=e=>e.getById(V(e)),M=(e,t)=>e.getById(E(e,t)),N=e=>e.getById(k(e)),j=e=>y(e)?.querySelector("input:not(:disabled)"),G=e=>y(e)?.querySelector("input:not(:disabled):checked"),C=e=>{const r=`input[type=radio][data-ownedby='${CSS.escape(V(e))}']:not([disabled])`;return $(y(e),r)},W=(e,t)=>{if(t)return e.getById(S(e,t))},J=e=>({x:e?.offsetLeft??0,y:e?.offsetTop??0,width:e?.offsetWidth??0,height:e?.offsetHeight??0});function Z(e,t){const{context:r,send:l,computed:s,prop:i,scope:o}=e,v=s("isDisabled"),m=i("invalid"),g=i("readOnly");function f(a){return{value:a.value,invalid:!!a.invalid||!!m,disabled:!!a.disabled||v,checked:r.get("value")===a.value,focused:r.get("focusedValue")===a.value,focusVisible:r.get("focusVisibleValue")===a.value,hovered:r.get("hoveredValue")===a.value,active:r.get("activeValue")===a.value}}function b(a){const d=f(a);return{"data-focus":n(d.focused),"data-focus-visible":n(d.focusVisible),"data-disabled":n(d.disabled),"data-readonly":n(g),"data-state":d.checked?"checked":"unchecked","data-hover":n(d.hovered),"data-invalid":n(d.invalid),"data-orientation":i("orientation"),"data-ssr":n(r.get("ssr"))}}const p=()=>{(G(o)??j(o))?.focus()};return{focus:p,value:r.get("value"),setValue(a){l({type:"SET_VALUE",value:a,isTrusted:!1})},clearValue(){l({type:"SET_VALUE",value:null,isTrusted:!1})},getRootProps(){return t.element({...c.root.attrs,role:"radiogroup",id:V(o),"aria-labelledby":I(o),"aria-required":i("required")||void 0,"aria-disabled":v||void 0,"aria-readonly":g||void 0,"data-orientation":i("orientation"),"data-disabled":n(v),"data-invalid":n(m),"data-required":n(i("required")),"aria-orientation":i("orientation"),dir:i("dir"),style:{position:"relative"}})},getLabelProps(){return t.element({...c.label.attrs,dir:i("dir"),"data-orientation":i("orientation"),"data-disabled":n(v),"data-invalid":n(m),"data-required":n(i("required")),id:I(o),onClick:p})},getItemState:f,getItemProps(a){const d=f(a);return t.label({...c.item.attrs,dir:i("dir"),id:S(o,a.value),htmlFor:E(o,a.value),...b(a),onPointerMove(){d.disabled||d.hovered||l({type:"SET_HOVERED",value:a.value,hovered:!0})},onPointerLeave(){d.disabled||l({type:"SET_HOVERED",value:null})},onPointerDown(u){d.disabled||O(u)&&(d.focused&&u.pointerType==="mouse"&&u.preventDefault(),l({type:"SET_ACTIVE",value:a.value,active:!0}))},onPointerUp(){d.disabled||l({type:"SET_ACTIVE",value:null})},onClick(){!d.disabled&&w()&&M(o,a.value)?.focus()}})},getItemTextProps(a){return t.element({...c.itemText.attrs,dir:i("dir"),id:K(o,a.value),...b(a)})},getItemControlProps(a){const d=f(a);return t.element({...c.itemControl.attrs,dir:i("dir"),id:B(o,a.value),"data-active":n(d.active),"aria-hidden":!0,...b(a)})},getItemHiddenInputProps(a){const d=f(a);return t.input({"data-ownedby":V(o),id:E(o,a.value),type:"radio",name:i("name")||i("id"),form:i("form"),value:a.value,required:i("required"),"aria-invalid":d.invalid||void 0,onClick(u){if(g){u.preventDefault();return}u.currentTarget.checked&&l({type:"SET_VALUE",value:a.value,isTrusted:!0})},onBlur(){l({type:"SET_FOCUSED",value:null,focused:!1,focusVisible:!1})},onFocus(){const u=L();l({type:"SET_FOCUSED",value:a.value,focused:!0,focusVisible:u})},onKeyDown(u){u.defaultPrevented||u.key===" "&&l({type:"SET_ACTIVE",value:a.value,active:!0})},onKeyUp(u){u.defaultPrevented||u.key===" "&&l({type:"SET_ACTIVE",value:null})},disabled:d.disabled||g,defaultChecked:d.checked,style:q})},getIndicatorProps(){const a=r.get("indicatorRect"),d=a==null||a.width===0&&a.height===0&&a.x===0&&a.y===0;return t.element({id:k(o),...c.indicator.attrs,dir:i("dir"),hidden:r.get("value")==null||d,"data-disabled":n(v),"data-orientation":i("orientation"),style:{"--transition-property":"left, top, width, height","--left":h(a?.x),"--top":h(a?.y),"--width":h(a?.width),"--height":h(a?.height),position:"absolute",willChange:"var(--transition-property)",transitionProperty:"var(--transition-property)",transitionDuration:"var(--transition-duration, 150ms)",transitionTimingFunction:"var(--transition-timing-function)",[i("orientation")==="horizontal"?"left":"top"]:i("orientation")==="horizontal"?"var(--left)":"var(--top)"}})}}}var{not:Q}=R(),z=D({props({props:e}){return{orientation:"vertical",...e}},initialState(){return"idle"},context({prop:e,bindable:t}){return{value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),onChange(r){e("onValueChange")?.({value:r})}})),activeValue:t(()=>({defaultValue:null})),focusedValue:t(()=>({defaultValue:null})),focusVisibleValue:t(()=>({defaultValue:null})),hoveredValue:t(()=>({defaultValue:null})),indicatorRect:t(()=>({defaultValue:null})),fieldsetDisabled:t(()=>({defaultValue:!1})),ssr:t(()=>({defaultValue:!0}))}},refs(){return{indicatorCleanup:null,focusVisibleValue:null}},computed:{isDisabled:({prop:e,context:t})=>!!e("disabled")||t.get("fieldsetDisabled")},entry:["syncIndicatorRect","syncSsr"],exit:["cleanupObserver"],effects:["trackFormControlState","trackFocusVisible"],watch({track:e,action:t,context:r}){e([()=>r.get("value")],()=>{t(["syncIndicatorRect","syncInputElements"])})},on:{SET_VALUE:[{guard:Q("isTrusted"),actions:["setValue","dispatchChangeEvent"]},{actions:["setValue"]}],SET_HOVERED:{actions:["setHovered"]},SET_ACTIVE:{actions:["setActive"]},SET_FOCUSED:{actions:["setFocused"]}},states:{idle:{}},implementations:{guards:{isTrusted:({event:e})=>!!e.isTrusted},effects:{trackFormControlState({context:e,scope:t}){return _(y(t),{onFieldsetDisabledChange(r){e.set("fieldsetDisabled",r)},onFormReset(){e.set("value",e.initial("value"))}})},trackFocusVisible({scope:e}){return H({root:e.getRootNode?.()})}},actions:{setValue({context:e,event:t}){e.set("value",t.value)},setHovered({context:e,event:t}){e.set("hoveredValue",t.value)},setActive({context:e,event:t}){e.set("activeValue",t.value)},setFocused({context:e,event:t}){e.set("focusedValue",t.value);const r=t.value!=null&&t.focusVisible?t.value:null;e.set("focusVisibleValue",r)},syncInputElements({context:e,scope:t}){C(t).forEach(l=>{l.checked=l.value===e.get("value")})},cleanupObserver({refs:e}){e.get("indicatorCleanup")?.()},syncSsr({context:e}){e.set("ssr",!1)},syncIndicatorRect({context:e,scope:t,refs:r}){if(r.get("indicatorCleanup")?.(),!N(t))return;const l=e.get("value"),s=W(t,l);if(l==null||!s){e.set("indicatorRect",null);return}const i=()=>{e.set("indicatorRect",J(s))};i();const o=P.observe(s,i);r.set("indicatorCleanup",o)},dispatchChangeEvent({context:e,scope:t}){C(t).forEach(l=>{const s=l.value===e.get("value");s!==l.checked&&A(l,{checked:s})})}}}});T()(["dir","disabled","form","getRootNode","id","ids","invalid","name","onValueChange","orientation","readOnly","required","value","defaultValue"]);T()(["value","disabled","invalid"]);export{U as a,Z as c,z as m};
