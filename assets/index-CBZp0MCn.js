import{a as D,o as W,f as E,s as B,b as T,c as C,h as I,d as V,l as Y}from"./floating-ui.dom-BjS6HMTz.js";import{r as U,n as j,i as k,a as L,g as N,b as X,c as q}from"./index-YmNYY-wR.js";function R(e=0,t=0,r=0,n=0){if(typeof DOMRect=="function")return new DOMRect(e,t,r,n);const i={x:e,y:t,width:r,height:n,top:t,right:e+r,bottom:t+n,left:e};return{...i,toJSON:()=>i}}function _(e){if(!e)return R();const{x:t,y:r,width:n,height:i}=e;return R(t,r,n,i)}function G(e,t){return{contextElement:k(e)?e:e?.contextElement,getBoundingClientRect:()=>{const r=e,n=t?.(r);return n||!r?_(n):r.getBoundingClientRect()}}}var b=e=>({variable:e,reference:`var(${e})`}),f={arrowSize:b("--arrow-size"),arrowSizeHalf:b("--arrow-size-half"),arrowBg:b("--arrow-background"),transformOrigin:b("--transform-origin"),arrowOffset:b("--arrow-offset")},J=e=>e==="top"||e==="bottom"?"y":"x";function K(e,t){return{name:"transformOrigin",fn(r){const{elements:n,middlewareData:i,placement:o,rects:s,y:a}=r,c=o.split("-")[0],l=J(c),h=i.arrow?.x||0,d=i.arrow?.y||0,A=t?.clientWidth||0,v=t?.clientHeight||0,m=h+A/2,P=d+v/2,O=Math.abs(i.shift?.y||0),M=s.reference.height/2,$=v/2,u=e.offset?.mainAxis??e.gutter,p=typeof u=="number"?u+$:u??$,w=O>p,g={top:`${m}px calc(100% + ${p}px)`,bottom:`${m}px ${-p}px`,left:`calc(100% + ${p}px) ${P}px`,right:`${-p}px ${P}px`}[c],y=`${m}px ${s.reference.y+M-a}px`,S=!!e.overlap&&l==="y"&&w;return n.floating.style.setProperty(f.transformOrigin.variable,S?y:g),{data:{transformOrigin:S?y:g}}}}}var Q={name:"rects",fn({rects:e}){return{data:e}}},Z=e=>{if(e)return{name:"shiftArrow",fn({placement:t,middlewareData:r}){if(!r.arrow)return{};const{x:n,y:i}=r.arrow,o=t.split("-")[0];return Object.assign(e.style,{left:n!=null?`${n}px`:"",top:i!=null?`${i}px`:"",[o]:`calc(100% + ${f.arrowOffset.reference})`}),{}}}};function F(e){const[t,r]=e.split("-");return{side:t,align:r,hasAlign:r!=null}}function ue(e){return e.split("-")[0]}var ee={strategy:"absolute",placement:"bottom",listeners:!0,gutter:8,flip:!0,slide:!0,overlap:!1,sameWidth:!1,fitViewport:!1,overflowPadding:8,arrowPadding:4};function H(e,t){const r=e.devicePixelRatio||1;return Math.round(t*r)/r}function x(e,t){return e!=null&&Math.abs(e-t)<.5}function z(e){return typeof e=="function"?e():e==="clipping-ancestors"?"clippingAncestors":e}function te(e,t,r){const n=e||t.createElement("div");return T({element:n,padding:r.arrowPadding})}function re(e,t){if(!L(t.offset??t.gutter))return W(({placement:r})=>{const n=(e?.clientHeight||0)/2,i=t.offset?.mainAxis??t.gutter,o=typeof i=="number"?i+n:i??n,{hasAlign:s}=F(r),a=s?void 0:t.shift,c=t.offset?.crossAxis??a;return q({crossAxis:c,mainAxis:o,alignmentAxis:t.shift})})}function ne(e){if(!e.flip)return;const t=z(e.boundary);return E({...t?{boundary:t}:void 0,padding:e.overflowPadding,fallbackPlacements:e.flip===!0?void 0:e.flip})}function ie(e){if(!e.slide&&!e.overlap)return;const t=z(e.boundary);return B({...t?{boundary:t}:void 0,mainAxis:e.slide,crossAxis:e.overlap,padding:e.overflowPadding,limiter:Y()})}function oe(e){if(e.sizeMiddleware===!1&&!e.sameWidth&&!e.fitViewport)return;let t,r,n,i;return C({padding:e.overflowPadding,apply({elements:o,rects:s,availableHeight:a,availableWidth:c}){const l=o.floating,h=Math.round(s.reference.width),d=Math.round(s.reference.height);c=Math.floor(c),a=Math.floor(a),x(t,h)||(l.style.setProperty("--reference-width",`${h}px`),t=h),x(r,d)||(l.style.setProperty("--reference-height",`${d}px`),r=d),x(n,c)||(l.style.setProperty("--available-width",`${c}px`),n=c),x(i,a)||(l.style.setProperty("--available-height",`${a}px`),i=a)}})}function ae(e){if(e.hideWhenDetached)return I({strategy:"referenceHidden",boundary:z(e.boundary)??"clippingAncestors"})}function se(e){return e?e===!0?{ancestorResize:!0,ancestorScroll:!0,elementResize:!0,layoutShift:!0}:e:{}}function ce(e,t,r={}){const n=r.getAnchorElement?.()??e,i=G(n,r.getAnchorRect);if(!t||!i)return;const o=Object.assign({},ee,r),s=t.querySelector("[data-part=arrow]"),a=[re(s,o),ne(o),ie(o),te(s,t.ownerDocument,o),Z(s),K({gutter:o.gutter,offset:o.offset,overlap:o.overlap},s),oe(o),ae(o),Q],{placement:c,strategy:l,onComplete:h,onPositioned:d}=o;let A,v,m=!1;const P=async()=>{if(!i||!t)return;const u=await V(i,t,{placement:c,middleware:a,strategy:l});h?.(u);const p=N(t),w=H(p,u.x),g=H(p,u.y);if(t.style.transform=`translate3d(${w}px, ${g}px, 0)`,x(A,w)||(t.style.setProperty("--x",`${w}px`),A=w),x(v,g)||(t.style.setProperty("--y",`${g}px`),v=g),o.hideWhenDetached&&(u.middlewareData.hide?.referenceHidden?(t.style.setProperty("visibility","hidden"),t.style.setProperty("pointer-events","none")):(t.style.removeProperty("visibility"),t.style.removeProperty("pointer-events"))),!m){const y=t.firstElementChild;y&&(t.style.setProperty("--z-index",X(y).zIndex),m=!0)}},O=async()=>{r.updatePosition?(await r.updatePosition({updatePosition:P,floatingElement:t}),d?.({placed:!0})):await P()},M=se(o.listeners),$=o.listeners?D(i,t,O,M):j;return O(),()=>{$?.(),d?.({placed:!1})}}function pe(e,t,r={}){const{defer:n,...i}=r,o=n?U:a=>a(),s=[];return s.push(o(()=>{const a=typeof e=="function"?e():e,c=typeof t=="function"?t():t;s.push(ce(a,c,i))})),()=>{s.forEach(a=>a?.())}}var fe={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function he(e={}){const{placement:t,sameWidth:r,fitViewport:n,strategy:i="absolute"}=e;return{arrow:{position:"absolute",width:f.arrowSize.reference,height:f.arrowSize.reference,[f.arrowSizeHalf.variable]:`calc(${f.arrowSize.reference} / 2)`,[f.arrowOffset.variable]:`calc(${f.arrowSizeHalf.reference} * -1)`},arrowTip:{transform:t?fe[t.split("-")[0]]:void 0,background:f.arrowBg.reference,top:"0",left:"0",width:"100%",height:"100%",position:"absolute",zIndex:"inherit"},floating:{position:i,isolation:"isolate",minWidth:r?void 0:"max-content",width:r?"var(--reference-width)":void 0,maxWidth:n?"var(--available-width)":void 0,maxHeight:n?"var(--available-height)":void 0,pointerEvents:t?void 0:"none",top:"0px",left:"0px",transform:t?"translate3d(var(--x), var(--y), 0)":"translate3d(0, -100vh, 0)",zIndex:"var(--z-index)"}}}export{pe as a,ue as b,he as g};
