import{j as e}from"./jsx-runtime-u17CrQMm.js";import{r as u}from"./iframe-DaWFeW3H.js";import{D as T}from"./ds-drawer-C8Vii1b3.js";import{D as pe}from"./ds-comment-card-DecBVs98.js";import{D as k}from"./ds-button-jTDPKYIv.js";import{D as I}from"./ds-icon-2Kkf3LCh.js";import{D as ge}from"./ds-text-input-jz3BHRD9.js";import{D as ve}from"./ds-tag-filter-BjobY58S.js";import{D as j}from"./ds-modal-Ctq2wJ64.js";import{D as b}from"./ds-tabs-DRGxwivH.js";import{D as m}from"./ds-typography-XNs9d9js.js";import{D as R}from"./ds-checkbox-BwvtyTkU.js";import{D as te}from"./ds-date-input-0Vi0Laeh.js";import"./preload-helper-PPVm8Dsz.js";import"./index-BpdsuZ17.js";import"./portal-CUyOu765.js";import"./create-split-props-u5h9OPvL.js";import"./index-CmxqiR_e.js";import"./index-Bg5G61Kq.js";import"./index-DCQ4Ts3n.js";import"./use-locale-context-CRkuRW1d.js";import"./dialog-title-DNSJpBFQ.js";import"./render-strategy-CIdJYZIu.js";import"./use-presence-C4I73DQO.js";import"./index-BkUmtHXX.js";import"./ds-avatar-group-KnHOJHUv.js";import"./ds-avatar-aIfM6OFD.js";import"./ds-tooltip-BY93zhXV.js";import"./index-CtF7H05h.js";import"./index-DXLZwxM6.js";import"./index-Ctqz558P.js";import"./index-CZYKFMEa.js";import"./index-BR7dmqOs.js";import"./floating-ui.dom-BjS6HMTz.js";import"./index-DsBdYlOm.js";import"./ds-tag-xxPgsPDa.js";import"./ds-dropdown-menu-CUExhGOg.js";import"./Combination-rceJihvq.js";import"./index-BXj7y7dq.js";import"./format-relative-time-B216dNqo.js";import"./ds-button-legacy-BAo7BAO_.js";import"./ds-button-new-DsvWEHV9.js";import"./tabs-root-D3wFBDO0.js";import"./index-CNn0cUAd.js";const ye="_headerActions_3bq4o_1",fe="_divider_3bq4o_7",be="_searchInput_3bq4o_13",Ce="_body_3bq4o_17",we="_emptyState_3bq4o_35",De="_emptyIcon_3bq4o_48",Te="_filterTagsToolbar_3bq4o_52",Se="_tagFilter_3bq4o_57",S={headerActions:ye,divider:fe,searchInput:be,body:Ce,emptyState:we,emptyIcon:De,filterTagsToolbar:Te,tagFilter:Se},M={authors:[],labels:[],statuses:[]},xe=(l,r,t)=>l.filter(n=>{if(r.statuses.length>0){const i=[];if(n.isResolved?i.push("resolved"):i.push("unresolved"),t(n)&&i.push("action-required"),!r.statuses.some(g=>i.includes(g)))return!1}if(r.authors.length>0&&!r.authors.includes(n.author.id))return!1;if(r.dateFrom){const i=new Date(r.dateFrom);if(n.createdAt<i)return!1}if(r.dateTo){const i=new Date(r.dateTo);if(i.setHours(23,59,59,999),n.createdAt>i)return!1}return!(r.labels.length>0&&(!n.labels||!r.labels.some(i=>n.labels?.includes(i))))}),je=(l,r)=>{const t=[];if(l.statuses.forEach(n=>{const i=n==="action-required"?"Action required":n.charAt(0).toUpperCase()+n.slice(1);t.push({id:`status-${n}`,label:`Status: ${i}`,filterId:"statuses",value:n})}),l.authors.forEach(n=>{const i=r.get(n)||n;t.push({id:`author-${n}`,label:`Author: ${i}`,filterId:"authors",value:n})}),l.dateFrom||l.dateTo){const n=l.dateFrom||"...",i=l.dateTo||"...";t.push({id:"date-range",label:`Date: ${n} to ${i}`,filterId:"date",value:"range"})}return l.labels.forEach(n=>{t.push({id:`label-${n}`,label:`Label: ${n}`,filterId:"labels",value:n})}),t},_e=(l,r)=>{const t={...l};switch(r.filterId){case"statuses":t.statuses=t.statuses.filter(n=>n!==r.value);break;case"authors":t.authors=t.authors.filter(n=>n!==r.value);break;case"labels":t.labels=t.labels.filter(n=>n!==r.value);break;case"date":t.dateFrom=void 0,t.dateTo=void 0;break}return t},Ie="_modal_1ht28_1",ke="_header_1ht28_5",Fe="_headerLeft_1ht28_12",qe="_body_1ht28_18",Ae="_tabs_1ht28_24",Re="_tabList_1ht28_30",Ne="_tabContent_1ht28_40",Me="_badge_1ht28_52",Le="_dot_1ht28_59",Be="_filterSection_1ht28_66",Oe="_dateField_1ht28_72",Ee="_dateLabel_1ht28_78",Je="_emptyMessage_1ht28_82",Qe="_footer_1ht28_86",o={modal:Ie,header:ke,headerLeft:Fe,body:qe,tabs:Ae,tabList:Re,tabContent:Ne,badge:Me,dot:Le,filterSection:Be,dateField:Oe,dateLabel:Ee,emptyMessage:Je,footer:Qe},ne=({open:l,onOpenChange:r,filters:t,onFiltersChange:n,onApply:i,onClearAll:p,availableAuthors:g,availableLabels:w})=>{const[c,F]=u.useState("statuses"),d=(a,h)=>{n({...t,statuses:h?[...t.statuses,a]:t.statuses.filter(y=>y!==a)})},q=(a,h)=>{n({...t,authors:h?[...t.authors,a]:t.authors.filter(y=>y!==a)})},x=(a,h)=>{n({...t,labels:h?[...t.labels,a]:t.labels.filter(y=>y!==a)})},K=a=>{n({...t,dateFrom:a})},U=a=>{n({...t,dateTo:a})},v={statuses:t.statuses.length,authors:t.authors.length,dateRange:(t.dateFrom?1:0)+(t.dateTo?1:0),labels:t.labels.length};return e.jsxs(j,{open:l,onOpenChange:r,className:o.modal,children:[e.jsxs(j.Header,{className:o.header,children:[e.jsxs("div",{className:o.headerLeft,children:[e.jsx(I,{icon:"filter_list",size:"small"}),e.jsx(j.Title,{children:"Filters"})]}),e.jsx(j.CloseTrigger,{})]}),e.jsx(j.Body,{className:o.body,children:e.jsxs(b.Root,{value:c,onValueChange:a=>{a&&F(a)},orientation:"vertical",className:o.tabs,children:[e.jsxs(b.List,{className:o.tabList,children:[e.jsxs(b.Tab,{value:"statuses",children:[e.jsx(m,{variant:"body-sm-md",children:"Status"}),v.statuses>0&&e.jsxs("div",{className:o.badge,children:[e.jsx("span",{className:o.dot}),e.jsx(m,{variant:"body-sm-reg",children:v.statuses})]})]}),e.jsxs(b.Tab,{value:"authors",children:[e.jsx(m,{variant:"body-sm-md",children:"Author"}),v.authors>0&&e.jsxs("div",{className:o.badge,children:[e.jsx("span",{className:o.dot}),e.jsx(m,{variant:"body-sm-reg",children:v.authors})]})]}),e.jsxs(b.Tab,{value:"dateRange",children:[e.jsx(m,{variant:"body-sm-md",children:"Date range"}),v.dateRange>0&&e.jsxs("div",{className:o.badge,children:[e.jsx("span",{className:o.dot}),e.jsx(m,{variant:"body-sm-reg",children:v.dateRange})]})]}),e.jsxs(b.Tab,{value:"labels",children:[e.jsx(m,{variant:"body-sm-md",children:"Labels"}),v.labels>0&&e.jsxs("div",{className:o.badge,children:[e.jsx("span",{className:o.dot}),e.jsx(m,{variant:"body-sm-reg",children:v.labels})]})]})]}),e.jsx(b.Content,{value:"statuses",className:o.tabContent,children:e.jsxs("div",{className:o.filterSection,children:[e.jsx(R,{label:"Unresolved",checked:t.statuses.includes("unresolved"),onCheckedChange:a=>d("unresolved",a===!0)}),e.jsx(R,{label:"Resolved",checked:t.statuses.includes("resolved"),onCheckedChange:a=>d("resolved",a===!0)}),e.jsx(R,{label:"Action required",checked:t.statuses.includes("action-required"),onCheckedChange:a=>d("action-required",a===!0)})]})}),e.jsx(b.Content,{value:"authors",className:o.tabContent,children:e.jsx("div",{className:o.filterSection,children:g.length===0?e.jsx(m,{variant:"body-sm-reg",className:o.emptyMessage,children:"No authors available"}):g.map(a=>e.jsx(R,{label:a.name,checked:t.authors.includes(a.id),onCheckedChange:h=>q(a.id,h===!0)},a.id))})}),e.jsx(b.Content,{value:"dateRange",className:o.tabContent,children:e.jsxs("div",{className:o.filterSection,children:[e.jsxs("div",{className:o.dateField,children:[e.jsx(m,{variant:"body-sm-md",className:o.dateLabel,children:"From"}),e.jsx(te,{value:t.dateFrom,onValueChange:K,max:t.dateTo,placeholder:"Select start date",disablePortal:!0})]}),e.jsxs("div",{className:o.dateField,children:[e.jsx(m,{variant:"body-sm-md",className:o.dateLabel,children:"To"}),e.jsx(te,{value:t.dateTo,onValueChange:U,min:t.dateFrom,placeholder:"Select end date",disablePortal:!0})]})]})}),e.jsx(b.Content,{value:"labels",className:o.tabContent,children:e.jsx("div",{className:o.filterSection,children:w.length===0?e.jsx(m,{variant:"body-sm-reg",className:o.emptyMessage,children:"No labels available"}):w.map(a=>e.jsx(R,{label:a,checked:t.labels.includes(a),onCheckedChange:h=>x(a,h===!0)},a))})})]})}),e.jsxs(j.Footer,{className:o.footer,children:[e.jsxs(k,{design:"v1.2",variant:"filled",buttonType:"secondary",onClick:p,children:[e.jsx(I,{icon:"close",size:"tiny"}),"Clear all"]}),e.jsx(j.Actions,{children:e.jsx(k,{design:"v1.2",variant:"filled",buttonType:"primary",onClick:i,children:"Apply"})})]})]})};ne.__docgenInfo={description:"",methods:[],displayName:"CommentsFilterModal",props:{open:{required:!0,tsType:{name:"boolean"},description:""},onOpenChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:""},filters:{required:!0,tsType:{name:"CommentsFilterState"},description:""},onFiltersChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(filters: CommentsFilterState) => void",signature:{arguments:[{type:{name:"CommentsFilterState"},name:"filters"}],return:{name:"void"}}},description:""},onApply:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onClearAll:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},availableAuthors:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ id: string; name: string }",signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"name",value:{name:"string",required:!0}}]}}],raw:"Array<{ id: string; name: string }>"},description:""},availableLabels:{required:!0,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""}}};const Q=({open:l,onOpenChange:r,comments:t,showResolved:n=!1,onShowResolvedChange:i,searchQuery:p="",onSearchChange:g,onCommentClick:w,onResolveComment:c,onToggleActionRequired:F,onForward:d,onMarkUnread:q,onCopyLink:x,onDelete:K,noCommentsMessage:U,className:v,style:a})=>{const[h,y]=u.useState(!1),[Y,$]=u.useState(M),[N,H]=u.useState(M),P=new Map,X=new Set;t.forEach(s=>{P.set(s.author.id,s.author.name),s.labels?.forEach(f=>X.add(f))});const ae=Array.from(P.entries()).map(([s,f])=>({id:s,name:f})),se=Array.from(X);let D=t;if(n||(D=D.filter(s=>!s.isResolved)),D=xe(D,N,s=>s.isActionRequired||!1),p){const s=p.toLowerCase();D=D.filter(f=>{const A=f.messages.some(he=>he.content.toLowerCase().includes(s)),me=f.author.name.toLowerCase().includes(s),ue=`#${String(f.numericId)}`.includes(s);return A||me||ue})}const oe=t.filter(s=>!s.isResolved).length,Z=t.filter(s=>s.isResolved).length,re=Z>0,z=je(N,P),ie=()=>{i?.(!n)},le=()=>{$(N),y(!0)},ce=()=>{H(Y),y(!1)},ee=()=>{$(M),H(M),y(!1)},de=s=>{const f=z.find(A=>A.id===s.id);if(f){const A=_e(N,f);H(A)}};return e.jsxs(e.Fragment,{children:[e.jsxs(T,{open:l,onOpenChange:r,position:"start",columns:4,className:v,style:a,children:[e.jsxs(T.Header,{children:[e.jsxs(T.Title,{children:[oe," Comments"]}),e.jsxs("div",{className:S.headerActions,children:[e.jsx(k,{design:"v1.2",buttonType:"tertiary",size:"small","aria-label":"More actions",children:e.jsx(I,{icon:"more_vert",size:"tiny"})}),e.jsx("div",{className:S.divider}),e.jsx(T.CloseTrigger,{})]})]}),e.jsxs(T.Toolbar,{children:[e.jsx(ge,{placeholder:"Search",value:p,onValueChange:g,className:S.searchInput,slots:{startAdornment:e.jsx(I,{icon:"search",size:"tiny"})}}),e.jsx(k,{design:"v1.2",buttonType:"tertiary",size:"small","aria-label":"Filter",onClick:le,children:e.jsx(I,{icon:"filter_list",size:"tiny"})})]}),re&&e.jsx(T.Toolbar,{children:e.jsxs(k,{design:"v1.2",buttonType:"tertiary",size:"small",onClick:ie,children:[n?"Hide":"Show"," resolved (",Z,")"]})}),z.length>0&&e.jsx(T.Toolbar,{className:S.filterTagsToolbar,children:e.jsx(ve,{items:z,onClearAll:ee,onItemDelete:de,className:S.tagFilter})}),e.jsx(T.Body,{className:S.body,children:D.length===0?e.jsx("div",{className:S.emptyState,children:U||e.jsxs(e.Fragment,{children:[e.jsx(I,{icon:"chat_bubble_outline",size:"large",className:S.emptyIcon}),e.jsx("span",{children:"No comments yet"})]})}):D.map(s=>e.jsx(pe,{comment:s,overflow:"displayed",onClick:()=>w?.(s),onResolve:()=>c?.(s.id),onToggleActionRequired:()=>F?.(s.id),onForward:()=>d?.(s.id),onMarkUnread:()=>q?.(s.id),onCopyLink:()=>x?.(s.id),onDelete:()=>K?.(s.id)},s.id))})]}),e.jsx(ne,{open:h,onOpenChange:y,filters:Y,onFiltersChange:$,onApply:ce,onClearAll:ee,availableAuthors:ae,availableLabels:se})]})};Q.__docgenInfo={description:"",methods:[],displayName:"DsCommentsDrawer",props:{ref:{required:!1,tsType:{name:"Ref",elements:[{name:"HTMLElement"}],raw:"Ref<HTMLElement>"},description:""},open:{required:!0,tsType:{name:"boolean"},description:""},onOpenChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:""},comments:{required:!0,tsType:{name:"Array",elements:[{name:"CommentData"}],raw:"CommentData[]"},description:""},showResolved:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},onShowResolvedChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(show: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"show"}],return:{name:"void"}}},description:""},searchQuery:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1}},onSearchChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(query: string) => void",signature:{arguments:[{type:{name:"string"},name:"query"}],return:{name:"void"}}},description:""},onCommentClick:{required:!1,tsType:{name:"signature",type:"function",raw:"(comment: CommentData) => void",signature:{arguments:[{type:{name:"CommentData"},name:"comment"}],return:{name:"void"}}},description:""},onResolveComment:{required:!1,tsType:{name:"signature",type:"function",raw:"(commentId: string) => void",signature:{arguments:[{type:{name:"string"},name:"commentId"}],return:{name:"void"}}},description:""},onToggleActionRequired:{required:!1,tsType:{name:"signature",type:"function",raw:"(commentId: string) => void",signature:{arguments:[{type:{name:"string"},name:"commentId"}],return:{name:"void"}}},description:""},onForward:{required:!1,tsType:{name:"signature",type:"function",raw:"(commentId: string) => void",signature:{arguments:[{type:{name:"string"},name:"commentId"}],return:{name:"void"}}},description:""},onMarkUnread:{required:!1,tsType:{name:"signature",type:"function",raw:"(commentId: string) => void",signature:{arguments:[{type:{name:"string"},name:"commentId"}],return:{name:"void"}}},description:""},onCopyLink:{required:!1,tsType:{name:"signature",type:"function",raw:"(commentId: string) => void",signature:{arguments:[{type:{name:"string"},name:"commentId"}],return:{name:"void"}}},description:""},onDelete:{required:!1,tsType:{name:"signature",type:"function",raw:"(commentId: string) => void",signature:{arguments:[{type:{name:"string"},name:"commentId"}],return:{name:"void"}}},description:""},noCommentsMessage:{required:!1,tsType:{name:"ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:""},style:{required:!1,tsType:{name:"CSSProperties"},description:""}}};const We="_storyWrapper_1iwkl_1",Ke="_filterDemo_1iwkl_9",Ue="_filterDemoTitle_1iwkl_14",$e="_filterDemoText_1iwkl_18",He="_filterDemoList_1iwkl_23",_={storyWrapper:We,filterDemo:Ke,filterDemoTitle:Ue,filterDemoText:$e,filterDemoList:He},{expect:V,fn:C,within:G}=__STORYBOOK_MODULE_TEST__,W=()=>[{id:"comment-1",numericId:63,author:{id:"user-1",name:"Karen J.",avatarSrc:"https://i.pravatar.cc/40?img=1"},createdAt:new Date(Date.now()-1440*60*1e3),isResolved:!1,labels:["Bug","High Priority"],messages:[{id:"msg-1",author:{id:"user-1",name:"Karen J.",avatarSrc:"https://i.pravatar.cc/40?img=1"},content:"We need to review the resource allocation for this project. I think we should consider adjusting the timeline to ensure we have enough resources for the development phase.",createdAt:new Date(Date.now()-1440*60*1e3),isInitialMessage:!0},{id:"msg-2",author:{id:"user-2",name:"John D.",avatarSrc:"https://i.pravatar.cc/40?img=2"},content:"Thanks for the feedback!",createdAt:new Date(Date.now()-720*60*1e3)},{id:"msg-3",author:{id:"user-3",name:"Jane S.",avatarSrc:"https://i.pravatar.cc/40?img=3"},content:"I agree with this approach.",createdAt:new Date(Date.now()-360*60*1e3)}]},{id:"comment-2",numericId:64,author:{id:"user-2",name:"John D.",avatarSrc:"https://i.pravatar.cc/40?img=2"},createdAt:new Date(Date.now()-2880*60*1e3),isResolved:!1,labels:["Feature Request"],messages:[{id:"msg-4",author:{id:"user-2",name:"John D.",avatarSrc:"https://i.pravatar.cc/40?img=2"},content:"Could we add a dark mode feature to the application? This would improve usability for users working in low-light environments.",createdAt:new Date(Date.now()-2880*60*1e3),isInitialMessage:!0}]},{id:"comment-3",numericId:65,author:{id:"user-3",name:"Jane S.",avatarSrc:"https://i.pravatar.cc/40?img=3"},createdAt:new Date(Date.now()-4320*60*1e3),isResolved:!1,labels:["Documentation","Enhancement"],messages:[{id:"msg-5",author:{id:"user-3",name:"Jane S.",avatarSrc:"https://i.pravatar.cc/40?img=3"},content:"The API documentation needs to be updated to reflect the recent changes we made to the authentication system. This will help developers integrate with our service more easily.",createdAt:new Date(Date.now()-4320*60*1e3),isInitialMessage:!0},{id:"msg-6",author:{id:"user-1",name:"Karen J.",avatarSrc:"https://i.pravatar.cc/40?img=1"},content:"Good point!",createdAt:new Date(Date.now()-3600*60*1e3)},{id:"msg-7",author:{id:"user-4",name:"Bob M.",avatarSrc:"https://i.pravatar.cc/40?img=4"},content:"I will look into this.",createdAt:new Date(Date.now()-2880*60*1e3)},{id:"msg-8",author:{id:"user-3",name:"Jane S.",avatarSrc:"https://i.pravatar.cc/40?img=3"},content:"Thanks everyone!",createdAt:new Date(Date.now()-2160*60*1e3)}]},{id:"comment-4",numericId:66,author:{id:"user-4",name:"Bob M.",avatarSrc:"https://i.pravatar.cc/40?img=4"},createdAt:new Date(Date.now()-5760*60*1e3),isResolved:!1,labels:["Question"],messages:[{id:"msg-9",author:{id:"user-4",name:"Bob M.",avatarSrc:"https://i.pravatar.cc/40?img=4"},content:"Should we consider migrating to the new version of the framework? It offers better performance and security features that could benefit our application.",createdAt:new Date(Date.now()-5760*60*1e3),isInitialMessage:!0}]},{id:"comment-5",numericId:67,author:{id:"user-1",name:"Karen J.",avatarSrc:"https://i.pravatar.cc/40?img=1"},createdAt:new Date(Date.now()-7200*60*1e3),isResolved:!0,labels:["Bug"],messages:[{id:"msg-10",author:{id:"user-1",name:"Karen J.",avatarSrc:"https://i.pravatar.cc/40?img=1"},content:"This has been resolved.",createdAt:new Date(Date.now()-7200*60*1e3),isInitialMessage:!0}]},{id:"comment-6",numericId:68,author:{id:"user-2",name:"John D.",avatarSrc:"https://i.pravatar.cc/40?img=2"},createdAt:new Date(Date.now()-8640*60*1e3),isResolved:!0,labels:["Documentation"],messages:[{id:"msg-11",author:{id:"user-2",name:"John D.",avatarSrc:"https://i.pravatar.cc/40?img=2"},content:"Documentation updated.",createdAt:new Date(Date.now()-8640*60*1e3),isInitialMessage:!0}]}],Bt={title:"Design System/Comments/CommentsDrawer",component:Q,parameters:{layout:"fullscreen",docs:{description:{component:`
Side panel for viewing and managing all comments.

**Features:**
- Displays list of comment cards
- Search functionality
- Filter button (integration point)
- Show/hide resolved comments
- Comment count in header
- Click to open comment bubble
- Hover syncs with indicators on screen
        `}}},tags:["autodocs"],argTypes:{open:{control:"boolean",description:"Whether drawer is open"},showResolved:{control:"boolean",description:"Whether to show resolved comments"},searchQuery:{control:"text",description:"Search query"}},args:{onOpenChange:C(),onShowResolvedChange:C(),onSearchChange:C(),onCommentClick:C(),onResolveComment:C(),onToggleActionRequired:C(),onForward:C(),onMarkUnread:C(),onCopyLink:C(),onDelete:C()}},L={args:{open:!0,comments:W()},play:async({canvasElement:l})=>{const t=G(l).getByText(/4 Comments/i);await V(t).toBeInTheDocument()}},B={args:{open:!0,comments:W(),searchQuery:"Karen"},play:async({canvasElement:l})=>{const t=G(l).getByPlaceholderText(/search/i);await V(t).toBeInTheDocument()}},O={args:{open:!0,comments:[]},play:async({canvasElement:l})=>{const t=G(l).getByText(/no comments yet/i);await V(t).toBeInTheDocument()}},E={render:function(){const[r,t]=u.useState(!1),[n,i]=u.useState(""),[p,g]=u.useState(!1),[w,c]=u.useState(W()),F=d=>{c(q=>q.map(x=>x.id===d?{...x,isResolved:!0}:x))};return e.jsxs("div",{className:_.storyWrapper,children:[e.jsx(k,{onClick:()=>t(!0),children:"Open Comments Drawer"}),e.jsx(Q,{open:r,onOpenChange:t,comments:w,searchQuery:n,onSearchChange:i,showResolved:p,onShowResolvedChange:g,onCommentClick:d=>console.log("Comment clicked:",d.id),onResolveComment:F,onToggleActionRequired:d=>console.log("Toggle action required:",d),onForward:d=>console.log("Forward:",d),onMarkUnread:d=>console.log("Mark unread:",d),onCopyLink:d=>console.log("Copy link:",d),onDelete:d=>console.log("Delete:",d)})]})}},J={name:"With Filters (Interactive)",parameters:{docs:{description:{story:`
Interactive story demonstrating the filter functionality. 

**Try these interactions:**
1. Click the **Filter** button to open the filter modal
2. Select filters from different categories:
   - **Status**: Filter by Unresolved, Resolved, or Action required
   - **Author**: Filter by specific comment authors (Karen J., John D., Jane S., Bob M.)
   - **Date range**: Filter by creation date
   - **Labels**: Filter by tags (Bug, High Priority, Feature Request, Documentation, Enhancement, Question)
3. Click **Apply** to see the filtered results
4. Selected filters appear as chips below the toolbar
5. Click on a chip to remove that filter, or use **Clear all** to remove all filters

**Current mock data:**
- 4 unresolved comments with various authors and labels
- 2 resolved comments
- Comment #63 has "Action required" status
                `}}},render:function(){const[r,t]=u.useState(!0),[n,i]=u.useState(""),[p,g]=u.useState(!1),[w]=u.useState(W());return e.jsxs("div",{className:_.storyWrapper,children:[e.jsxs("div",{className:_.filterDemo,children:[e.jsx("h3",{className:_.filterDemoTitle,children:"Filter Demonstration"}),e.jsx("p",{className:_.filterDemoText,children:"The drawer is open by default. Click the filter icon to explore filtering options."}),e.jsx("p",{className:_.filterDemoText,children:e.jsx("strong",{children:"Try filtering by:"})}),e.jsxs("ul",{className:_.filterDemoList,children:[e.jsx("li",{children:'Author: "Karen J." to see 2 comments'}),e.jsx("li",{children:'Label: "Bug" to see 2 comments'}),e.jsx("li",{children:'Status: "Action required" to see 1 comment'}),e.jsx("li",{children:"Multiple filters at once (e.g., Author + Label)"})]})]}),e.jsx(Q,{open:r,onOpenChange:t,comments:w,searchQuery:n,onSearchChange:i,showResolved:p,onShowResolvedChange:g,onCommentClick:c=>console.log("Comment clicked:",c.id),onResolveComment:c=>console.log("Resolve:",c),onToggleActionRequired:c=>console.log("Toggle action required:",c),onForward:c=>console.log("Forward:",c),onMarkUnread:c=>console.log("Mark unread:",c),onCopyLink:c=>console.log("Copy link:",c),onDelete:c=>console.log("Delete:",c)})]})}};L.parameters={...L.parameters,docs:{...L.parameters?.docs,source:{originalSource:`{
  args: {
    open: true,
    comments: createMockComments()
  },
  play: async ({
    canvasElement
  }) => {
    const canvas = within(canvasElement);
    const title = canvas.getByText(/4 Comments/i);
    await expect(title).toBeInTheDocument();
  }
}`,...L.parameters?.docs?.source}}};B.parameters={...B.parameters,docs:{...B.parameters?.docs,source:{originalSource:`{
  args: {
    open: true,
    comments: createMockComments(),
    searchQuery: 'Karen'
  },
  play: async ({
    canvasElement
  }) => {
    const canvas = within(canvasElement);
    const searchInput = canvas.getByPlaceholderText(/search/i);
    await expect(searchInput).toBeInTheDocument();
  }
}`,...B.parameters?.docs?.source}}};O.parameters={...O.parameters,docs:{...O.parameters?.docs,source:{originalSource:`{
  args: {
    open: true,
    comments: []
  },
  play: async ({
    canvasElement
  }) => {
    const canvas = within(canvasElement);
    const emptyMessage = canvas.getByText(/no comments yet/i);
    await expect(emptyMessage).toBeInTheDocument();
  }
}`,...O.parameters?.docs?.source}}};E.parameters={...E.parameters,docs:{...E.parameters?.docs,source:{originalSource:`{
  render: function InteractiveStory() {
    const [open, setOpen] = useState(false);
    const [searchQuery, setSearchQuery] = useState('');
    const [showResolved, setShowResolved] = useState(false);
    const [comments, setComments] = useState(createMockComments());
    const handleResolve = (commentId: string) => {
      setComments(prev => prev.map(c => c.id === commentId ? {
        ...c,
        isResolved: true
      } : c));
    };
    return <div className={styles.storyWrapper}>
                <DsButton onClick={() => setOpen(true)}>Open Comments Drawer</DsButton>

                <DsCommentsDrawer open={open} onOpenChange={setOpen} comments={comments} searchQuery={searchQuery} onSearchChange={setSearchQuery} showResolved={showResolved} onShowResolvedChange={setShowResolved} onCommentClick={comment => console.log('Comment clicked:', comment.id)} onResolveComment={handleResolve} onToggleActionRequired={commentId => console.log('Toggle action required:', commentId)} onForward={commentId => console.log('Forward:', commentId)} onMarkUnread={commentId => console.log('Mark unread:', commentId)} onCopyLink={commentId => console.log('Copy link:', commentId)} onDelete={commentId => console.log('Delete:', commentId)} />
            </div>;
  }
}`,...E.parameters?.docs?.source}}};J.parameters={...J.parameters,docs:{...J.parameters?.docs,source:{originalSource:`{
  name: 'With Filters (Interactive)',
  parameters: {
    docs: {
      description: {
        story: \`
Interactive story demonstrating the filter functionality. 

**Try these interactions:**
1. Click the **Filter** button to open the filter modal
2. Select filters from different categories:
   - **Status**: Filter by Unresolved, Resolved, or Action required
   - **Author**: Filter by specific comment authors (Karen J., John D., Jane S., Bob M.)
   - **Date range**: Filter by creation date
   - **Labels**: Filter by tags (Bug, High Priority, Feature Request, Documentation, Enhancement, Question)
3. Click **Apply** to see the filtered results
4. Selected filters appear as chips below the toolbar
5. Click on a chip to remove that filter, or use **Clear all** to remove all filters

**Current mock data:**
- 4 unresolved comments with various authors and labels
- 2 resolved comments
- Comment #63 has "Action required" status
                \`
      }
    }
  },
  render: function WithFiltersStory() {
    const [open, setOpen] = useState(true);
    const [searchQuery, setSearchQuery] = useState('');
    const [showResolved, setShowResolved] = useState(false);
    const [comments] = useState(createMockComments());
    return <div className={styles.storyWrapper}>
                <div className={styles.filterDemo}>
                    <h3 className={styles.filterDemoTitle}>Filter Demonstration</h3>
                    <p className={styles.filterDemoText}>
                        The drawer is open by default. Click the filter icon to explore filtering options.
                    </p>
                    <p className={styles.filterDemoText}>
                        <strong>Try filtering by:</strong>
                    </p>
                    <ul className={styles.filterDemoList}>
                        <li>Author: &quot;Karen J.&quot; to see 2 comments</li>
                        <li>Label: &quot;Bug&quot; to see 2 comments</li>
                        <li>Status: &quot;Action required&quot; to see 1 comment</li>
                        <li>Multiple filters at once (e.g., Author + Label)</li>
                    </ul>
                </div>

                <DsCommentsDrawer open={open} onOpenChange={setOpen} comments={comments} searchQuery={searchQuery} onSearchChange={setSearchQuery} showResolved={showResolved} onShowResolvedChange={setShowResolved} onCommentClick={comment => console.log('Comment clicked:', comment.id)} onResolveComment={commentId => console.log('Resolve:', commentId)} onToggleActionRequired={commentId => console.log('Toggle action required:', commentId)} onForward={commentId => console.log('Forward:', commentId)} onMarkUnread={commentId => console.log('Mark unread:', commentId)} onCopyLink={commentId => console.log('Copy link:', commentId)} onDelete={commentId => console.log('Delete:', commentId)} />
            </div>;
  }
}`,...J.parameters?.docs?.source}}};const Ot=["Default","WithSearch","Empty","Interactive","WithFilters"];export{L as Default,O as Empty,E as Interactive,J as WithFilters,B as WithSearch,Ot as __namedExportsOrder,Bt as default};
