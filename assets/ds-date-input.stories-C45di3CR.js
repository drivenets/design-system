import{j as pe}from"./jsx-runtime-u17CrQMm.js";import{r as Nt}from"./iframe-msTs8qn0.js";import{D as vt}from"./ds-date-input-D5XS5zRw.js";import{_ as ll}from"./preload-helper-PPVm8Dsz.js";import"./index-DpFyz-Lw.js";import"./ds-icon-DFpW76RW.js";import"./ds-typography-Dilj0ZGK.js";import"./index-CUhDGnXB.js";import"./index-DLvNrMFn.js";import"./portal-D4QFhVos.js";import"./create-split-props-u5h9OPvL.js";import"./index-DE7EfUWw.js";import"./index-CvhxhYzK.js";import"./index-CSwBWWe1.js";import"./use-locale-context-BQeNMJqG.js";import"./use-presence-B3gHxFPT.js";import"./index-6966ules.js";import"./floating-ui.dom-CGTwz-PJ.js";import"./index-D1AB9nlB.js";var Fs={reset:[0,0],bold:[1,22,"\x1B[22m\x1B[1m"],dim:[2,22,"\x1B[22m\x1B[2m"],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]};function Ao(e){return String(e)}Ao.open="";Ao.close="";function fl(){let e=typeof process<"u"?process:void 0,t=e?.env||{},n=t.FORCE_TTY!=="false",r=e?.argv||[];return!("NO_COLOR"in t||r.includes("--no-color"))&&("FORCE_COLOR"in t||r.includes("--color")||e?.platform==="win32"||n&&t.TERM!=="dumb"||"CI"in t)||typeof window<"u"&&!!window.chrome}function hl(){let e=fl(),t=(s,i,a,u)=>{let c="",l=0;do c+=s.substring(l,u)+a,l=u+i.length,u=s.indexOf(i,l);while(~u);return c+s.substring(l)},n=(s,i,a=s)=>{let u=c=>{let l=String(c),f=l.indexOf(i,s.length);return~f?s+t(l,i,a,f)+i:s+l+i};return u.open=s,u.close=i,u},r={isColorSupported:e},o=s=>`\x1B[${s}m`;for(let s in Fs){let i=Fs[s];r[s]=e?n(o(i[0]),o(i[1]),i[2]):Ao}return r}var ae=hl();function za(e,t){return t.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in e)){var o=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(e,r,o.get?o:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(e)}function dl(e,t){const n=Object.keys(e),r=t===null?n:n.sort(t);if(Object.getOwnPropertySymbols)for(const o of Object.getOwnPropertySymbols(e))Object.getOwnPropertyDescriptor(e,o).enumerable&&r.push(o);return r}function gn(e,t,n,r,o,s,i=": "){let a="",u=0,c=e.next();if(!c.done){a+=t.spacingOuter;const l=n+t.indent;for(;!c.done;){if(a+=l,u++===t.maxWidth){a+="…";break}const f=s(c.value[0],t,l,r,o),h=s(c.value[1],t,l,r,o);a+=f+i+h,c=e.next(),c.done?t.min||(a+=","):a+=`,${t.spacingInner}`}a+=t.spacingOuter+n}return a}function Co(e,t,n,r,o,s){let i="",a=0,u=e.next();if(!u.done){i+=t.spacingOuter;const c=n+t.indent;for(;!u.done;){if(i+=c,a++===t.maxWidth){i+="…";break}i+=s(u.value,t,c,r,o),u=e.next(),u.done?t.min||(i+=","):i+=`,${t.spacingInner}`}i+=t.spacingOuter+n}return i}function Fn(e,t,n,r,o,s){let i="";e=e instanceof ArrayBuffer?new DataView(e):e;const a=c=>c instanceof DataView,u=a(e)?e.byteLength:e.length;if(u>0){i+=t.spacingOuter;const c=n+t.indent;for(let l=0;l<u;l++){if(i+=c,l===t.maxWidth){i+="…";break}(a(e)||l in e)&&(i+=s(a(e)?e.getInt8(l):e[l],t,c,r,o)),l<u-1?i+=`,${t.spacingInner}`:t.min||(i+=",")}i+=t.spacingOuter+n}return i}function No(e,t,n,r,o,s){let i="";const a=dl(e,t.compareKeys);if(a.length>0){i+=t.spacingOuter;const u=n+t.indent;for(let c=0;c<a.length;c++){const l=a[c],f=s(l,t,u,r,o),h=s(e[l],t,u,r,o);i+=`${u+f}: ${h}`,c<a.length-1?i+=`,${t.spacingInner}`:t.min||(i+=",")}i+=t.spacingOuter+n}return i}const pl=typeof Symbol=="function"&&Symbol.for?Symbol.for("jest.asymmetricMatcher"):1267621,xn=" ",ml=(e,t,n,r,o,s)=>{const i=e.toString();if(i==="ArrayContaining"||i==="ArrayNotContaining")return++r>t.maxDepth?`[${i}]`:`${i+xn}[${Fn(e.sample,t,n,r,o,s)}]`;if(i==="ObjectContaining"||i==="ObjectNotContaining")return++r>t.maxDepth?`[${i}]`:`${i+xn}{${No(e.sample,t,n,r,o,s)}}`;if(i==="StringMatching"||i==="StringNotMatching"||i==="StringContaining"||i==="StringNotContaining")return i+xn+s(e.sample,t,n,r,o);if(typeof e.toAsymmetricMatcher!="function")throw new TypeError(`Asymmetric matcher ${e.constructor.name} does not implement toAsymmetricMatcher()`);return e.toAsymmetricMatcher()},gl=e=>e&&e.$$typeof===pl,yl={serialize:ml,test:gl},bl=" ",Wa=new Set(["DOMStringMap","NamedNodeMap"]),wl=/^(?:HTML\w*Collection|NodeList)$/;function Tl(e){return Wa.has(e)||wl.test(e)}const vl=e=>e&&e.constructor&&!!e.constructor.name&&Tl(e.constructor.name);function El(e){return e.constructor.name==="NamedNodeMap"}const Sl=(e,t,n,r,o,s)=>{const i=e.constructor.name;return++r>t.maxDepth?`[${i}]`:(t.min?"":i+bl)+(Wa.has(i)?`{${No(El(e)?[...e].reduce((a,u)=>(a[u.name]=u.value,a),{}):{...e},t,n,r,o,s)}}`:`[${Fn([...e],t,n,r,o,s)}]`)},xl={serialize:Sl,test:vl};function Ua(e){return e.replaceAll("<","&lt;").replaceAll(">","&gt;")}function Io(e,t,n,r,o,s,i){const a=r+n.indent,u=n.colors;return e.map(c=>{const l=t[c];let f=i(l,n,a,o,s);return typeof l!="string"&&(f.includes(`
`)&&(f=n.spacingOuter+a+f+n.spacingOuter+r),f=`{${f}}`),`${n.spacingInner+r+u.prop.open+c+u.prop.close}=${u.value.open}${f}${u.value.close}`}).join("")}function Hn(e,t,n,r,o,s){return e.map(i=>t.spacingOuter+n+(typeof i=="string"?Ka(i,t):s(i,t,n,r,o))).join("")}function $l(e,t,n,r,o,s){return t.printShadowRoot===!1?"":[`${t.spacingOuter+n}#shadow-root`,Hn(e,t,n+t.indent,r,o,s)].join("")}function Ka(e,t){const n=t.colors.content;return n.open+Ua(e)+n.close}function _l(e,t){const n=t.colors.comment;return`${n.open}<!--${Ua(e)}-->${n.close}`}function ko(e,t,n,r,o){const s=r.colors.tag;return`${s.open}<${e}${t&&s.close+t+r.spacingOuter+o+s.open}${n?`>${s.close}${n}${r.spacingOuter}${o}${s.open}</${e}`:`${t&&!r.min?"":" "}/`}>${s.close}`}function Po(e,t){const n=t.colors.tag;return`${n.open}<${e}${n.close} …${n.open} />${n.close}`}const Ol=1,Ya=3,Ga=8,Ja=11,Ml=/^(?:(?:HTML|SVG)\w*)?Element$/;function Al(e){try{return typeof e.hasAttribute=="function"&&e.hasAttribute("is")}catch{return!1}}function Cl(e){const t=e.constructor.name,{nodeType:n,tagName:r}=e,o=typeof r=="string"&&r.includes("-")||Al(e);return n===Ol&&(Ml.test(t)||o)||n===Ya&&t==="Text"||n===Ga&&t==="Comment"||n===Ja&&t==="DocumentFragment"}const Nl=e=>e?.constructor?.name&&Cl(e);function Il(e){return e.nodeType===Ya}function kl(e){return e.nodeType===Ga}function $n(e){return e.nodeType===Ja}const Pl=(e,t,n,r,o,s)=>{if(Il(e))return Ka(e.data,t);if(kl(e))return _l(e.data,t);const i=$n(e)?"DocumentFragment":e.tagName.toLowerCase();return++r>t.maxDepth?Po(i,t):ko(i,Io($n(e)?[]:Array.from(e.attributes,a=>a.name).sort(),$n(e)?{}:[...e.attributes].reduce((a,u)=>(a[u.name]=u.value,a),{}),t,n+t.indent,r,o,s),($n(e)||!e.shadowRoot?"":$l(Array.prototype.slice.call(e.shadowRoot.children),t,n+t.indent,r,o,s))+Hn(Array.prototype.slice.call(e.childNodes||e.children),t,n+t.indent,r,o,s),t,n)},jl={serialize:Pl,test:Nl},Rl="@@__IMMUTABLE_ITERABLE__@@",Dl="@@__IMMUTABLE_LIST__@@",Fl="@@__IMMUTABLE_KEYED__@@",Bl="@@__IMMUTABLE_MAP__@@",Bs="@@__IMMUTABLE_ORDERED__@@",Ll="@@__IMMUTABLE_RECORD__@@",ql="@@__IMMUTABLE_SEQ__@@",Vl="@@__IMMUTABLE_SET__@@",zl="@@__IMMUTABLE_STACK__@@",It=e=>`Immutable.${e}`,Xn=e=>`[${e}]`,hn=" ",Ls="…";function Wl(e,t,n,r,o,s,i){return++r>t.maxDepth?Xn(It(i)):`${It(i)+hn}{${gn(e.entries(),t,n,r,o,s)}}`}function Ul(e){let t=0;return{next(){if(t<e._keys.length){const n=e._keys[t++];return{done:!1,value:[n,e.get(n)]}}return{done:!0,value:void 0}}}}function Kl(e,t,n,r,o,s){const i=It(e._name||"Record");return++r>t.maxDepth?Xn(i):`${i+hn}{${gn(Ul(e),t,n,r,o,s)}}`}function Yl(e,t,n,r,o,s){const i=It("Seq");return++r>t.maxDepth?Xn(i):e[Fl]?`${i+hn}{${e._iter||e._object?gn(e.entries(),t,n,r,o,s):Ls}}`:`${i+hn}[${e._iter||e._array||e._collection||e._iterable?Co(e.values(),t,n,r,o,s):Ls}]`}function br(e,t,n,r,o,s,i){return++r>t.maxDepth?Xn(It(i)):`${It(i)+hn}[${Co(e.values(),t,n,r,o,s)}]`}const Gl=(e,t,n,r,o,s)=>e[Bl]?Wl(e,t,n,r,o,s,e[Bs]?"OrderedMap":"Map"):e[Dl]?br(e,t,n,r,o,s,"List"):e[Vl]?br(e,t,n,r,o,s,e[Bs]?"OrderedSet":"Set"):e[zl]?br(e,t,n,r,o,s,"Stack"):e[ql]?Yl(e,t,n,r,o,s):Kl(e,t,n,r,o,s),Jl=e=>e&&(e[Rl]===!0||e[Ll]===!0),Hl={serialize:Gl,test:Jl};function Ha(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var wr={exports:{}},Z={};var qs;function Xl(){if(qs)return Z;qs=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),i=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),c=Symbol.for("react.suspense_list"),l=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.for("react.view_transition"),d=Symbol.for("react.client.reference");function p(g){if(typeof g=="object"&&g!==null){var w=g.$$typeof;switch(w){case e:switch(g=g.type,g){case n:case o:case r:case u:case c:case h:return g;default:switch(g=g&&g.$$typeof,g){case i:case a:case f:case l:return g;case s:return g;default:return w}}case t:return w}}}return Z.ContextConsumer=s,Z.ContextProvider=i,Z.Element=e,Z.ForwardRef=a,Z.Fragment=n,Z.Lazy=f,Z.Memo=l,Z.Portal=t,Z.Profiler=o,Z.StrictMode=r,Z.Suspense=u,Z.SuspenseList=c,Z.isContextConsumer=function(g){return p(g)===s},Z.isContextProvider=function(g){return p(g)===i},Z.isElement=function(g){return typeof g=="object"&&g!==null&&g.$$typeof===e},Z.isForwardRef=function(g){return p(g)===a},Z.isFragment=function(g){return p(g)===n},Z.isLazy=function(g){return p(g)===f},Z.isMemo=function(g){return p(g)===l},Z.isPortal=function(g){return p(g)===t},Z.isProfiler=function(g){return p(g)===o},Z.isStrictMode=function(g){return p(g)===r},Z.isSuspense=function(g){return p(g)===u},Z.isSuspenseList=function(g){return p(g)===c},Z.isValidElementType=function(g){return typeof g=="string"||typeof g=="function"||g===n||g===o||g===r||g===u||g===c||typeof g=="object"&&g!==null&&(g.$$typeof===f||g.$$typeof===l||g.$$typeof===i||g.$$typeof===s||g.$$typeof===a||g.$$typeof===d||g.getModuleId!==void 0)},Z.typeOf=p,Z}var Vs;function Zl(){return Vs||(Vs=1,wr.exports=Xl()),wr.exports}var Xa=Zl(),Ql=Ha(Xa),ef=za({__proto__:null,default:Ql},[Xa]),Tr={exports:{}},J={};var zs;function tf(){if(zs)return J;zs=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),i=Symbol.for("react.context"),a=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),l=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.for("react.offscreen"),p;p=Symbol.for("react.module.reference");function g(w){if(typeof w=="object"&&w!==null){var T=w.$$typeof;switch(T){case e:switch(w=w.type,w){case n:case o:case r:case c:case l:return w;default:switch(w=w&&w.$$typeof,w){case a:case i:case u:case h:case f:case s:return w;default:return T}}case t:return T}}}return J.ContextConsumer=i,J.ContextProvider=s,J.Element=e,J.ForwardRef=u,J.Fragment=n,J.Lazy=h,J.Memo=f,J.Portal=t,J.Profiler=o,J.StrictMode=r,J.Suspense=c,J.SuspenseList=l,J.isAsyncMode=function(){return!1},J.isConcurrentMode=function(){return!1},J.isContextConsumer=function(w){return g(w)===i},J.isContextProvider=function(w){return g(w)===s},J.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===e},J.isForwardRef=function(w){return g(w)===u},J.isFragment=function(w){return g(w)===n},J.isLazy=function(w){return g(w)===h},J.isMemo=function(w){return g(w)===f},J.isPortal=function(w){return g(w)===t},J.isProfiler=function(w){return g(w)===o},J.isStrictMode=function(w){return g(w)===r},J.isSuspense=function(w){return g(w)===c},J.isSuspenseList=function(w){return g(w)===l},J.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===o||w===r||w===c||w===l||w===d||typeof w=="object"&&w!==null&&(w.$$typeof===h||w.$$typeof===f||w.$$typeof===s||w.$$typeof===i||w.$$typeof===u||w.$$typeof===p||w.getModuleId!==void 0)},J.typeOf=g,J}var Ws;function nf(){return Ws||(Ws=1,Tr.exports=tf()),Tr.exports}var Za=nf(),rf=Ha(Za),of=za({__proto__:null,default:rf},[Za]);const sf=["isAsyncMode","isConcurrentMode","isContextConsumer","isContextProvider","isElement","isForwardRef","isFragment","isLazy","isMemo","isPortal","isProfiler","isStrictMode","isSuspense","isSuspenseList","isValidElementType"],dt=Object.fromEntries(sf.map(e=>[e,t=>of[e](t)||ef[e](t)]));function Qa(e,t=[]){if(Array.isArray(e))for(const n of e)Qa(n,t);else e!=null&&e!==!1&&e!==""&&t.push(e);return t}function Us(e){const t=e.type;if(typeof t=="string")return t;if(typeof t=="function")return t.displayName||t.name||"Unknown";if(dt.isFragment(e))return"React.Fragment";if(dt.isSuspense(e))return"React.Suspense";if(typeof t=="object"&&t!==null){if(dt.isContextProvider(e))return"Context.Provider";if(dt.isContextConsumer(e))return"Context.Consumer";if(dt.isForwardRef(e)){if(t.displayName)return t.displayName;const n=t.render.displayName||t.render.name||"";return n===""?"ForwardRef":`ForwardRef(${n})`}if(dt.isMemo(e)){const n=t.displayName||t.type.displayName||t.type.name||"";return n===""?"Memo":`Memo(${n})`}}return"UNDEFINED"}function af(e){const{props:t}=e;return Object.keys(t).filter(n=>n!=="children"&&t[n]!==void 0).sort()}const cf=(e,t,n,r,o,s)=>++r>t.maxDepth?Po(Us(e),t):ko(Us(e),Io(af(e),e.props,t,n+t.indent,r,o,s),Hn(Qa(e.props.children),t,n+t.indent,r,o,s),t,n),uf=e=>e!=null&&dt.isElement(e),lf={serialize:cf,test:uf},ff=typeof Symbol=="function"&&Symbol.for?Symbol.for("react.test.json"):245830487;function hf(e){const{props:t}=e;return t?Object.keys(t).filter(n=>t[n]!==void 0).sort():[]}const df=(e,t,n,r,o,s)=>++r>t.maxDepth?Po(e.type,t):ko(e.type,e.props?Io(hf(e),e.props,t,n+t.indent,r,o,s):"",e.children?Hn(e.children,t,n+t.indent,r,o,s):"",t,n),pf=e=>e&&e.$$typeof===ff,mf={serialize:df,test:pf},ec=Object.prototype.toString,gf=Date.prototype.toISOString,yf=Error.prototype.toString,Ks=RegExp.prototype.toString;function In(e){return typeof e.constructor=="function"&&e.constructor.name||"Object"}function bf(e){return typeof window<"u"&&e===window}const wf=/^Symbol\((.*)\)(.*)$/,Tf=/\n/g;class tc extends Error{constructor(t,n){super(t),this.stack=n,this.name=this.constructor.name}}function vf(e){return e==="[object Array]"||e==="[object ArrayBuffer]"||e==="[object DataView]"||e==="[object Float32Array]"||e==="[object Float64Array]"||e==="[object Int8Array]"||e==="[object Int16Array]"||e==="[object Int32Array]"||e==="[object Uint8Array]"||e==="[object Uint8ClampedArray]"||e==="[object Uint16Array]"||e==="[object Uint32Array]"}function Ef(e){return Object.is(e,-0)?"-0":String(e)}function Sf(e){return`${e}n`}function Ys(e,t){return t?`[Function ${e.name||"anonymous"}]`:"[Function]"}function Gs(e){return String(e).replace(wf,"Symbol($1)")}function Js(e){return`[${yf.call(e)}]`}function nc(e,t,n,r){if(e===!0||e===!1)return`${e}`;if(e===void 0)return"undefined";if(e===null)return"null";const o=typeof e;if(o==="number")return Ef(e);if(o==="bigint")return Sf(e);if(o==="string")return r?`"${e.replaceAll(/"|\\/g,"\\$&")}"`:`"${e}"`;if(o==="function")return Ys(e,t);if(o==="symbol")return Gs(e);const s=ec.call(e);return s==="[object WeakMap]"?"WeakMap {}":s==="[object WeakSet]"?"WeakSet {}":s==="[object Function]"||s==="[object GeneratorFunction]"?Ys(e,t):s==="[object Symbol]"?Gs(e):s==="[object Date]"?Number.isNaN(+e)?"Date { NaN }":gf.call(e):s==="[object Error]"?Js(e):s==="[object RegExp]"?n?Ks.call(e).replaceAll(/[$()*+.?[\\\]^{|}]/g,"\\$&"):Ks.call(e):e instanceof Error?Js(e):null}function rc(e,t,n,r,o,s){if(o.includes(e))return"[Circular]";o=[...o],o.push(e);const i=++r>t.maxDepth,a=t.min;if(t.callToJSON&&!i&&e.toJSON&&typeof e.toJSON=="function"&&!s)return st(e.toJSON(),t,n,r,o,!0);const u=ec.call(e);return u==="[object Arguments]"?i?"[Arguments]":`${a?"":"Arguments "}[${Fn(e,t,n,r,o,st)}]`:vf(u)?i?`[${e.constructor.name}]`:`${a||!t.printBasicPrototype&&e.constructor.name==="Array"?"":`${e.constructor.name} `}[${Fn(e,t,n,r,o,st)}]`:u==="[object Map]"?i?"[Map]":`Map {${gn(e.entries(),t,n,r,o,st," => ")}}`:u==="[object Set]"?i?"[Set]":`Set {${Co(e.values(),t,n,r,o,st)}}`:i||bf(e)?`[${In(e)}]`:`${a||!t.printBasicPrototype&&In(e)==="Object"?"":`${In(e)} `}{${No(e,t,n,r,o,st)}}`}const xf={test:e=>e&&e instanceof Error,serialize(e,t,n,r,o,s){if(o.includes(e))return"[Circular]";o=[...o,e];const i=++r>t.maxDepth,{message:a,cause:u,...c}=e,l={message:a,...typeof u<"u"?{cause:u}:{},...e instanceof AggregateError?{errors:e.errors}:{},...c},f=e.name!=="Error"?e.name:In(e);return i?`[${f}]`:`${f} {${gn(Object.entries(l).values(),t,n,r,o,s)}}`}};function $f(e){return e.serialize!=null}function oc(e,t,n,r,o,s){let i;try{i=$f(e)?e.serialize(t,n,r,o,s,st):e.print(t,a=>st(a,n,r,o,s),a=>{const u=r+n.indent;return u+a.replaceAll(Tf,`
${u}`)},{edgeSpacing:n.spacingOuter,min:n.min,spacing:n.spacingInner},n.colors)}catch(a){throw new tc(a.message,a.stack)}if(typeof i!="string")throw new TypeError(`pretty-format: Plugin must return type "string" but instead returned "${typeof i}".`);return i}function sc(e,t){for(const n of e)try{if(n.test(t))return n}catch(r){throw new tc(r.message,r.stack)}return null}function st(e,t,n,r,o,s){const i=sc(t.plugins,e);if(i!==null)return oc(i,e,t,n,r,o);const a=nc(e,t.printFunctionName,t.escapeRegex,t.escapeString);return a!==null?a:rc(e,t,n,r,o,s)}const jo={comment:"gray",content:"reset",prop:"yellow",tag:"cyan",value:"green"},ic=Object.keys(jo),qe={callToJSON:!0,compareKeys:void 0,escapeRegex:!1,escapeString:!0,highlight:!1,indent:2,maxDepth:Number.POSITIVE_INFINITY,maxWidth:Number.POSITIVE_INFINITY,min:!1,plugins:[],printBasicPrototype:!0,printFunctionName:!0,printShadowRoot:!0,theme:jo};function _f(e){for(const t of Object.keys(e))if(!Object.hasOwn(qe,t))throw new Error(`pretty-format: Unknown option "${t}".`);if(e.min&&e.indent!==void 0&&e.indent!==0)throw new Error('pretty-format: Options "min" and "indent" cannot be used together.')}function Of(){return ic.reduce((e,t)=>{const n=jo[t],r=n&&ae[n];if(r&&typeof r.close=="string"&&typeof r.open=="string")e[t]=r;else throw new Error(`pretty-format: Option "theme" has a key "${t}" whose value "${n}" is undefined in ansi-styles.`);return e},Object.create(null))}function Mf(){return ic.reduce((e,t)=>(e[t]={close:"",open:""},e),Object.create(null))}function ac(e){return e?.printFunctionName??qe.printFunctionName}function cc(e){return e?.escapeRegex??qe.escapeRegex}function uc(e){return e?.escapeString??qe.escapeString}function Hs(e){return{callToJSON:e?.callToJSON??qe.callToJSON,colors:e?.highlight?Of():Mf(),compareKeys:typeof e?.compareKeys=="function"||e?.compareKeys===null?e.compareKeys:qe.compareKeys,escapeRegex:cc(e),escapeString:uc(e),indent:e?.min?"":Af(e?.indent??qe.indent),maxDepth:e?.maxDepth??qe.maxDepth,maxWidth:e?.maxWidth??qe.maxWidth,min:e?.min??qe.min,plugins:e?.plugins??qe.plugins,printBasicPrototype:e?.printBasicPrototype??!0,printFunctionName:ac(e),printShadowRoot:e?.printShadowRoot??!0,spacingInner:e?.min?" ":`
`,spacingOuter:e?.min?"":`
`}}function Af(e){return Array.from({length:e+1}).join(" ")}function ze(e,t){if(t&&(_f(t),t.plugins)){const r=sc(t.plugins,e);if(r!==null)return oc(r,e,Hs(t),"",0,[])}const n=nc(e,ac(t),cc(t),uc(t));return n!==null?n:rc(e,Hs(t),"",0,[])}const Zn={AsymmetricMatcher:yl,DOMCollection:xl,DOMElement:jl,Immutable:Hl,ReactElement:lf,ReactTestComponent:mf,Error:xf},Xs={bold:["1","22"],dim:["2","22"],italic:["3","23"],underline:["4","24"],inverse:["7","27"],hidden:["8","28"],strike:["9","29"],black:["30","39"],red:["31","39"],green:["32","39"],yellow:["33","39"],blue:["34","39"],magenta:["35","39"],cyan:["36","39"],white:["37","39"],brightblack:["30;1","39"],brightred:["31;1","39"],brightgreen:["32;1","39"],brightyellow:["33;1","39"],brightblue:["34;1","39"],brightmagenta:["35;1","39"],brightcyan:["36;1","39"],brightwhite:["37;1","39"],grey:["90","39"]},Cf={special:"cyan",number:"yellow",bigint:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",symbol:"green",date:"magenta",regexp:"red"},kt="…";function Nf(e,t){const n=Xs[Cf[t]]||Xs[t]||"";return n?`\x1B[${n[0]}m${String(e)}\x1B[${n[1]}m`:String(e)}function If({showHidden:e=!1,depth:t=2,colors:n=!1,customInspect:r=!0,showProxy:o=!1,maxArrayLength:s=1/0,breakLength:i=1/0,seen:a=[],truncate:u=1/0,stylize:c=String}={},l){const f={showHidden:!!e,depth:Number(t),colors:!!n,customInspect:!!r,showProxy:!!o,maxArrayLength:Number(s),breakLength:Number(i),truncate:Number(u),seen:a,inspect:l,stylize:c};return f.colors&&(f.stylize=Nf),f}function kf(e){return e>="\uD800"&&e<="\uDBFF"}function ft(e,t,n=kt){e=String(e);const r=n.length,o=e.length;if(r>t&&o>r)return n;if(o>t&&o>r){let s=t-r;return s>0&&kf(e[s-1])&&(s=s-1),`${e.slice(0,s)}${n}`}return e}function Ue(e,t,n,r=", "){n=n||t.inspect;const o=e.length;if(o===0)return"";const s=t.truncate;let i="",a="",u="";for(let c=0;c<o;c+=1){const l=c+1===e.length,f=c+2===e.length;u=`${kt}(${e.length-c})`;const h=e[c];t.truncate=s-i.length-(l?0:r.length);const d=a||n(h,t)+(l?"":r),p=i.length+d.length,g=p+u.length;if(l&&p>s&&i.length+u.length<=s||!l&&!f&&g>s||(a=l?"":n(e[c+1],t)+(f?"":r),!l&&f&&g>s&&p+a.length>s))break;if(i+=d,!l&&!f&&p+a.length>=s){u=`${kt}(${e.length-c-1})`;break}u=""}return`${i}${u}`}function Pf(e){return e.match(/^[a-zA-Z_][a-zA-Z_0-9]*$/)?e:JSON.stringify(e).replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'")}function dn([e,t],n){return n.truncate-=2,typeof e=="string"?e=Pf(e):typeof e!="number"&&(e=`[${n.inspect(e,n)}]`),n.truncate-=e.length,t=n.inspect(t,n),`${e}: ${t}`}function jf(e,t){const n=Object.keys(e).slice(e.length);if(!e.length&&!n.length)return"[]";t.truncate-=4;const r=Ue(e,t);t.truncate-=r.length;let o="";return n.length&&(o=Ue(n.map(s=>[s,e[s]]),t,dn)),`[ ${r}${o?`, ${o}`:""} ]`}const Rf=e=>typeof Buffer=="function"&&e instanceof Buffer?"Buffer":e[Symbol.toStringTag]?e[Symbol.toStringTag]:e.constructor.name;function tt(e,t){const n=Rf(e);t.truncate-=n.length+4;const r=Object.keys(e).slice(e.length);if(!e.length&&!r.length)return`${n}[]`;let o="";for(let i=0;i<e.length;i++){const a=`${t.stylize(ft(e[i],t.truncate),"number")}${i===e.length-1?"":", "}`;if(t.truncate-=a.length,e[i]!==e.length&&t.truncate<=3){o+=`${kt}(${e.length-e[i]+1})`;break}o+=a}let s="";return r.length&&(s=Ue(r.map(i=>[i,e[i]]),t,dn)),`${n}[ ${o}${s?`, ${s}`:""} ]`}function Df(e,t){const n=e.toJSON();if(n===null)return"Invalid Date";const r=n.split("T"),o=r[0];return t.stylize(`${o}T${ft(r[1],t.truncate-o.length-1)}`,"date")}function Zs(e,t){const n=e[Symbol.toStringTag]||"Function",r=e.name;return r?t.stylize(`[${n} ${ft(r,t.truncate-11)}]`,"special"):t.stylize(`[${n}]`,"special")}function Ff([e,t],n){return n.truncate-=4,e=n.inspect(e,n),n.truncate-=e.length,t=n.inspect(t,n),`${e} => ${t}`}function Bf(e){const t=[];return e.forEach((n,r)=>{t.push([r,n])}),t}function Lf(e,t){return e.size===0?"Map{}":(t.truncate-=7,`Map{ ${Ue(Bf(e),t,Ff)} }`)}const qf=Number.isNaN||(e=>e!==e);function Qs(e,t){return qf(e)?t.stylize("NaN","number"):e===1/0?t.stylize("Infinity","number"):e===-1/0?t.stylize("-Infinity","number"):e===0?t.stylize(1/e===1/0?"+0":"-0","number"):t.stylize(ft(String(e),t.truncate),"number")}function ei(e,t){let n=ft(e.toString(),t.truncate-1);return n!==kt&&(n+="n"),t.stylize(n,"bigint")}function Vf(e,t){const n=e.toString().split("/")[2],r=t.truncate-(2+n.length),o=e.source;return t.stylize(`/${ft(o,r)}/${n}`,"regexp")}function zf(e){const t=[];return e.forEach(n=>{t.push(n)}),t}function Wf(e,t){return e.size===0?"Set{}":(t.truncate-=7,`Set{ ${Ue(zf(e),t)} }`)}const ti=new RegExp("['\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]","g"),Uf={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","'":"\\'","\\":"\\\\"},Kf=16;function Yf(e){return Uf[e]||`\\u${`0000${e.charCodeAt(0).toString(Kf)}`.slice(-4)}`}function ni(e,t){return ti.test(e)&&(e=e.replace(ti,Yf)),t.stylize(`'${ft(e,t.truncate-2)}'`,"string")}function ri(e){return"description"in Symbol.prototype?e.description?`Symbol(${e.description})`:"Symbol()":e.toString()}const Gf=()=>"Promise{…}";function kn(e,t){const n=Object.getOwnPropertyNames(e),r=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e):[];if(n.length===0&&r.length===0)return"{}";if(t.truncate-=4,t.seen=t.seen||[],t.seen.includes(e))return"[Circular]";t.seen.push(e);const o=Ue(n.map(a=>[a,e[a]]),t,dn),s=Ue(r.map(a=>[a,e[a]]),t,dn);t.seen.pop();let i="";return o&&s&&(i=", "),`{ ${o}${i}${s} }`}const vr=typeof Symbol<"u"&&Symbol.toStringTag?Symbol.toStringTag:!1;function Jf(e,t){let n="";return vr&&vr in e&&(n=e[vr]),n=n||e.constructor.name,(!n||n==="_class")&&(n="<Anonymous Class>"),t.truncate-=n.length,`${n}${kn(e,t)}`}function Hf(e,t){return e.length===0?"Arguments[]":(t.truncate-=13,`Arguments[ ${Ue(e,t)} ]`)}const Xf=["stack","line","column","name","message","fileName","lineNumber","columnNumber","number","description","cause"];function Zf(e,t){const n=Object.getOwnPropertyNames(e).filter(i=>Xf.indexOf(i)===-1),r=e.name;t.truncate-=r.length;let o="";if(typeof e.message=="string"?o=ft(e.message,t.truncate):n.unshift("message"),o=o?`: ${o}`:"",t.truncate-=o.length+5,t.seen=t.seen||[],t.seen.includes(e))return"[Circular]";t.seen.push(e);const s=Ue(n.map(i=>[i,e[i]]),t,dn);return`${r}${o}${s?` { ${s} }`:""}`}function Qf([e,t],n){return n.truncate-=3,t?`${n.stylize(String(e),"yellow")}=${n.stylize(`"${t}"`,"string")}`:`${n.stylize(String(e),"yellow")}`}function no(e,t){return Ue(e,t,eh,`
`)}function eh(e,t){switch(e.nodeType){case 1:return lc(e,t);case 3:return t.inspect(e.data,t);default:return t.inspect(e,t)}}function lc(e,t){const n=e.getAttributeNames(),r=e.tagName.toLowerCase(),o=t.stylize(`<${r}`,"special"),s=t.stylize(">","special"),i=t.stylize(`</${r}>`,"special");t.truncate-=r.length*2+5;let a="";n.length>0&&(a+=" ",a+=Ue(n.map(l=>[l,e.getAttribute(l)]),t,Qf," ")),t.truncate-=a.length;const u=t.truncate;let c=no(e.children,t);return c&&c.length>u&&(c=`${kt}(${e.children.length})`),`${o}${a}${s}${c}${i}`}const th=typeof Symbol=="function"&&typeof Symbol.for=="function",Er=th?Symbol.for("chai/inspect"):"@@chai/inspect",Sr=Symbol.for("nodejs.util.inspect.custom"),oi=new WeakMap,si={},ii={undefined:(e,t)=>t.stylize("undefined","undefined"),null:(e,t)=>t.stylize("null","null"),boolean:(e,t)=>t.stylize(String(e),"boolean"),Boolean:(e,t)=>t.stylize(String(e),"boolean"),number:Qs,Number:Qs,bigint:ei,BigInt:ei,string:ni,String:ni,function:Zs,Function:Zs,symbol:ri,Symbol:ri,Array:jf,Date:Df,Map:Lf,Set:Wf,RegExp:Vf,Promise:Gf,WeakSet:(e,t)=>t.stylize("WeakSet{…}","special"),WeakMap:(e,t)=>t.stylize("WeakMap{…}","special"),Arguments:Hf,Int8Array:tt,Uint8Array:tt,Uint8ClampedArray:tt,Int16Array:tt,Uint16Array:tt,Int32Array:tt,Uint32Array:tt,Float32Array:tt,Float64Array:tt,Generator:()=>"",DataView:()=>"",ArrayBuffer:()=>"",Error:Zf,HTMLCollection:no,NodeList:no},nh=(e,t,n,r)=>Er in e&&typeof e[Er]=="function"?e[Er](t):Sr in e&&typeof e[Sr]=="function"?e[Sr](t.depth,t,r):"inspect"in e&&typeof e.inspect=="function"?e.inspect(t.depth,t):"constructor"in e&&oi.has(e.constructor)?oi.get(e.constructor)(e,t):si[n]?si[n](e,t):"",rh=Object.prototype.toString;function Pn(e,t={}){const n=If(t,Pn),{customInspect:r}=n;let o=e===null?"null":typeof e;if(o==="object"&&(o=rh.call(e).slice(8,-1)),o in ii)return ii[o](e,n);if(r&&e){const i=nh(e,n,o,Pn);if(i)return typeof i=="string"?i:Pn(i,n)}const s=e?Object.getPrototypeOf(e):!1;return s===Object.prototype||s===null?kn(e,n):e&&typeof HTMLElement=="function"&&e instanceof HTMLElement?lc(e,n):"constructor"in e?e.constructor!==Object?Jf(e,n):kn(e,n):e===Object(e)?kn(e,n):n.stylize(String(e),o)}const{AsymmetricMatcher:oh,DOMCollection:sh,DOMElement:ih,Immutable:ah,ReactElement:ch,ReactTestComponent:uh}=Zn,ai=[uh,ch,ih,sh,ah,oh];function _e(e,t=10,{maxLength:n,...r}={}){const o=n??1e4;let s;try{s=ze(e,{maxDepth:t,escapeString:!1,plugins:ai,...r})}catch{s=ze(e,{callToJSON:!1,maxDepth:t,escapeString:!1,plugins:ai,...r})}return s.length>=o&&t>1?_e(e,Math.floor(Math.min(t,Number.MAX_SAFE_INTEGER)/2),{maxLength:n,...r}):s}const fc=/%[sdjifoOc%]/g;function lh(e,t={}){const n=(a,u)=>t.prettifyObject?_e(a,void 0,{printBasicPrototype:!1,escapeString:!1}):hc(a,u);if(typeof e[0]!="string"){const a=[];for(let u=0;u<e.length;u++)a.push(n(e[u],{depth:0,colors:!1}));return a.join(" ")}const r=e.length;let o=1;const s=e[0];let i=String(s).replace(fc,a=>{if(a==="%%")return"%";if(o>=r)return a;switch(a){case"%s":{const u=e[o++];return typeof u=="bigint"?`${u.toString()}n`:typeof u=="number"&&u===0&&1/u<0?"-0":typeof u=="object"&&u!==null?typeof u.toString=="function"&&u.toString!==Object.prototype.toString?u.toString():n(u,{depth:0,colors:!1}):String(u)}case"%d":{const u=e[o++];return typeof u=="bigint"?`${u.toString()}n`:Number(u).toString()}case"%i":{const u=e[o++];return typeof u=="bigint"?`${u.toString()}n`:Number.parseInt(String(u)).toString()}case"%f":return Number.parseFloat(String(e[o++])).toString();case"%o":return n(e[o++],{showHidden:!0,showProxy:!0});case"%O":return n(e[o++]);case"%c":return o++,"";case"%j":try{return JSON.stringify(e[o++])}catch(u){const c=u.message;if(c.includes("circular structure")||c.includes("cyclic structures")||c.includes("cyclic object"))return"[Circular]";throw u}default:return a}});for(let a=e[o];o<r;a=e[++o])a===null||typeof a!="object"?i+=` ${a}`:i+=` ${n(a)}`;return i}function fh(...e){return lh(e)}function hc(e,t={}){return t.truncate===0&&(t.truncate=Number.POSITIVE_INFINITY),Pn(e,t)}function hh(e,t={}){typeof t.truncate>"u"&&(t.truncate=40);const n=hc(e,t),r=Object.prototype.toString.call(e);if(t.truncate&&n.length>=t.truncate)if(r==="[object Function]"){const o=e;return o.name?`[Function: ${o.name}]`:"[Function]"}else{if(r==="[object Array]")return`[ Array(${e.length}) ]`;if(r==="[object Object]"){const o=Object.keys(e);return`{ Object (${o.length>2?`${o.splice(0,2).join(", ")}, ...`:o.join(", ")}) }`}else return n}return n}function dh(e){const{message:t="$$stack trace error",stackTraceLimit:n=1}=e||{},r=Error.stackTraceLimit,o=Error.prepareStackTrace;Error.stackTraceLimit=n,Error.prepareStackTrace=a=>a.stack;const i=new Error(t).stack||"";return Error.prepareStackTrace=o,Error.stackTraceLimit=r,i}function $e(e,t,n){const r=typeof e;if(!n.includes(r))throw new TypeError(`${t} value must be ${n.join(" or ")}, received "${r}"`)}function dc(e){return e==null&&(e=[]),Array.isArray(e)?e:[e]}function Mt(e){return e!=null&&typeof e=="object"&&!Array.isArray(e)}function ph(e){return e===Object.prototype||e===Function.prototype||e===RegExp.prototype}function pn(e){return Object.prototype.toString.apply(e).slice(8,-1)}function mh(e,t){const n=typeof t=="function"?t:r=>t.add(r);Object.getOwnPropertyNames(e).forEach(n),Object.getOwnPropertySymbols(e).forEach(n)}function pc(e){const t=new Set;return ph(e)?[]:(mh(e,t),Array.from(t))}const mc={forceWritable:!1};function ci(e,t=mc){return ro(e,new WeakMap,t)}function ro(e,t,n=mc){let r,o;if(t.has(e))return t.get(e);if(Array.isArray(e)){for(o=Array.from({length:r=e.length}),t.set(e,o);r--;)o[r]=ro(e[r],t,n);return o}if(Object.prototype.toString.call(e)==="[object Object]"){o=Object.create(Object.getPrototypeOf(e)),t.set(e,o);const s=pc(e);for(const i of s){const a=Object.getOwnPropertyDescriptor(e,i);if(!a)continue;const u=ro(e[i],t,n);n.forceWritable?Object.defineProperty(o,i,{enumerable:a.enumerable,configurable:!0,writable:!0,value:u}):"get"in a?Object.defineProperty(o,i,{...a,get(){return u}}):Object.defineProperty(o,i,{...a,value:u})}return o}return e}function gh(){}function ui(e,t,n=void 0){const r=t.replace(/\[(\d+)\]/g,".$1").split(".");let o=e;for(const s of r)if(o=new Object(o)[s],o===void 0)return n;return o}function li(){let e=null,t=null;const n=new Promise((r,o)=>{e=r,t=o});return n.resolve=e,n.reject=t,n}function yh(e){if(!Number.isNaN(e))return!1;const t=new Float64Array(1);return t[0]=e,new Uint32Array(t.buffer)[1]>>>31===1}function bh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}const we=-1,ge=1,ie=0;class oe{0;1;constructor(t,n){this[0]=t,this[1]=n}}function wh(e,t){if(!e||!t||e.charAt(0)!==t.charAt(0))return 0;let n=0,r=Math.min(e.length,t.length),o=r,s=0;for(;n<o;)e.substring(s,o)===t.substring(s,o)?(n=o,s=n):r=o,o=Math.floor((r-n)/2+n);return o}function gc(e,t){if(!e||!t||e.charAt(e.length-1)!==t.charAt(t.length-1))return 0;let n=0,r=Math.min(e.length,t.length),o=r,s=0;for(;n<o;)e.substring(e.length-o,e.length-s)===t.substring(t.length-o,t.length-s)?(n=o,s=n):r=o,o=Math.floor((r-n)/2+n);return o}function fi(e,t){const n=e.length,r=t.length;if(n===0||r===0)return 0;n>r?e=e.substring(n-r):n<r&&(t=t.substring(0,n));const o=Math.min(n,r);if(e===t)return o;let s=0,i=1;for(;;){const a=e.substring(o-i),u=t.indexOf(a);if(u===-1)return s;i+=u,(u===0||e.substring(o-i)===t.substring(0,i))&&(s=i,i++)}}function Th(e){let t=!1;const n=[];let r=0,o=null,s=0,i=0,a=0,u=0,c=0;for(;s<e.length;)e[s][0]===ie?(n[r++]=s,i=u,a=c,u=0,c=0,o=e[s][1]):(e[s][0]===ge?u+=e[s][1].length:c+=e[s][1].length,o&&o.length<=Math.max(i,a)&&o.length<=Math.max(u,c)&&(e.splice(n[r-1],0,new oe(we,o)),e[n[r-1]+1][0]=ge,r--,r--,s=r>0?n[r-1]:-1,i=0,a=0,u=0,c=0,o=null,t=!0)),s++;for(t&&yc(e),Sh(e),s=1;s<e.length;){if(e[s-1][0]===we&&e[s][0]===ge){const l=e[s-1][1],f=e[s][1],h=fi(l,f),d=fi(f,l);h>=d?(h>=l.length/2||h>=f.length/2)&&(e.splice(s,0,new oe(ie,f.substring(0,h))),e[s-1][1]=l.substring(0,l.length-h),e[s+1][1]=f.substring(h),s++):(d>=l.length/2||d>=f.length/2)&&(e.splice(s,0,new oe(ie,l.substring(0,d))),e[s-1][0]=ge,e[s-1][1]=f.substring(0,f.length-d),e[s+1][0]=we,e[s+1][1]=l.substring(d),s++),s++}s++}}const hi=/[^a-z0-9]/i,di=/\s/,pi=/[\r\n]/,vh=/\n\r?\n$/,Eh=/^\r?\n\r?\n/;function Sh(e){let t=1;for(;t<e.length-1;){if(e[t-1][0]===ie&&e[t+1][0]===ie){let n=e[t-1][1],r=e[t][1],o=e[t+1][1];const s=gc(n,r);if(s){const l=r.substring(r.length-s);n=n.substring(0,n.length-s),r=l+r.substring(0,r.length-s),o=l+o}let i=n,a=r,u=o,c=_n(n,r)+_n(r,o);for(;r.charAt(0)===o.charAt(0);){n+=r.charAt(0),r=r.substring(1)+o.charAt(0),o=o.substring(1);const l=_n(n,r)+_n(r,o);l>=c&&(c=l,i=n,a=r,u=o)}e[t-1][1]!==i&&(i?e[t-1][1]=i:(e.splice(t-1,1),t--),e[t][1]=a,u?e[t+1][1]=u:(e.splice(t+1,1),t--))}t++}}function yc(e){var t;e.push(new oe(ie,""));let n=0,r=0,o=0,s="",i="",a;for(;n<e.length;)switch(e[n][0]){case ge:o++,i+=e[n][1],n++;break;case we:r++,s+=e[n][1],n++;break;case ie:r+o>1?(r!==0&&o!==0&&(a=wh(i,s),a!==0&&(n-r-o>0&&e[n-r-o-1][0]===ie?e[n-r-o-1][1]+=i.substring(0,a):(e.splice(0,0,new oe(ie,i.substring(0,a))),n++),i=i.substring(a),s=s.substring(a)),a=gc(i,s),a!==0&&(e[n][1]=i.substring(i.length-a)+e[n][1],i=i.substring(0,i.length-a),s=s.substring(0,s.length-a))),n-=r+o,e.splice(n,r+o),s.length&&(e.splice(n,0,new oe(we,s)),n++),i.length&&(e.splice(n,0,new oe(ge,i)),n++),n++):n!==0&&e[n-1][0]===ie?(e[n-1][1]+=e[n][1],e.splice(n,1)):n++,o=0,r=0,s="",i="";break}((t=e.at(-1))===null||t===void 0?void 0:t[1])===""&&e.pop();let u=!1;for(n=1;n<e.length-1;)e[n-1][0]===ie&&e[n+1][0]===ie&&(e[n][1].substring(e[n][1].length-e[n-1][1].length)===e[n-1][1]?(e[n][1]=e[n-1][1]+e[n][1].substring(0,e[n][1].length-e[n-1][1].length),e[n+1][1]=e[n-1][1]+e[n+1][1],e.splice(n-1,1),u=!0):e[n][1].substring(0,e[n+1][1].length)===e[n+1][1]&&(e[n-1][1]+=e[n+1][1],e[n][1]=e[n][1].substring(e[n+1][1].length)+e[n+1][1],e.splice(n+1,1),u=!0)),n++;u&&yc(e)}function _n(e,t){if(!e||!t)return 6;const n=e.charAt(e.length-1),r=t.charAt(0),o=n.match(hi),s=r.match(hi),i=o&&n.match(di),a=s&&r.match(di),u=i&&n.match(pi),c=a&&r.match(pi),l=u&&e.match(vh),f=c&&t.match(Eh);return l||f?5:u||c?4:o&&!i&&a?3:i||a?2:o||s?1:0}const bc="Compared values have no visual difference.",xh="Compared values serialize to the same structure.\nPrinting internal object structure without calling `toJSON` instead.";var On={},mi;function $h(){if(mi)return On;mi=1,Object.defineProperty(On,"__esModule",{value:!0}),On.default=h;const e="diff-sequences",t=0,n=(d,p,g,w,T)=>{let x=0;for(;d<p&&g<w&&T(d,g);)d+=1,g+=1,x+=1;return x},r=(d,p,g,w,T)=>{let x=0;for(;d<=p&&g<=w&&T(p,w);)p-=1,w-=1,x+=1;return x},o=(d,p,g,w,T,x,A)=>{let _=0,C=-d,N=x[_],O=N;x[_]+=n(N+1,p,w+N-C+1,g,T);const B=d<A?d:A;for(_+=1,C+=2;_<=B;_+=1,C+=2){if(_!==d&&O<x[_])N=x[_];else if(N=O+1,p<=N)return _-1;O=x[_],x[_]=N+n(N+1,p,w+N-C+1,g,T)}return A},s=(d,p,g,w,T,x,A)=>{let _=0,C=d,N=x[_],O=N;x[_]-=r(p,N-1,g,w+N-C-1,T);const B=d<A?d:A;for(_+=1,C-=2;_<=B;_+=1,C-=2){if(_!==d&&x[_]<O)N=x[_];else if(N=O-1,N<p)return _-1;O=x[_],x[_]=N-r(p,N-1,g,w+N-C-1,T)}return A},i=(d,p,g,w,T,x,A,_,C,N,O)=>{const B=w-p,X=g-p,Y=T-w-X,te=-Y-(d-1),ce=-Y+(d-1);let ue=t;const ne=d<_?d:_;for(let G=0,ee=-d;G<=ne;G+=1,ee+=2){const Oe=G===0||G!==d&&ue<A[G],le=Oe?A[G]:ue,ye=Oe?le:le+1,De=B+ye-ee,Te=n(ye+1,g,De+1,T,x),Ee=ye+Te;if(ue=A[G],A[G]=Ee,te<=ee&&ee<=ce){const Ze=(d-1-(ee+Y))/2;if(Ze<=N&&C[Ze]-1<=Ee){const ke=B+le-(Oe?ee+1:ee-1),Se=r(p,le,w,ke,x),xe=le-Se,xt=ke-Se,Ye=xe+1,qt=xt+1;O.nChangePreceding=d-1,d-1===Ye+qt-p-w?(O.aEndPreceding=p,O.bEndPreceding=w):(O.aEndPreceding=Ye,O.bEndPreceding=qt),O.nCommonPreceding=Se,Se!==0&&(O.aCommonPreceding=Ye,O.bCommonPreceding=qt),O.nCommonFollowing=Te,Te!==0&&(O.aCommonFollowing=ye+1,O.bCommonFollowing=De+1);const be=Ee+1,Qe=De+Te+1;return O.nChangeFollowing=d-1,d-1===g+T-be-Qe?(O.aStartFollowing=g,O.bStartFollowing=T):(O.aStartFollowing=be,O.bStartFollowing=Qe),!0}}}return!1},a=(d,p,g,w,T,x,A,_,C,N,O)=>{const B=T-g,X=g-p,Y=T-w-X,te=Y-d,ce=Y+d;let ue=t;const ne=d<N?d:N;for(let G=0,ee=d;G<=ne;G+=1,ee-=2){const Oe=G===0||G!==d&&C[G]<ue,le=Oe?C[G]:ue,ye=Oe?le:le-1,De=B+ye-ee,Te=r(p,ye-1,w,De-1,x),Ee=ye-Te;if(ue=C[G],C[G]=Ee,te<=ee&&ee<=ce){const Ze=(d+(ee-Y))/2;if(Ze<=_&&Ee-1<=A[Ze]){const ke=De-Te;if(O.nChangePreceding=d,d===Ee+ke-p-w?(O.aEndPreceding=p,O.bEndPreceding=w):(O.aEndPreceding=Ee,O.bEndPreceding=ke),O.nCommonPreceding=Te,Te!==0&&(O.aCommonPreceding=Ee,O.bCommonPreceding=ke),O.nChangeFollowing=d-1,d===1)O.nCommonFollowing=0,O.aStartFollowing=g,O.bStartFollowing=T;else{const Se=B+le-(Oe?ee-1:ee+1),xe=n(le,g,Se,T,x);O.nCommonFollowing=xe,xe!==0&&(O.aCommonFollowing=le,O.bCommonFollowing=Se);const xt=le+xe,Ye=Se+xe;d-1===g+T-xt-Ye?(O.aStartFollowing=g,O.bStartFollowing=T):(O.aStartFollowing=xt,O.bStartFollowing=Ye)}return!0}}}return!1},u=(d,p,g,w,T,x,A,_,C)=>{const N=w-p,O=T-g,B=g-p,X=T-w,D=X-B;let Y=B,te=B;if(A[0]=p-1,_[0]=g,D%2===0){const ce=(d||D)/2,ue=(B+X)/2;for(let ne=1;ne<=ue;ne+=1)if(Y=o(ne,g,T,N,x,A,Y),ne<ce)te=s(ne,p,w,O,x,_,te);else if(a(ne,p,g,w,T,x,A,Y,_,te,C))return}else{const ce=((d||D)+1)/2,ue=(B+X+1)/2;let ne=1;for(Y=o(ne,g,T,N,x,A,Y),ne+=1;ne<=ue;ne+=1)if(te=s(ne-1,p,w,O,x,_,te),ne<ce)Y=o(ne,g,T,N,x,A,Y);else if(i(ne,p,g,w,T,x,A,Y,_,te,C))return}throw new Error(`${e}: no overlap aStart=${p} aEnd=${g} bStart=${w} bEnd=${T}`)},c=(d,p,g,w,T,x,A,_,C,N)=>{if(T-w<g-p){if(x=!x,x&&A.length===1){const{foundSubsequence:Ee,isCommon:Ze}=A[0];A[1]={foundSubsequence:(ke,Se,xe)=>{Ee(ke,xe,Se)},isCommon:(ke,Se)=>Ze(Se,ke)}}const De=p,Te=g;p=w,g=T,w=De,T=Te}const{foundSubsequence:O,isCommon:B}=A[x?1:0];u(d,p,g,w,T,B,_,C,N);const{nChangePreceding:X,aEndPreceding:D,bEndPreceding:Y,nCommonPreceding:te,aCommonPreceding:ce,bCommonPreceding:ue,nCommonFollowing:ne,aCommonFollowing:G,bCommonFollowing:ee,nChangeFollowing:Oe,aStartFollowing:le,bStartFollowing:ye}=N;p<D&&w<Y&&c(X,p,D,w,Y,x,A,_,C,N),te!==0&&O(te,ce,ue),ne!==0&&O(ne,G,ee),le<g&&ye<T&&c(Oe,le,g,ye,T,x,A,_,C,N)},l=(d,p)=>{if(typeof p!="number")throw new TypeError(`${e}: ${d} typeof ${typeof p} is not a number`);if(!Number.isSafeInteger(p))throw new RangeError(`${e}: ${d} value ${p} is not a safe integer`);if(p<0)throw new RangeError(`${e}: ${d} value ${p} is a negative integer`)},f=(d,p)=>{const g=typeof p;if(g!=="function")throw new TypeError(`${e}: ${d} typeof ${g} is not a function`)};function h(d,p,g,w){l("aLength",d),l("bLength",p),f("isCommon",g),f("foundSubsequence",w);const T=n(0,d,0,p,g);if(T!==0&&w(T,0,0),d!==T||p!==T){const x=T,A=T,_=r(x,d-1,A,p-1,g),C=d-_,N=p-_,O=T+_;d!==O&&p!==O&&c(0,x,C,A,N,!1,[{foundSubsequence:w,isCommon:g}],[t],[t],{aCommonFollowing:t,aCommonPreceding:t,aEndPreceding:t,aStartFollowing:t,bCommonFollowing:t,bCommonPreceding:t,bEndPreceding:t,bStartFollowing:t,nChangeFollowing:t,nChangePreceding:t,nCommonFollowing:t,nCommonPreceding:t}),_!==0&&w(_,C,N)}}return On}var _h=$h(),wc=bh(_h);function Oh(e,t){return e.replace(/\s+$/,n=>t(n))}function Ro(e,t,n,r,o,s){return e.length!==0?n(`${r} ${Oh(e,o)}`):r!==" "?n(r):t&&s.length!==0?n(`${r} ${s}`):""}function Tc(e,t,{aColor:n,aIndicator:r,changeLineTrailingSpaceColor:o,emptyFirstOrLastLinePlaceholder:s}){return Ro(e,t,n,r,o,s)}function vc(e,t,{bColor:n,bIndicator:r,changeLineTrailingSpaceColor:o,emptyFirstOrLastLinePlaceholder:s}){return Ro(e,t,n,r,o,s)}function Ec(e,t,{commonColor:n,commonIndicator:r,commonLineTrailingSpaceColor:o,emptyFirstOrLastLinePlaceholder:s}){return Ro(e,t,n,r,o,s)}function gi(e,t,n,r,{patchColor:o}){return o(`@@ -${e+1},${t-e} +${n+1},${r-n} @@`)}function Mh(e,t){const n=e.length,r=t.contextLines,o=r+r;let s=n,i=!1,a=0,u=0;for(;u!==n;){const _=u;for(;u!==n&&e[u][0]===ie;)u+=1;if(_!==u)if(_===0)u>r&&(s-=u-r,i=!0);else if(u===n){const C=u-_;C>r&&(s-=C-r,i=!0)}else{const C=u-_;C>o&&(s-=C-o,a+=1)}for(;u!==n&&e[u][0]!==ie;)u+=1}const c=a!==0||i;a!==0?s+=a+1:i&&(s+=1);const l=s-1,f=[];let h=0;c&&f.push("");let d=0,p=0,g=0,w=0;const T=_=>{const C=f.length;f.push(Ec(_,C===0||C===l,t)),g+=1,w+=1},x=_=>{const C=f.length;f.push(Tc(_,C===0||C===l,t)),g+=1},A=_=>{const C=f.length;f.push(vc(_,C===0||C===l,t)),w+=1};for(u=0;u!==n;){let _=u;for(;u!==n&&e[u][0]===ie;)u+=1;if(_!==u)if(_===0){u>r&&(_=u-r,d=_,p=_,g=d,w=p);for(let C=_;C!==u;C+=1)T(e[C][1])}else if(u===n){const C=u-_>r?_+r:u;for(let N=_;N!==C;N+=1)T(e[N][1])}else{const C=u-_;if(C>o){const N=_+r;for(let B=_;B!==N;B+=1)T(e[B][1]);f[h]=gi(d,g,p,w,t),h=f.length,f.push("");const O=C-o;d=g+O,p=w+O,g=d,w=p;for(let B=u-r;B!==u;B+=1)T(e[B][1])}else for(let N=_;N!==u;N+=1)T(e[N][1])}for(;u!==n&&e[u][0]===we;)x(e[u][1]),u+=1;for(;u!==n&&e[u][0]===ge;)A(e[u][1]),u+=1}return c&&(f[h]=gi(d,g,p,w,t)),f.join(`
`)}function Ah(e,t){return e.map((n,r,o)=>{const s=n[1],i=r===0||r===o.length-1;switch(n[0]){case we:return Tc(s,i,t);case ge:return vc(s,i,t);default:return Ec(s,i,t)}}).join(`
`)}const xr=e=>e,Sc=5,Ch=0;function Nh(){return{aAnnotation:"Expected",aColor:ae.green,aIndicator:"-",bAnnotation:"Received",bColor:ae.red,bIndicator:"+",changeColor:ae.inverse,changeLineTrailingSpaceColor:xr,commonColor:ae.dim,commonIndicator:" ",commonLineTrailingSpaceColor:xr,compareKeys:void 0,contextLines:Sc,emptyFirstOrLastLinePlaceholder:"",expand:!1,includeChangeCounts:!1,omitAnnotationLines:!1,patchColor:ae.yellow,printBasicPrototype:!1,truncateThreshold:Ch,truncateAnnotation:"... Diff result is truncated",truncateAnnotationColor:xr}}function Ih(e){return e&&typeof e=="function"?e:void 0}function kh(e){return typeof e=="number"&&Number.isSafeInteger(e)&&e>=0?e:Sc}function Et(e={}){return{...Nh(),...e,compareKeys:Ih(e.compareKeys),contextLines:kh(e.contextLines)}}function Ot(e){return e.length===1&&e[0].length===0}function Ph(e){let t=0,n=0;return e.forEach(r=>{switch(r[0]){case we:t+=1;break;case ge:n+=1;break}}),{a:t,b:n}}function jh({aAnnotation:e,aColor:t,aIndicator:n,bAnnotation:r,bColor:o,bIndicator:s,includeChangeCounts:i,omitAnnotationLines:a},u){if(a)return"";let c="",l="";if(i){const d=String(u.a),p=String(u.b),g=r.length-e.length,w=" ".repeat(Math.max(0,g)),T=" ".repeat(Math.max(0,-g)),x=p.length-d.length,A=" ".repeat(Math.max(0,x)),_=" ".repeat(Math.max(0,-x));c=`${w}  ${n} ${A}${d}`,l=`${T}  ${s} ${_}${p}`}const f=`${n} ${e}${c}`,h=`${s} ${r}${l}`;return`${t(f)}
${o(h)}

`}function Do(e,t,n){return jh(n,Ph(e))+(n.expand?Ah(e,n):Mh(e,n))+(t?n.truncateAnnotationColor(`
${n.truncateAnnotation}`):"")}function Qn(e,t,n){const r=Et(n),[o,s]=xc(Ot(e)?[]:e,Ot(t)?[]:t,r);return Do(o,s,r)}function Rh(e,t,n,r,o){if(Ot(e)&&Ot(n)&&(e=[],n=[]),Ot(t)&&Ot(r)&&(t=[],r=[]),e.length!==n.length||t.length!==r.length)return Qn(e,t,o);const[s,i]=xc(n,r,o);let a=0,u=0;return s.forEach(c=>{switch(c[0]){case we:c[1]=e[a],a+=1;break;case ge:c[1]=t[u],u+=1;break;default:c[1]=t[u],a+=1,u+=1}}),Do(s,i,Et(o))}function xc(e,t,n){const r=n?.truncateThreshold??!1,o=Math.max(Math.floor(n?.truncateThreshold??0),0),s=r?Math.min(e.length,o):e.length,i=r?Math.min(t.length,o):t.length,a=s!==e.length||i!==t.length,u=(d,p)=>e[d]===t[p],c=[];let l=0,f=0;for(wc(s,i,u,(d,p,g)=>{for(;l!==p;l+=1)c.push(new oe(we,e[l]));for(;f!==g;f+=1)c.push(new oe(ge,t[f]));for(;d!==0;d-=1,l+=1,f+=1)c.push(new oe(ie,t[f]))});l!==s;l+=1)c.push(new oe(we,e[l]));for(;f!==i;f+=1)c.push(new oe(ge,t[f]));return[c,a]}function yi(e){if(e===void 0)return"undefined";if(e===null)return"null";if(Array.isArray(e))return"array";if(typeof e=="boolean")return"boolean";if(typeof e=="function")return"function";if(typeof e=="number")return"number";if(typeof e=="string")return"string";if(typeof e=="bigint")return"bigint";if(typeof e=="object"){if(e!=null){if(e.constructor===RegExp)return"regexp";if(e.constructor===Map)return"map";if(e.constructor===Set)return"set";if(e.constructor===Date)return"date"}return"object"}else if(typeof e=="symbol")return"symbol";throw new Error(`value of unknown type: ${e}`)}function bi(e){return e.includes(`\r
`)?`\r
`:`
`}function Dh(e,t,n){const r=n?.truncateThreshold??!1,o=Math.max(Math.floor(n?.truncateThreshold??0),0);let s=e.length,i=t.length;if(r){const d=e.includes(`
`),p=t.includes(`
`),g=bi(e),w=bi(t),T=d?`${e.split(g,o).join(g)}
`:e,x=p?`${t.split(w,o).join(w)}
`:t;s=T.length,i=x.length}const a=s!==e.length||i!==t.length,u=(d,p)=>e[d]===t[p];let c=0,l=0;const f=[];return wc(s,i,u,(d,p,g)=>{c!==p&&f.push(new oe(we,e.slice(c,p))),l!==g&&f.push(new oe(ge,t.slice(l,g))),c=p+d,l=g+d,f.push(new oe(ie,t.slice(g,l)))}),c!==s&&f.push(new oe(we,e.slice(c))),l!==i&&f.push(new oe(ge,t.slice(l))),[f,a]}function Fh(e,t,n){return t.reduce((r,o)=>r+(o[0]===ie?o[1]:o[0]===e&&o[1].length!==0?n(o[1]):""),"")}class wi{op;line;lines;changeColor;constructor(t,n){this.op=t,this.line=[],this.lines=[],this.changeColor=n}pushSubstring(t){this.pushDiff(new oe(this.op,t))}pushLine(){this.lines.push(this.line.length!==1?new oe(this.op,Fh(this.op,this.line,this.changeColor)):this.line[0][0]===this.op?this.line[0]:new oe(this.op,this.line[0][1])),this.line.length=0}isLineEmpty(){return this.line.length===0}pushDiff(t){this.line.push(t)}align(t){const n=t[1];if(n.includes(`
`)){const r=n.split(`
`),o=r.length-1;r.forEach((s,i)=>{i<o?(this.pushSubstring(s),this.pushLine()):s.length!==0&&this.pushSubstring(s)})}else this.pushDiff(t)}moveLinesTo(t){this.isLineEmpty()||this.pushLine(),t.push(...this.lines),this.lines.length=0}}class Bh{deleteBuffer;insertBuffer;lines;constructor(t,n){this.deleteBuffer=t,this.insertBuffer=n,this.lines=[]}pushDiffCommonLine(t){this.lines.push(t)}pushDiffChangeLines(t){const n=t[1].length===0;(!n||this.deleteBuffer.isLineEmpty())&&this.deleteBuffer.pushDiff(t),(!n||this.insertBuffer.isLineEmpty())&&this.insertBuffer.pushDiff(t)}flushChangeLines(){this.deleteBuffer.moveLinesTo(this.lines),this.insertBuffer.moveLinesTo(this.lines)}align(t){const n=t[0],r=t[1];if(r.includes(`
`)){const o=r.split(`
`),s=o.length-1;o.forEach((i,a)=>{if(a===0){const u=new oe(n,i);this.deleteBuffer.isLineEmpty()&&this.insertBuffer.isLineEmpty()?(this.flushChangeLines(),this.pushDiffCommonLine(u)):(this.pushDiffChangeLines(u),this.flushChangeLines())}else a<s?this.pushDiffCommonLine(new oe(n,i)):i.length!==0&&this.pushDiffChangeLines(new oe(n,i))})}else this.pushDiffChangeLines(t)}getLines(){return this.flushChangeLines(),this.lines}}function Lh(e,t){const n=new wi(we,t),r=new wi(ge,t),o=new Bh(n,r);return e.forEach(s=>{switch(s[0]){case we:n.align(s);break;case ge:r.align(s);break;default:o.align(s)}}),o.getLines()}function qh(e,t){if(t){const n=e.length-1;return e.some((r,o)=>r[0]===ie&&(o!==n||r[1]!==`
`))}return e.some(n=>n[0]===ie)}function Vh(e,t,n){if(e!==t&&e.length!==0&&t.length!==0){const r=e.includes(`
`)||t.includes(`
`),[o,s]=$c(r?`${e}
`:e,r?`${t}
`:t,!0,n);if(qh(o,r)){const i=Et(n),a=Lh(o,i.changeColor);return Do(a,s,i)}}return Qn(e.split(`
`),t.split(`
`),n)}function $c(e,t,n,r){const[o,s]=Dh(e,t,r);return Th(o),[o,s]}function oo(e,t){const{commonColor:n}=Et(t);return n(e)}const{AsymmetricMatcher:zh,DOMCollection:Wh,DOMElement:Uh,Immutable:Kh,ReactElement:Yh,ReactTestComponent:Gh}=Zn,_c=[Gh,Yh,Uh,Wh,Kh,zh,Zn.Error],so={maxDepth:20,plugins:_c},Oc={callToJSON:!1,maxDepth:8,plugins:_c};function Rt(e,t,n){if(Object.is(e,t))return"";const r=yi(e);let o=r,s=!1;if(r==="object"&&typeof e.asymmetricMatch=="function"){if(e.$$typeof!==Symbol.for("jest.asymmetricMatcher")||typeof e.getExpectedType!="function")return;o=e.getExpectedType(),s=o==="string"}if(o!==yi(t)){let w=function(A){return A.length<=g?A:`${A.slice(0,g)}...`};const{aAnnotation:i,aColor:a,aIndicator:u,bAnnotation:c,bColor:l,bIndicator:f}=Et(n),h=io(Oc,n);let d=ze(e,h),p=ze(t,h);const g=1e5;d=w(d),p=w(p);const T=`${a(`${u} ${i}:`)} 
${d}`,x=`${l(`${f} ${c}:`)} 
${p}`;return`${T}

${x}`}if(!s)switch(r){case"string":return Qn(e.split(`
`),t.split(`
`),n);case"boolean":case"number":return Jh(e,t,n);case"map":return $r(Ti(e),Ti(t),n);case"set":return $r(vi(e),vi(t),n);default:return $r(e,t,n)}}function Jh(e,t,n){const r=ze(e,so),o=ze(t,so);return r===o?"":Qn(r.split(`
`),o.split(`
`),n)}function Ti(e){return new Map(Array.from(e.entries()).sort())}function vi(e){return new Set(Array.from(e.values()).sort())}function $r(e,t,n){let r,o=!1;try{const i=io(so,n);r=Ei(e,t,i,n)}catch{o=!0}const s=oo(bc,n);if(r===void 0||r===s){const i=io(Oc,n);r=Ei(e,t,i,n),r!==s&&!o&&(r=`${oo(xh,n)}

${r}`)}return r}function io(e,t){const{compareKeys:n,printBasicPrototype:r,maxDepth:o}=Et(t);return{...e,compareKeys:n,printBasicPrototype:r,maxDepth:o??e.maxDepth}}function Ei(e,t,n,r){const o={...n,indent:0},s=ze(e,o),i=ze(t,o);if(s===i)return oo(bc,r);{const a=ze(e,n),u=ze(t,n);return Rh(a.split(`
`),u.split(`
`),s.split(`
`),i.split(`
`),r)}}const Si=2e4;function xi(e){return pn(e)==="Object"&&typeof e.asymmetricMatch=="function"}function $i(e,t){const n=pn(e),r=pn(t);return n===r&&(n==="Object"||n==="Array")}function Mc(e,t,n){const{aAnnotation:r,bAnnotation:o}=Et(n);if(typeof t=="string"&&typeof e=="string"&&t.length>0&&e.length>0&&t.length<=Si&&e.length<=Si&&t!==e){if(t.includes(`
`)||e.includes(`
`))return Vh(t,e,n);const[l]=$c(t,e),f=l.some(g=>g[0]===ie),h=Hh(r,o),d=h(r)+Qh(_i(l,we,f)),p=h(o)+Zh(_i(l,ge,f));return`${d}
${p}`}const s=ci(t,{forceWritable:!0}),i=ci(e,{forceWritable:!0}),{replacedExpected:a,replacedActual:u}=Ac(i,s);return Rt(a,u,n)}function Ac(e,t,n=new WeakSet,r=new WeakSet){return e instanceof Error&&t instanceof Error&&typeof e.cause<"u"&&typeof t.cause>"u"?(delete e.cause,{replacedActual:e,replacedExpected:t}):$i(e,t)?n.has(e)||r.has(t)?{replacedActual:e,replacedExpected:t}:(n.add(e),r.add(t),pc(t).forEach(o=>{const s=t[o],i=e[o];if(xi(s))s.asymmetricMatch(i)&&(e[o]=s);else if(xi(i))i.asymmetricMatch(s)&&(t[o]=i);else if($i(i,s)){const a=Ac(i,s,n,r);e[o]=a.replacedActual,t[o]=a.replacedExpected}}),{replacedActual:e,replacedExpected:t}):{replacedActual:e,replacedExpected:t}}function Hh(...e){const t=e.reduce((n,r)=>r.length>n?r.length:n,0);return n=>`${n}: ${" ".repeat(t-n.length)}`}const Xh="·";function Cc(e){return e.replace(/\s+$/gm,t=>Xh.repeat(t.length))}function Zh(e){return ae.red(Cc(_e(e)))}function Qh(e){return ae.green(Cc(_e(e)))}function _i(e,t,n){return e.reduce((r,o)=>r+(o[0]===ie?o[1]:o[0]===t?n?ae.inverse(o[1]):o[1]:""),"")}function pt(e){return typeof e=="function"&&"_isMockFunction"in e&&e._isMockFunction===!0}const ao=new Set,Fo=new Set,Nc=new WeakMap;function Bo(e={}){var t;const{originalImplementation:n,restore:r,mockImplementation:o,resetToMockImplementation:s,resetToMockName:i}=e;r&&ao.add(r);const a=dd(n),u=pd(),c=rd({config:a,state:u,...e}),l=((t=o||n)===null||t===void 0?void 0:t.length)??0;return Object.defineProperty(c,"length",{writable:!0,enumerable:!1,value:l,configurable:!0}),i&&(a.mockName=c.name||"vi.fn()"),Nc.set(c,a),Fo.add(c),c._isMockFunction=!0,c.getMockImplementation=()=>a.onceMockImplementations[0]||a.mockImplementation,Object.defineProperty(c,"mock",{configurable:!1,enumerable:!0,writable:!1,value:u}),c.mockImplementation=function(h){return a.mockImplementation=h,c},c.mockImplementationOnce=function(h){return a.onceMockImplementations.push(h),c},c.withImplementation=function(h,d){const p=a.mockImplementation,g=a.onceMockImplementations,w=()=>{a.mockImplementation=p,a.onceMockImplementations=g};a.mockImplementation=h,a.onceMockImplementations=[];const T=d();return typeof T=="object"&&typeof T?.then=="function"?T.then(()=>(w(),c)):(w(),c)},c.mockReturnThis=function(){return c.mockImplementation(function(){return this})},c.mockReturnValue=function(h){return c.mockImplementation(()=>h)},c.mockReturnValueOnce=function(h){return c.mockImplementationOnce(()=>h)},c.mockResolvedValue=function(h){return c.mockImplementation(()=>Promise.resolve(h))},c.mockResolvedValueOnce=function(h){return c.mockImplementationOnce(()=>Promise.resolve(h))},c.mockRejectedValue=function(h){return c.mockImplementation(()=>Promise.reject(h))},c.mockRejectedValueOnce=function(h){return c.mockImplementationOnce(()=>Promise.reject(h))},c.mockClear=function(){return u.calls=[],u.contexts=[],u.instances=[],u.invocationCallOrder=[],u.results=[],u.settledResults=[],c},c.mockReset=function(){return c.mockClear(),a.mockImplementation=s?o:void 0,a.mockName=i&&c.name||"vi.fn()",a.onceMockImplementations=[],c},c.mockRestore=function(){return c.mockReset(),r?.()},c.mockName=function(h){return typeof h=="string"&&(a.mockName=h),c},c.getMockName=function(){return a.mockName||"vi.fn()"},Symbol.dispose&&(c[Symbol.dispose]=()=>c.mockRestore()),o&&c.mockImplementation(o),c}function ed(e){return e!=null&&pt(e)?e:Bo({mockImplementation:e,resetToMockImplementation:!0})}function td(e,t,n){Mn(e!=null,"The vi.spyOn() function could not find an object to spy upon. The first argument must be defined."),Mn(typeof e=="object"||typeof e=="function","Vitest cannot spy on a primitive value.");const[r,o]=Ic(e,t)||[];Mn(o||t in e,`The property "${String(t)}" is not defined on the ${typeof e}.`);let s=n||"value",i=!1;s==="value"&&o&&o.value==null&&o.get&&(s="get",i=!0);let a;o?a=o[s]:s!=="value"?a=()=>e[t]:a=e[t];const u=i&&a?a():a,c=typeof u;if(Mn(c==="function"||s!=="value"&&a==null,`vi.spyOn() can only spy on a function. Received ${c}.`),pt(u))return u;const l=d=>{const{value:p,...g}=o||{configurable:!0,writable:!0};s!=="value"&&delete g.writable,g[s]=d,Object.defineProperty(e,t,g)},h=Bo({restore:()=>{r!==e?Reflect.deleteProperty(e,t):o&&!a?Object.defineProperty(e,t,o):l(a)},originalImplementation:u,resetToMockName:!0});try{l(i?()=>h:h)}catch(d){throw d instanceof TypeError&&Symbol.toStringTag&&e[Symbol.toStringTag]==="Module"&&(d.message.includes("Cannot redefine property")||d.message.includes("Cannot replace module namespace")||d.message.includes("can't redefine non-configurable property"))?new TypeError(`Cannot spy on export "${String(t)}". Module namespace is not configurable in ESM. See: https://vitest.dev/guide/browser/#limitations`,{cause:d}):d}return h}function Ic(e,t){const n=Object.getOwnPropertyDescriptor(e,t);if(n)return[e,n];let r=Object.getPrototypeOf(e);for(;r!==null;){const o=Object.getOwnPropertyDescriptor(r,t);if(o)return[r,o];r=Object.getPrototypeOf(r)}}function Mn(e,t){if(!e)throw new Error(t)}let nd=1;function rd({state:e,config:t,name:n,prototypeState:r,prototypeConfig:o,keepMembersImplementation:s,mockImplementation:i,prototypeMembers:a=[]}){const u=t.mockOriginal,c=i,l=n||u?.name||"Mock",f={[l]:(function(...p){od(p,e,r),sd(nd++,e,r);const g={type:"incomplete",value:void 0},w={type:"incomplete",value:void 0};id(g,e,r),ad(w,e,r);const T=new.target?void 0:this,[x,A]=cd(T,e,r),[_,C]=ud(T,e,r),N=t.onceMockImplementations.shift()||t.mockImplementation||o?.onceMockImplementations.shift()||o?.mockImplementation||u||function(){};let O,B,X=!1;try{if(new.target){O=Reflect.construct(N,p,new.target);for(const D of a){const Y=O[D];if(Y!==h.prototype[D])continue;const te=pt(Y),ce=te?Y.mock:void 0,ue=te?Nc.get(Y):void 0;O[D]=Bo({originalImplementation:s?ue?.mockOriginal:void 0,prototypeState:ce,prototypeConfig:ue,keepMembersImplementation:s})}}else O=N.apply(this,p)}catch(D){throw B=D,X=!0,D instanceof TypeError&&D.message.includes("is not a constructor")&&console.warn(`[vitest] The ${f[l].getMockName()} mock did not use 'function' or 'class' in its implementation, see https://vitest.dev/api/vi#vi-spyon for examples.`),D}finally{X?(g.type="throw",g.value=B,w.type="rejected",w.value=B):(g.type="return",g.value=O,new.target&&(e.contexts[_-1]=O,e.instances[x-1]=O,C!=null&&r&&(r.contexts[C-1]=O),A!=null&&r&&(r.instances[A-1]=O)),O instanceof Promise?O.then(D=>{w.type="fulfilled",w.value=D},D=>{w.type="rejected",w.value=D}):(w.type="fulfilled",w.value=O))}return O})},h=f[l],d=u||c;return d&&ld(h,d),h}function od(e,t,n){t.calls.push(e),n?.calls.push(e)}function sd(e,t,n){t.invocationCallOrder.push(e),n?.invocationCallOrder.push(e)}function id(e,t,n){t.results.push(e),n?.results.push(e)}function ad(e,t,n){t.settledResults.push(e),n?.settledResults.push(e)}function cd(e,t,n){const r=t.instances.push(e),o=n?.instances.push(e);return[r,o]}function ud(e,t,n){const r=t.contexts.push(e),o=n?.contexts.push(e);return[r,o]}function ld(e,t){const{properties:n,descriptors:r}=hd(t);for(const o of n){const s=r[o];Ic(e,o)||Object.defineProperty(e,o,s)}}const fd=new Set(["length","name","prototype",Symbol.for("nodejs.util.promisify.custom")]);function hd(e){const t=new Set,n={};for(;e&&e!==Object.prototype&&e!==Function.prototype;){const r=[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e)];for(const o of r)n[o]||fd.has(o)||(t.add(o),n[o]=Object.getOwnPropertyDescriptor(e,o));e=Object.getPrototypeOf(e)}return{properties:t,descriptors:n}}function dd(e){return{mockImplementation:void 0,mockOriginal:e,mockName:"vi.fn()",onceMockImplementations:[]}}function pd(){const e={calls:[],contexts:[],instances:[],invocationCallOrder:[],settledResults:[],results:[],get lastCall(){return e.calls.at(-1)}};return e}function md(){for(const e of ao)e();ao.clear()}function gd(){Fo.forEach(e=>e.mockClear())}function yd(){Fo.forEach(e=>e.mockReset())}const bd="@@__IMMUTABLE_RECORD__@@",wd="@@__IMMUTABLE_ITERABLE__@@";function Td(e){return e&&(e[wd]||e[bd])}const vd=Object.getPrototypeOf({});function Oi(e){return e instanceof Error?`<unserializable>: ${e.message}`:typeof e=="string"?`<unserializable>: ${e}`:"<unserializable>"}function it(e,t=new WeakMap){if(!e||typeof e=="string")return e;if(e instanceof Error&&"toJSON"in e&&typeof e.toJSON=="function"){const n=e.toJSON();return n&&n!==e&&typeof n=="object"&&(typeof e.message=="string"&&zt(()=>n.message??(n.message=Mi(e.message))),typeof e.stack=="string"&&zt(()=>n.stack??(n.stack=e.stack)),typeof e.name=="string"&&zt(()=>n.name??(n.name=e.name)),e.cause!=null&&zt(()=>n.cause??(n.cause=it(e.cause,t)))),it(n,t)}if(typeof e=="function")return`Function<${e.name||"anonymous"}>`;if(typeof e=="symbol")return e.toString();if(typeof e!="object")return e;if(typeof Buffer<"u"&&e instanceof Buffer)return`<Buffer(${e.length}) ...>`;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return`<Uint8Array(${e.length}) ...>`;if(Td(e))return it(e.toJSON(),t);if(e instanceof Promise||e.constructor&&e.constructor.prototype==="AsyncFunction")return"Promise";if(typeof Element<"u"&&e instanceof Element)return e.tagName;if(typeof e.toJSON=="function")return it(e.toJSON(),t);if(t.has(e))return t.get(e);if(Array.isArray(e)){const n=new Array(e.length);return t.set(e,n),e.forEach((r,o)=>{try{n[o]=it(r,t)}catch(s){n[o]=Oi(s)}}),n}else{const n=Object.create(null);t.set(e,n);let r=e;for(;r&&r!==vd;)Object.getOwnPropertyNames(r).forEach(o=>{if(!(o in n))try{n[o]=it(e[o],t)}catch(s){delete n[o],n[o]=Oi(s)}}),r=Object.getPrototypeOf(r);return e instanceof Error&&zt(()=>e.message=Mi(e.message)),n}}function zt(e){try{return e()}catch{}}function Mi(e){return e.replace(/__(vite_ssr_import|vi_import)_\d+__\./g,"")}function kc(e,t,n=new WeakSet){if(!e||typeof e!="object")return{message:String(e)};const r=e;(r.showDiff||r.showDiff===void 0&&r.expected!==void 0&&r.actual!==void 0)&&(r.diff=Mc(r.actual,r.expected,{...t,...r.diffOptions})),"expected"in r&&typeof r.expected!="string"&&(r.expected=_e(r.expected,10)),"actual"in r&&typeof r.actual!="string"&&(r.actual=_e(r.actual,10));try{!n.has(r)&&typeof r.cause=="object"&&(n.add(r),r.cause=kc(r.cause,t,n))}catch{}try{return it(r)}catch(o){return it(new Error(`Failed to fully serialize error: ${o?.message}
Inner error message: ${r?.message}`))}}var Lo=Object.defineProperty,Ed=(e,t,n)=>t in e?Lo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,S=(e,t)=>Lo(e,"name",{value:t,configurable:!0}),qo=(e,t)=>{for(var n in t)Lo(e,n,{get:t[n],enumerable:!0})},Pc=(e,t,n)=>Ed(e,typeof t!="symbol"?t+"":t,n),fe={};qo(fe,{addChainableMethod:()=>es,addLengthGuard:()=>wn,addMethod:()=>Xo,addProperty:()=>Ho,checkError:()=>Ae,compareByInspect:()=>qn,eql:()=>uu,events:()=>rr,expectTypes:()=>zc,flag:()=>L,getActual:()=>tr,getMessage:()=>Wo,getName:()=>or,getOperator:()=>os,getOwnEnumerableProperties:()=>rs,getOwnEnumerablePropertySymbols:()=>ns,getPathInfo:()=>Go,hasProperty:()=>nr,inspect:()=>z,isNaN:()=>Vn,isNumeric:()=>me,isProxyEnabled:()=>bn,isRegExp:()=>zn,objDisplay:()=>mt,overwriteChainableMethod:()=>ts,overwriteMethod:()=>Qo,overwriteProperty:()=>Zo,proxify:()=>Dt,test:()=>Vo,transferFlags:()=>Ke,type:()=>Q});var Ae={};qo(Ae,{compatibleConstructor:()=>Dc,compatibleInstance:()=>Rc,compatibleMessage:()=>Fc,getConstructorName:()=>Bc,getMessage:()=>Lc});function er(e){return e instanceof Error||Object.prototype.toString.call(e)==="[object Error]"}S(er,"isErrorInstance");function jc(e){return Object.prototype.toString.call(e)==="[object RegExp]"}S(jc,"isRegExp");function Rc(e,t){return er(t)&&e===t}S(Rc,"compatibleInstance");function Dc(e,t){return er(t)?e.constructor===t.constructor||e instanceof t.constructor:(typeof t=="object"||typeof t=="function")&&t.prototype?e.constructor===t||e instanceof t:!1}S(Dc,"compatibleConstructor");function Fc(e,t){const n=typeof e=="string"?e:e.message;return jc(t)?t.test(n):typeof t=="string"?n.indexOf(t)!==-1:!1}S(Fc,"compatibleMessage");function Bc(e){let t=e;return er(e)?t=e.constructor.name:typeof e=="function"&&(t=e.name,t===""&&(t=new e().name||t)),t}S(Bc,"getConstructorName");function Lc(e){let t="";return e&&e.message?t=e.message:typeof e=="string"&&(t=e),t}S(Lc,"getMessage");function L(e,t,n){let r=e.__flags||(e.__flags=Object.create(null));if(arguments.length===3)r[t]=n;else return r[t]}S(L,"flag");function Vo(e,t){let n=L(e,"negate"),r=t[0];return n?!r:r}S(Vo,"test");function Q(e){if(typeof e>"u")return"undefined";if(e===null)return"null";const t=e[Symbol.toStringTag];return typeof t=="string"?t:Object.prototype.toString.call(e).slice(8,-1)}S(Q,"type");var Sd="captureStackTrace"in Error,qc=class Vc extends Error{constructor(t="Unspecified AssertionError",n,r){super(t),Pc(this,"message"),this.message=t,Sd&&Error.captureStackTrace(this,r||Vc);for(const o in n)o in this||(this[o]=n[o])}get name(){return"AssertionError"}get ok(){return!1}toJSON(t){return{...this,name:this.name,message:this.message,ok:!1,stack:t!==!1?this.stack:void 0}}};S(qc,"AssertionError");var K=qc;function zc(e,t){let n=L(e,"message"),r=L(e,"ssfi");n=n?n+": ":"",e=L(e,"object"),t=t.map(function(i){return i.toLowerCase()}),t.sort();let o=t.map(function(i,a){let u=~["a","e","i","o","u"].indexOf(i.charAt(0))?"an":"a";return(t.length>1&&a===t.length-1?"or ":"")+u+" "+i}).join(", "),s=Q(e).toLowerCase();if(!t.some(function(i){return s===i}))throw new K(n+"object tested must be "+o+", but "+s+" given",void 0,r)}S(zc,"expectTypes");function tr(e,t){return t.length>4?t[4]:e._obj}S(tr,"getActual");var Ai={bold:["1","22"],dim:["2","22"],italic:["3","23"],underline:["4","24"],inverse:["7","27"],hidden:["8","28"],strike:["9","29"],black:["30","39"],red:["31","39"],green:["32","39"],yellow:["33","39"],blue:["34","39"],magenta:["35","39"],cyan:["36","39"],white:["37","39"],brightblack:["30;1","39"],brightred:["31;1","39"],brightgreen:["32;1","39"],brightyellow:["33;1","39"],brightblue:["34;1","39"],brightmagenta:["35;1","39"],brightcyan:["36;1","39"],brightwhite:["37;1","39"],grey:["90","39"]},xd={special:"cyan",number:"yellow",bigint:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",symbol:"green",date:"magenta",regexp:"red"},Pt="…";function Wc(e,t){const n=Ai[xd[t]]||Ai[t]||"";return n?`\x1B[${n[0]}m${String(e)}\x1B[${n[1]}m`:String(e)}S(Wc,"colorise");function Uc({showHidden:e=!1,depth:t=2,colors:n=!1,customInspect:r=!0,showProxy:o=!1,maxArrayLength:s=1/0,breakLength:i=1/0,seen:a=[],truncate:u=1/0,stylize:c=String}={},l){const f={showHidden:!!e,depth:Number(t),colors:!!n,customInspect:!!r,showProxy:!!o,maxArrayLength:Number(s),breakLength:Number(i),truncate:Number(u),seen:a,inspect:l,stylize:c};return f.colors&&(f.stylize=Wc),f}S(Uc,"normaliseOptions");function Kc(e){return e>="\uD800"&&e<="\uDBFF"}S(Kc,"isHighSurrogate");function nt(e,t,n=Pt){e=String(e);const r=n.length,o=e.length;if(r>t&&o>r)return n;if(o>t&&o>r){let s=t-r;return s>0&&Kc(e[s-1])&&(s=s-1),`${e.slice(0,s)}${n}`}return e}S(nt,"truncate");function Re(e,t,n,r=", "){n=n||t.inspect;const o=e.length;if(o===0)return"";const s=t.truncate;let i="",a="",u="";for(let c=0;c<o;c+=1){const l=c+1===e.length,f=c+2===e.length;u=`${Pt}(${e.length-c})`;const h=e[c];t.truncate=s-i.length-(l?0:r.length);const d=a||n(h,t)+(l?"":r),p=i.length+d.length,g=p+u.length;if(l&&p>s&&i.length+u.length<=s||!l&&!f&&g>s||(a=l?"":n(e[c+1],t)+(f?"":r),!l&&f&&g>s&&p+a.length>s))break;if(i+=d,!l&&!f&&p+a.length>=s){u=`${Pt}(${e.length-c-1})`;break}u=""}return`${i}${u}`}S(Re,"inspectList");function Yc(e){return e.match(/^[a-zA-Z_][a-zA-Z_0-9]*$/)?e:JSON.stringify(e).replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'")}S(Yc,"quoteComplexKey");function jt([e,t],n){return n.truncate-=2,typeof e=="string"?e=Yc(e):typeof e!="number"&&(e=`[${n.inspect(e,n)}]`),n.truncate-=e.length,t=n.inspect(t,n),`${e}: ${t}`}S(jt,"inspectProperty");function Gc(e,t){const n=Object.keys(e).slice(e.length);if(!e.length&&!n.length)return"[]";t.truncate-=4;const r=Re(e,t);t.truncate-=r.length;let o="";return n.length&&(o=Re(n.map(s=>[s,e[s]]),t,jt)),`[ ${r}${o?`, ${o}`:""} ]`}S(Gc,"inspectArray");var $d=S(e=>typeof Buffer=="function"&&e instanceof Buffer?"Buffer":e[Symbol.toStringTag]?e[Symbol.toStringTag]:e.constructor.name,"getArrayName");function Ge(e,t){const n=$d(e);t.truncate-=n.length+4;const r=Object.keys(e).slice(e.length);if(!e.length&&!r.length)return`${n}[]`;let o="";for(let i=0;i<e.length;i++){const a=`${t.stylize(nt(e[i],t.truncate),"number")}${i===e.length-1?"":", "}`;if(t.truncate-=a.length,e[i]!==e.length&&t.truncate<=3){o+=`${Pt}(${e.length-e[i]+1})`;break}o+=a}let s="";return r.length&&(s=Re(r.map(i=>[i,e[i]]),t,jt)),`${n}[ ${o}${s?`, ${s}`:""} ]`}S(Ge,"inspectTypedArray");function Jc(e,t){const n=e.toJSON();if(n===null)return"Invalid Date";const r=n.split("T"),o=r[0];return t.stylize(`${o}T${nt(r[1],t.truncate-o.length-1)}`,"date")}S(Jc,"inspectDate");function co(e,t){const n=e[Symbol.toStringTag]||"Function",r=e.name;return r?t.stylize(`[${n} ${nt(r,t.truncate-11)}]`,"special"):t.stylize(`[${n}]`,"special")}S(co,"inspectFunction");function Hc([e,t],n){return n.truncate-=4,e=n.inspect(e,n),n.truncate-=e.length,t=n.inspect(t,n),`${e} => ${t}`}S(Hc,"inspectMapEntry");function Xc(e){const t=[];return e.forEach((n,r)=>{t.push([r,n])}),t}S(Xc,"mapToEntries");function Zc(e,t){return e.size===0?"Map{}":(t.truncate-=7,`Map{ ${Re(Xc(e),t,Hc)} }`)}S(Zc,"inspectMap");var _d=Number.isNaN||(e=>e!==e);function uo(e,t){return _d(e)?t.stylize("NaN","number"):e===1/0?t.stylize("Infinity","number"):e===-1/0?t.stylize("-Infinity","number"):e===0?t.stylize(1/e===1/0?"+0":"-0","number"):t.stylize(nt(String(e),t.truncate),"number")}S(uo,"inspectNumber");function lo(e,t){let n=nt(e.toString(),t.truncate-1);return n!==Pt&&(n+="n"),t.stylize(n,"bigint")}S(lo,"inspectBigInt");function Qc(e,t){const n=e.toString().split("/")[2],r=t.truncate-(2+n.length),o=e.source;return t.stylize(`/${nt(o,r)}/${n}`,"regexp")}S(Qc,"inspectRegExp");function eu(e){const t=[];return e.forEach(n=>{t.push(n)}),t}S(eu,"arrayFromSet");function tu(e,t){return e.size===0?"Set{}":(t.truncate-=7,`Set{ ${Re(eu(e),t)} }`)}S(tu,"inspectSet");var Ci=new RegExp("['\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]","g"),Od={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","'":"\\'","\\":"\\\\"},Md=16;function nu(e){return Od[e]||`\\u${`0000${e.charCodeAt(0).toString(Md)}`.slice(-4)}`}S(nu,"escape");function fo(e,t){return Ci.test(e)&&(e=e.replace(Ci,nu)),t.stylize(`'${nt(e,t.truncate-2)}'`,"string")}S(fo,"inspectString");function ho(e){return"description"in Symbol.prototype?e.description?`Symbol(${e.description})`:"Symbol()":e.toString()}S(ho,"inspectSymbol");var Ad=S(()=>"Promise{…}","getPromiseValue"),Cd=Ad;function an(e,t){const n=Object.getOwnPropertyNames(e),r=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e):[];if(n.length===0&&r.length===0)return"{}";if(t.truncate-=4,t.seen=t.seen||[],t.seen.includes(e))return"[Circular]";t.seen.push(e);const o=Re(n.map(a=>[a,e[a]]),t,jt),s=Re(r.map(a=>[a,e[a]]),t,jt);t.seen.pop();let i="";return o&&s&&(i=", "),`{ ${o}${i}${s} }`}S(an,"inspectObject");var _r=typeof Symbol<"u"&&Symbol.toStringTag?Symbol.toStringTag:!1;function ru(e,t){let n="";return _r&&_r in e&&(n=e[_r]),n=n||e.constructor.name,(!n||n==="_class")&&(n="<Anonymous Class>"),t.truncate-=n.length,`${n}${an(e,t)}`}S(ru,"inspectClass");function ou(e,t){return e.length===0?"Arguments[]":(t.truncate-=13,`Arguments[ ${Re(e,t)} ]`)}S(ou,"inspectArguments");var Nd=["stack","line","column","name","message","fileName","lineNumber","columnNumber","number","description","cause"];function su(e,t){const n=Object.getOwnPropertyNames(e).filter(i=>Nd.indexOf(i)===-1),r=e.name;t.truncate-=r.length;let o="";if(typeof e.message=="string"?o=nt(e.message,t.truncate):n.unshift("message"),o=o?`: ${o}`:"",t.truncate-=o.length+5,t.seen=t.seen||[],t.seen.includes(e))return"[Circular]";t.seen.push(e);const s=Re(n.map(i=>[i,e[i]]),t,jt);return`${r}${o}${s?` { ${s} }`:""}`}S(su,"inspectObject");function iu([e,t],n){return n.truncate-=3,t?`${n.stylize(String(e),"yellow")}=${n.stylize(`"${t}"`,"string")}`:`${n.stylize(String(e),"yellow")}`}S(iu,"inspectAttribute");function Bn(e,t){return Re(e,t,au,`
`)}S(Bn,"inspectNodeCollection");function au(e,t){switch(e.nodeType){case 1:return zo(e,t);case 3:return t.inspect(e.data,t);default:return t.inspect(e,t)}}S(au,"inspectNode");function zo(e,t){const n=e.getAttributeNames(),r=e.tagName.toLowerCase(),o=t.stylize(`<${r}`,"special"),s=t.stylize(">","special"),i=t.stylize(`</${r}>`,"special");t.truncate-=r.length*2+5;let a="";n.length>0&&(a+=" ",a+=Re(n.map(l=>[l,e.getAttribute(l)]),t,iu," ")),t.truncate-=a.length;const u=t.truncate;let c=Bn(e.children,t);return c&&c.length>u&&(c=`${Pt}(${e.children.length})`),`${o}${a}${s}${c}${i}`}S(zo,"inspectHTML");var Id=typeof Symbol=="function"&&typeof Symbol.for=="function",Or=Id?Symbol.for("chai/inspect"):"@@chai/inspect",Mr=Symbol.for("nodejs.util.inspect.custom"),Ni=new WeakMap,Ii={},ki={undefined:S((e,t)=>t.stylize("undefined","undefined"),"undefined"),null:S((e,t)=>t.stylize("null","null"),"null"),boolean:S((e,t)=>t.stylize(String(e),"boolean"),"boolean"),Boolean:S((e,t)=>t.stylize(String(e),"boolean"),"Boolean"),number:uo,Number:uo,bigint:lo,BigInt:lo,string:fo,String:fo,function:co,Function:co,symbol:ho,Symbol:ho,Array:Gc,Date:Jc,Map:Zc,Set:tu,RegExp:Qc,Promise:Cd,WeakSet:S((e,t)=>t.stylize("WeakSet{…}","special"),"WeakSet"),WeakMap:S((e,t)=>t.stylize("WeakMap{…}","special"),"WeakMap"),Arguments:ou,Int8Array:Ge,Uint8Array:Ge,Uint8ClampedArray:Ge,Int16Array:Ge,Uint16Array:Ge,Int32Array:Ge,Uint32Array:Ge,Float32Array:Ge,Float64Array:Ge,Generator:S(()=>"","Generator"),DataView:S(()=>"","DataView"),ArrayBuffer:S(()=>"","ArrayBuffer"),Error:su,HTMLCollection:Bn,NodeList:Bn},kd=S((e,t,n,r)=>Or in e&&typeof e[Or]=="function"?e[Or](t):Mr in e&&typeof e[Mr]=="function"?e[Mr](t.depth,t,r):"inspect"in e&&typeof e.inspect=="function"?e.inspect(t.depth,t):"constructor"in e&&Ni.has(e.constructor)?Ni.get(e.constructor)(e,t):Ii[n]?Ii[n](e,t):"","inspectCustom"),Pd=Object.prototype.toString;function cn(e,t={}){const n=Uc(t,cn),{customInspect:r}=n;let o=e===null?"null":typeof e;if(o==="object"&&(o=Pd.call(e).slice(8,-1)),o in ki)return ki[o](e,n);if(r&&e){const i=kd(e,n,o,cn);if(i)return typeof i=="string"?i:cn(i,n)}const s=e?Object.getPrototypeOf(e):!1;return s===Object.prototype||s===null?an(e,n):e&&typeof HTMLElement=="function"&&e instanceof HTMLElement?zo(e,n):"constructor"in e?e.constructor!==Object?ru(e,n):an(e,n):e===Object(e)?an(e,n):n.stylize(String(e),o)}S(cn,"inspect");var ve={includeStack:!1,showDiff:!0,truncateThreshold:40,useProxy:!0,proxyExcludedKeys:["then","catch","inspect","toJSON"],deepEqual:null};function z(e,t,n,r){let o={colors:r,depth:typeof n>"u"?2:n,showHidden:t,truncate:ve.truncateThreshold?ve.truncateThreshold:1/0};return cn(e,o)}S(z,"inspect");function mt(e){let t=z(e),n=Object.prototype.toString.call(e);if(ve.truncateThreshold&&t.length>=ve.truncateThreshold){if(n==="[object Function]")return!e.name||e.name===""?"[Function]":"[Function: "+e.name+"]";if(n==="[object Array]")return"[ Array("+e.length+") ]";if(n==="[object Object]"){let r=Object.keys(e);return"{ Object ("+(r.length>2?r.splice(0,2).join(", ")+", ...":r.join(", "))+") }"}else return t}else return t}S(mt,"objDisplay");function Wo(e,t){let n=L(e,"negate"),r=L(e,"object"),o=t[3],s=tr(e,t),i=n?t[2]:t[1],a=L(e,"message");return typeof i=="function"&&(i=i()),i=i||"",i=i.replace(/#\{this\}/g,function(){return mt(r)}).replace(/#\{act\}/g,function(){return mt(s)}).replace(/#\{exp\}/g,function(){return mt(o)}),a?a+": "+i:i}S(Wo,"getMessage");function Ke(e,t,n){let r=e.__flags||(e.__flags=Object.create(null));t.__flags||(t.__flags=Object.create(null)),n=arguments.length===3?n:!0;for(let o in r)(n||o!=="object"&&o!=="ssfi"&&o!=="lockSsfi"&&o!="message")&&(t.__flags[o]=r[o])}S(Ke,"transferFlags");function po(e){if(typeof e>"u")return"undefined";if(e===null)return"null";const t=e[Symbol.toStringTag];return typeof t=="string"?t:Object.prototype.toString.call(e).slice(8,-1)}S(po,"type");function Uo(){this._key="chai/deep-eql__"+Math.random()+Date.now()}S(Uo,"FakeMap");Uo.prototype={get:S(function(t){return t[this._key]},"get"),set:S(function(t,n){Object.isExtensible(t)&&Object.defineProperty(t,this._key,{value:n,configurable:!0})},"set")};var cu=typeof WeakMap=="function"?WeakMap:Uo;function mo(e,t,n){if(!n||bt(e)||bt(t))return null;var r=n.get(e);if(r){var o=r.get(t);if(typeof o=="boolean")return o}return null}S(mo,"memoizeCompare");function sn(e,t,n,r){if(!(!n||bt(e)||bt(t))){var o=n.get(e);o?o.set(t,r):(o=new cu,o.set(t,r),n.set(e,o))}}S(sn,"memoizeSet");var uu=yn;function yn(e,t,n){if(n&&n.comparator)return go(e,t,n);var r=Ko(e,t);return r!==null?r:go(e,t,n)}S(yn,"deepEqual");function Ko(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t?!0:bt(e)||bt(t)?!1:null}S(Ko,"simpleEqual");function go(e,t,n){n=n||{},n.memoize=n.memoize===!1?!1:n.memoize||new cu;var r=n&&n.comparator,o=mo(e,t,n.memoize);if(o!==null)return o;var s=mo(t,e,n.memoize);if(s!==null)return s;if(r){var i=r(e,t);if(i===!1||i===!0)return sn(e,t,n.memoize,i),i;var a=Ko(e,t);if(a!==null)return a}var u=po(e);if(u!==po(t))return sn(e,t,n.memoize,!1),!1;sn(e,t,n.memoize,!0);var c=lu(e,t,u,n);return sn(e,t,n.memoize,c),c}S(go,"extensiveDeepEqual");function lu(e,t,n,r){switch(n){case"String":case"Number":case"Boolean":case"Date":return yn(e.valueOf(),t.valueOf());case"Promise":case"Symbol":case"function":case"WeakMap":case"WeakSet":return e===t;case"Error":return Yo(e,t,["name","message","code"],r);case"Arguments":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"Array":return ct(e,t,r);case"RegExp":return fu(e,t);case"Generator":return hu(e,t,r);case"DataView":return ct(new Uint8Array(e.buffer),new Uint8Array(t.buffer),r);case"ArrayBuffer":return ct(new Uint8Array(e),new Uint8Array(t),r);case"Set":return yo(e,t,r);case"Map":return yo(e,t,r);case"Temporal.PlainDate":case"Temporal.PlainTime":case"Temporal.PlainDateTime":case"Temporal.Instant":case"Temporal.ZonedDateTime":case"Temporal.PlainYearMonth":case"Temporal.PlainMonthDay":return e.equals(t);case"Temporal.Duration":return e.total("nanoseconds")===t.total("nanoseconds");case"Temporal.TimeZone":case"Temporal.Calendar":return e.toString()===t.toString();default:return pu(e,t,r)}}S(lu,"extensiveDeepEqualByType");function fu(e,t){return e.toString()===t.toString()}S(fu,"regexpEqual");function yo(e,t,n){try{if(e.size!==t.size)return!1;if(e.size===0)return!0}catch{return!1}var r=[],o=[];return e.forEach(S(function(i,a){r.push([i,a])},"gatherEntries")),t.forEach(S(function(i,a){o.push([i,a])},"gatherEntries")),ct(r.sort(),o.sort(),n)}S(yo,"entriesEqual");function ct(e,t,n){var r=e.length;if(r!==t.length)return!1;if(r===0)return!0;for(var o=-1;++o<r;)if(yn(e[o],t[o],n)===!1)return!1;return!0}S(ct,"iterableEqual");function hu(e,t,n){return ct(Ln(e),Ln(t),n)}S(hu,"generatorEqual");function du(e){return typeof Symbol<"u"&&typeof e=="object"&&typeof Symbol.iterator<"u"&&typeof e[Symbol.iterator]=="function"}S(du,"hasIteratorFunction");function bo(e){if(du(e))try{return Ln(e[Symbol.iterator]())}catch{return[]}return[]}S(bo,"getIteratorEntries");function Ln(e){for(var t=e.next(),n=[t.value];t.done===!1;)t=e.next(),n.push(t.value);return n}S(Ln,"getGeneratorEntries");function wo(e){var t=[];for(var n in e)t.push(n);return t}S(wo,"getEnumerableKeys");function To(e){for(var t=[],n=Object.getOwnPropertySymbols(e),r=0;r<n.length;r+=1){var o=n[r];Object.getOwnPropertyDescriptor(e,o).enumerable&&t.push(o)}return t}S(To,"getEnumerableSymbols");function Yo(e,t,n,r){var o=n.length;if(o===0)return!0;for(var s=0;s<o;s+=1)if(yn(e[n[s]],t[n[s]],r)===!1)return!1;return!0}S(Yo,"keysEqual");function pu(e,t,n){var r=wo(e),o=wo(t),s=To(e),i=To(t);if(r=r.concat(s),o=o.concat(i),r.length&&r.length===o.length)return ct(vo(r).sort(),vo(o).sort())===!1?!1:Yo(e,t,r,n);var a=bo(e),u=bo(t);return a.length&&a.length===u.length?(a.sort(),u.sort(),ct(a,u,n)):r.length===0&&a.length===0&&o.length===0&&u.length===0}S(pu,"objectEqual");function bt(e){return e===null||typeof e!="object"}S(bt,"isPrimitive");function vo(e){return e.map(S(function(n){return typeof n=="symbol"?n.toString():n},"mapSymbol"))}S(vo,"mapSymbols");function nr(e,t){return typeof e>"u"||e===null?!1:t in Object(e)}S(nr,"hasProperty");function mu(e){return e.replace(/([^\\])\[/g,"$1.[").match(/(\\\.|[^.]+?)+/g).map(r=>{if(r==="constructor"||r==="__proto__"||r==="prototype")return{};const s=/^\[(\d+)\]$/.exec(r);let i=null;return s?i={i:parseFloat(s[1])}:i={p:r.replace(/\\([.[\]])/g,"$1")},i})}S(mu,"parsePath");function Eo(e,t,n){let r=e,o=null;n=typeof n>"u"?t.length:n;for(let s=0;s<n;s++){const i=t[s];r&&(typeof i.p>"u"?r=r[i.i]:r=r[i.p],s===n-1&&(o=r))}return o}S(Eo,"internalGetPathValue");function Go(e,t){const n=mu(t),r=n[n.length-1],o={parent:n.length>1?Eo(e,n,n.length-1):e,name:r.p||r.i,value:Eo(e,n)};return o.exists=nr(o.parent,o.name),o}S(Go,"getPathInfo");var gu=class yu{constructor(t,n,r,o){return Pc(this,"__flags",{}),L(this,"ssfi",r||yu),L(this,"lockSsfi",o),L(this,"object",t),L(this,"message",n),L(this,"eql",ve.deepEqual||uu),Dt(this)}static get includeStack(){return console.warn("Assertion.includeStack is deprecated, use chai.config.includeStack instead."),ve.includeStack}static set includeStack(t){console.warn("Assertion.includeStack is deprecated, use chai.config.includeStack instead."),ve.includeStack=t}static get showDiff(){return console.warn("Assertion.showDiff is deprecated, use chai.config.showDiff instead."),ve.showDiff}static set showDiff(t){console.warn("Assertion.showDiff is deprecated, use chai.config.showDiff instead."),ve.showDiff=t}static addProperty(t,n){Ho(this.prototype,t,n)}static addMethod(t,n){Xo(this.prototype,t,n)}static addChainableMethod(t,n,r){es(this.prototype,t,n,r)}static overwriteProperty(t,n){Zo(this.prototype,t,n)}static overwriteMethod(t,n){Qo(this.prototype,t,n)}static overwriteChainableMethod(t,n,r){ts(this.prototype,t,n,r)}assert(t,n,r,o,s,i){const a=Vo(this,arguments);if(i!==!1&&(i=!0),o===void 0&&s===void 0&&(i=!1),ve.showDiff!==!0&&(i=!1),!a){n=Wo(this,arguments);const c={actual:tr(this,arguments),expected:o,showDiff:i},l=os(this,arguments);throw l&&(c.operator=l),new K(n,c,ve.includeStack?this.assert:L(this,"ssfi"))}}get _obj(){return L(this,"object")}set _obj(t){L(this,"object",t)}};S(gu,"Assertion");var y=gu,rr=new EventTarget,bu=class extends Event{constructor(t,n,r){super(t),this.name=String(n),this.fn=r}};S(bu,"PluginEvent");var Jo=bu;function bn(){return ve.useProxy&&typeof Proxy<"u"&&typeof Reflect<"u"}S(bn,"isProxyEnabled");function Ho(e,t,n){n=n===void 0?function(){}:n,Object.defineProperty(e,t,{get:S(function r(){!bn()&&!L(this,"lockSsfi")&&L(this,"ssfi",r);let o=n.call(this);if(o!==void 0)return o;let s=new y;return Ke(this,s),s},"propertyGetter"),configurable:!0}),rr.dispatchEvent(new Jo("addProperty",t,n))}S(Ho,"addProperty");var jd=Object.getOwnPropertyDescriptor(function(){},"length");function wn(e,t,n){return jd.configurable&&Object.defineProperty(e,"length",{get:S(function(){throw Error(n?"Invalid Chai property: "+t+'.length. Due to a compatibility issue, "length" cannot directly follow "'+t+'". Use "'+t+'.lengthOf" instead.':"Invalid Chai property: "+t+'.length. See docs for proper usage of "'+t+'".')},"get")}),e}S(wn,"addLengthGuard");function wu(e){let t=Object.getOwnPropertyNames(e);function n(o){t.indexOf(o)===-1&&t.push(o)}S(n,"addProperty");let r=Object.getPrototypeOf(e);for(;r!==null;)Object.getOwnPropertyNames(r).forEach(n),r=Object.getPrototypeOf(r);return t}S(wu,"getProperties");var Pi=["__flags","__methods","_obj","assert"];function Dt(e,t){return bn()?new Proxy(e,{get:S(function n(r,o){if(typeof o=="string"&&ve.proxyExcludedKeys.indexOf(o)===-1&&!Reflect.has(r,o)){if(t)throw Error("Invalid Chai property: "+t+"."+o+'. See docs for proper usage of "'+t+'".');let s=null,i=4;throw wu(r).forEach(function(a){if(!Object.prototype.hasOwnProperty(a)&&Pi.indexOf(a)===-1){let u=Tu(o,a,i);u<i&&(s=a,i=u)}}),Error(s!==null?"Invalid Chai property: "+o+'. Did you mean "'+s+'"?':"Invalid Chai property: "+o)}return Pi.indexOf(o)===-1&&!L(r,"lockSsfi")&&L(r,"ssfi",n),Reflect.get(r,o)},"proxyGetter")}):e}S(Dt,"proxify");function Tu(e,t,n){if(Math.abs(e.length-t.length)>=n)return n;let r=[];for(let o=0;o<=e.length;o++)r[o]=Array(t.length+1).fill(0),r[o][0]=o;for(let o=0;o<t.length;o++)r[0][o]=o;for(let o=1;o<=e.length;o++){let s=e.charCodeAt(o-1);for(let i=1;i<=t.length;i++){if(Math.abs(o-i)>=n){r[o][i]=n;continue}r[o][i]=Math.min(r[o-1][i]+1,r[o][i-1]+1,r[o-1][i-1]+(s===t.charCodeAt(i-1)?0:1))}}return r[e.length][t.length]}S(Tu,"stringDistanceCapped");function Xo(e,t,n){let r=S(function(){L(this,"lockSsfi")||L(this,"ssfi",r);let o=n.apply(this,arguments);if(o!==void 0)return o;let s=new y;return Ke(this,s),s},"methodWrapper");wn(r,t,!1),e[t]=Dt(r,t),rr.dispatchEvent(new Jo("addMethod",t,n))}S(Xo,"addMethod");function Zo(e,t,n){let r=Object.getOwnPropertyDescriptor(e,t),o=S(function(){},"_super");r&&typeof r.get=="function"&&(o=r.get),Object.defineProperty(e,t,{get:S(function s(){!bn()&&!L(this,"lockSsfi")&&L(this,"ssfi",s);let i=L(this,"lockSsfi");L(this,"lockSsfi",!0);let a=n(o).call(this);if(L(this,"lockSsfi",i),a!==void 0)return a;let u=new y;return Ke(this,u),u},"overwritingPropertyGetter"),configurable:!0})}S(Zo,"overwriteProperty");function Qo(e,t,n){let r=e[t],o=S(function(){throw new Error(t+" is not a function")},"_super");r&&typeof r=="function"&&(o=r);let s=S(function(){L(this,"lockSsfi")||L(this,"ssfi",s);let i=L(this,"lockSsfi");L(this,"lockSsfi",!0);let a=n(o).apply(this,arguments);if(L(this,"lockSsfi",i),a!==void 0)return a;let u=new y;return Ke(this,u),u},"overwritingMethodWrapper");wn(s,t,!1),e[t]=Dt(s,t)}S(Qo,"overwriteMethod");var Rd=typeof Object.setPrototypeOf=="function",ji=S(function(){},"testFn"),Dd=Object.getOwnPropertyNames(ji).filter(function(e){let t=Object.getOwnPropertyDescriptor(ji,e);return typeof t!="object"?!0:!t.configurable}),Fd=Function.prototype.call,Bd=Function.prototype.apply,vu=class extends Jo{constructor(t,n,r,o){super(t,n,r),this.chainingBehavior=o}};S(vu,"PluginAddChainableMethodEvent");var Ld=vu;function es(e,t,n,r){typeof r!="function"&&(r=S(function(){},"chainingBehavior"));let o={method:n,chainingBehavior:r};e.__methods||(e.__methods={}),e.__methods[t]=o,Object.defineProperty(e,t,{get:S(function(){o.chainingBehavior.call(this);let i=S(function(){L(this,"lockSsfi")||L(this,"ssfi",i);let a=o.method.apply(this,arguments);if(a!==void 0)return a;let u=new y;return Ke(this,u),u},"chainableMethodWrapper");if(wn(i,t,!0),Rd){let a=Object.create(this);a.call=Fd,a.apply=Bd,Object.setPrototypeOf(i,a)}else Object.getOwnPropertyNames(e).forEach(function(u){if(Dd.indexOf(u)!==-1)return;let c=Object.getOwnPropertyDescriptor(e,u);Object.defineProperty(i,u,c)});return Ke(this,i),Dt(i)},"chainableMethodGetter"),configurable:!0}),rr.dispatchEvent(new Ld("addChainableMethod",t,n,r))}S(es,"addChainableMethod");function ts(e,t,n,r){let o=e.__methods[t],s=o.chainingBehavior;o.chainingBehavior=S(function(){let u=r(s).call(this);if(u!==void 0)return u;let c=new y;return Ke(this,c),c},"overwritingChainableMethodGetter");let i=o.method;o.method=S(function(){let u=n(i).apply(this,arguments);if(u!==void 0)return u;let c=new y;return Ke(this,c),c},"overwritingChainableMethodWrapper")}S(ts,"overwriteChainableMethod");function qn(e,t){return z(e)<z(t)?-1:1}S(qn,"compareByInspect");function ns(e){return typeof Object.getOwnPropertySymbols!="function"?[]:Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})}S(ns,"getOwnEnumerablePropertySymbols");function rs(e){return Object.keys(e).concat(ns(e))}S(rs,"getOwnEnumerableProperties");var Vn=Number.isNaN;function Eu(e){let t=Q(e);return["Array","Object","Function"].indexOf(t)!==-1}S(Eu,"isObjectType");function os(e,t){let n=L(e,"operator"),r=L(e,"negate"),o=t[3],s=r?t[2]:t[1];if(n)return n;if(typeof s=="function"&&(s=s()),s=s||"",!s||/\shave\s/.test(s))return;let i=Eu(o);return/\snot\s/.test(s)?i?"notDeepStrictEqual":"notStrictEqual":i?"deepStrictEqual":"strictEqual"}S(os,"getOperator");function or(e){return e.name}S(or,"getName");function zn(e){return Object.prototype.toString.call(e)==="[object RegExp]"}S(zn,"isRegExp");function me(e){return["Number","BigInt"].includes(Q(e))}S(me,"isNumeric");var{flag:v}=fe;["to","be","been","is","and","has","have","with","that","which","at","of","same","but","does","still","also"].forEach(function(e){y.addProperty(e)});y.addProperty("not",function(){v(this,"negate",!0)});y.addProperty("deep",function(){v(this,"deep",!0)});y.addProperty("nested",function(){v(this,"nested",!0)});y.addProperty("own",function(){v(this,"own",!0)});y.addProperty("ordered",function(){v(this,"ordered",!0)});y.addProperty("any",function(){v(this,"any",!0),v(this,"all",!1)});y.addProperty("all",function(){v(this,"all",!0),v(this,"any",!1)});var Ri={function:["function","asyncfunction","generatorfunction","asyncgeneratorfunction"],asyncfunction:["asyncfunction","asyncgeneratorfunction"],generatorfunction:["generatorfunction","asyncgeneratorfunction"],asyncgeneratorfunction:["asyncgeneratorfunction"]};function ss(e,t){t&&v(this,"message",t),e=e.toLowerCase();let n=v(this,"object"),r=~["a","e","i","o","u"].indexOf(e.charAt(0))?"an ":"a ";const o=Q(n).toLowerCase();Ri.function.includes(e)?this.assert(Ri[e].includes(o),"expected #{this} to be "+r+e,"expected #{this} not to be "+r+e):this.assert(e===o,"expected #{this} to be "+r+e,"expected #{this} not to be "+r+e)}S(ss,"an");y.addChainableMethod("an",ss);y.addChainableMethod("a",ss);function Su(e,t){return Vn(e)&&Vn(t)||e===t}S(Su,"SameValueZero");function Tn(){v(this,"contains",!0)}S(Tn,"includeChainingBehavior");function vn(e,t){t&&v(this,"message",t);let n=v(this,"object"),r=Q(n).toLowerCase(),o=v(this,"message"),s=v(this,"negate"),i=v(this,"ssfi"),a=v(this,"deep"),u=a?"deep ":"",c=a?v(this,"eql"):Su;o=o?o+": ":"";let l=!1;switch(r){case"string":l=n.indexOf(e)!==-1;break;case"weakset":if(a)throw new K(o+"unable to use .deep.include with WeakSet",void 0,i);l=n.has(e);break;case"map":n.forEach(function(f){l=l||c(f,e)});break;case"set":a?n.forEach(function(f){l=l||c(f,e)}):l=n.has(e);break;case"array":a?l=n.some(function(f){return c(f,e)}):l=n.indexOf(e)!==-1;break;default:{if(e!==Object(e))throw new K(o+"the given combination of arguments ("+r+" and "+Q(e).toLowerCase()+") is invalid for this assertion. You can use an array, a map, an object, a set, a string, or a weakset instead of a "+Q(e).toLowerCase(),void 0,i);let f=Object.keys(e),h=null,d=0;if(f.forEach(function(p){let g=new y(n);if(Ke(this,g,!0),v(g,"lockSsfi",!0),!s||f.length===1){g.property(p,e[p]);return}try{g.property(p,e[p])}catch(w){if(!Ae.compatibleConstructor(w,K))throw w;h===null&&(h=w),d++}},this),s&&f.length>1&&d===f.length)throw h;return}}this.assert(l,"expected #{this} to "+u+"include "+z(e),"expected #{this} to not "+u+"include "+z(e))}S(vn,"include");y.addChainableMethod("include",vn,Tn);y.addChainableMethod("contain",vn,Tn);y.addChainableMethod("contains",vn,Tn);y.addChainableMethod("includes",vn,Tn);y.addProperty("ok",function(){this.assert(v(this,"object"),"expected #{this} to be truthy","expected #{this} to be falsy")});y.addProperty("true",function(){this.assert(v(this,"object")===!0,"expected #{this} to be true","expected #{this} to be false",!v(this,"negate"))});y.addProperty("numeric",function(){const e=v(this,"object");this.assert(["Number","BigInt"].includes(Q(e)),"expected #{this} to be numeric","expected #{this} to not be numeric",!v(this,"negate"))});y.addProperty("callable",function(){const e=v(this,"object"),t=v(this,"ssfi"),n=v(this,"message"),r=n?`${n}: `:"",o=v(this,"negate"),s=o?`${r}expected ${z(e)} not to be a callable function`:`${r}expected ${z(e)} to be a callable function`,i=["Function","AsyncFunction","GeneratorFunction","AsyncGeneratorFunction"].includes(Q(e));if(i&&o||!i&&!o)throw new K(s,void 0,t)});y.addProperty("false",function(){this.assert(v(this,"object")===!1,"expected #{this} to be false","expected #{this} to be true",!!v(this,"negate"))});y.addProperty("null",function(){this.assert(v(this,"object")===null,"expected #{this} to be null","expected #{this} not to be null")});y.addProperty("undefined",function(){this.assert(v(this,"object")===void 0,"expected #{this} to be undefined","expected #{this} not to be undefined")});y.addProperty("NaN",function(){this.assert(Vn(v(this,"object")),"expected #{this} to be NaN","expected #{this} not to be NaN")});function is(){let e=v(this,"object");this.assert(e!=null,"expected #{this} to exist","expected #{this} to not exist")}S(is,"assertExist");y.addProperty("exist",is);y.addProperty("exists",is);y.addProperty("empty",function(){let e=v(this,"object"),t=v(this,"ssfi"),n=v(this,"message"),r;switch(n=n?n+": ":"",Q(e).toLowerCase()){case"array":case"string":r=e.length;break;case"map":case"set":r=e.size;break;case"weakmap":case"weakset":throw new K(n+".empty was passed a weak collection",void 0,t);case"function":{const o=n+".empty was passed a function "+or(e);throw new K(o.trim(),void 0,t)}default:if(e!==Object(e))throw new K(n+".empty was passed non-string primitive "+z(e),void 0,t);r=Object.keys(e).length}this.assert(r===0,"expected #{this} to be empty","expected #{this} not to be empty")});function as(){let e=v(this,"object"),t=Q(e);this.assert(t==="Arguments","expected #{this} to be arguments but got "+t,"expected #{this} to not be arguments")}S(as,"checkArguments");y.addProperty("arguments",as);y.addProperty("Arguments",as);function sr(e,t){t&&v(this,"message",t);let n=v(this,"object");if(v(this,"deep")){let r=v(this,"lockSsfi");v(this,"lockSsfi",!0),this.eql(e),v(this,"lockSsfi",r)}else this.assert(e===n,"expected #{this} to equal #{exp}","expected #{this} to not equal #{exp}",e,this._obj,!0)}S(sr,"assertEqual");y.addMethod("equal",sr);y.addMethod("equals",sr);y.addMethod("eq",sr);function cs(e,t){t&&v(this,"message",t);let n=v(this,"eql");this.assert(n(e,v(this,"object")),"expected #{this} to deeply equal #{exp}","expected #{this} to not deeply equal #{exp}",e,this._obj,!0)}S(cs,"assertEql");y.addMethod("eql",cs);y.addMethod("eqls",cs);function ir(e,t){t&&v(this,"message",t);let n=v(this,"object"),r=v(this,"doLength"),o=v(this,"message"),s=o?o+": ":"",i=v(this,"ssfi"),a=Q(n).toLowerCase(),u=Q(e).toLowerCase();if(r&&a!=="map"&&a!=="set"&&new y(n,o,i,!0).to.have.property("length"),!r&&a==="date"&&u!=="date")throw new K(s+"the argument to above must be a date",void 0,i);if(!me(e)&&(r||me(n)))throw new K(s+"the argument to above must be a number",void 0,i);if(!r&&a!=="date"&&!me(n)){let c=a==="string"?"'"+n+"'":n;throw new K(s+"expected "+c+" to be a number or a date",void 0,i)}if(r){let c="length",l;a==="map"||a==="set"?(c="size",l=n.size):l=n.length,this.assert(l>e,"expected #{this} to have a "+c+" above #{exp} but got #{act}","expected #{this} to not have a "+c+" above #{exp}",e,l)}else this.assert(n>e,"expected #{this} to be above #{exp}","expected #{this} to be at most #{exp}",e)}S(ir,"assertAbove");y.addMethod("above",ir);y.addMethod("gt",ir);y.addMethod("greaterThan",ir);function ar(e,t){t&&v(this,"message",t);let n=v(this,"object"),r=v(this,"doLength"),o=v(this,"message"),s=o?o+": ":"",i=v(this,"ssfi"),a=Q(n).toLowerCase(),u=Q(e).toLowerCase(),c,l=!0;if(r&&a!=="map"&&a!=="set"&&new y(n,o,i,!0).to.have.property("length"),!r&&a==="date"&&u!=="date")c=s+"the argument to least must be a date";else if(!me(e)&&(r||me(n)))c=s+"the argument to least must be a number";else if(!r&&a!=="date"&&!me(n)){let f=a==="string"?"'"+n+"'":n;c=s+"expected "+f+" to be a number or a date"}else l=!1;if(l)throw new K(c,void 0,i);if(r){let f="length",h;a==="map"||a==="set"?(f="size",h=n.size):h=n.length,this.assert(h>=e,"expected #{this} to have a "+f+" at least #{exp} but got #{act}","expected #{this} to have a "+f+" below #{exp}",e,h)}else this.assert(n>=e,"expected #{this} to be at least #{exp}","expected #{this} to be below #{exp}",e)}S(ar,"assertLeast");y.addMethod("least",ar);y.addMethod("gte",ar);y.addMethod("greaterThanOrEqual",ar);function cr(e,t){t&&v(this,"message",t);let n=v(this,"object"),r=v(this,"doLength"),o=v(this,"message"),s=o?o+": ":"",i=v(this,"ssfi"),a=Q(n).toLowerCase(),u=Q(e).toLowerCase(),c,l=!0;if(r&&a!=="map"&&a!=="set"&&new y(n,o,i,!0).to.have.property("length"),!r&&a==="date"&&u!=="date")c=s+"the argument to below must be a date";else if(!me(e)&&(r||me(n)))c=s+"the argument to below must be a number";else if(!r&&a!=="date"&&!me(n)){let f=a==="string"?"'"+n+"'":n;c=s+"expected "+f+" to be a number or a date"}else l=!1;if(l)throw new K(c,void 0,i);if(r){let f="length",h;a==="map"||a==="set"?(f="size",h=n.size):h=n.length,this.assert(h<e,"expected #{this} to have a "+f+" below #{exp} but got #{act}","expected #{this} to not have a "+f+" below #{exp}",e,h)}else this.assert(n<e,"expected #{this} to be below #{exp}","expected #{this} to be at least #{exp}",e)}S(cr,"assertBelow");y.addMethod("below",cr);y.addMethod("lt",cr);y.addMethod("lessThan",cr);function ur(e,t){t&&v(this,"message",t);let n=v(this,"object"),r=v(this,"doLength"),o=v(this,"message"),s=o?o+": ":"",i=v(this,"ssfi"),a=Q(n).toLowerCase(),u=Q(e).toLowerCase(),c,l=!0;if(r&&a!=="map"&&a!=="set"&&new y(n,o,i,!0).to.have.property("length"),!r&&a==="date"&&u!=="date")c=s+"the argument to most must be a date";else if(!me(e)&&(r||me(n)))c=s+"the argument to most must be a number";else if(!r&&a!=="date"&&!me(n)){let f=a==="string"?"'"+n+"'":n;c=s+"expected "+f+" to be a number or a date"}else l=!1;if(l)throw new K(c,void 0,i);if(r){let f="length",h;a==="map"||a==="set"?(f="size",h=n.size):h=n.length,this.assert(h<=e,"expected #{this} to have a "+f+" at most #{exp} but got #{act}","expected #{this} to have a "+f+" above #{exp}",e,h)}else this.assert(n<=e,"expected #{this} to be at most #{exp}","expected #{this} to be above #{exp}",e)}S(ur,"assertMost");y.addMethod("most",ur);y.addMethod("lte",ur);y.addMethod("lessThanOrEqual",ur);y.addMethod("within",function(e,t,n){n&&v(this,"message",n);let r=v(this,"object"),o=v(this,"doLength"),s=v(this,"message"),i=s?s+": ":"",a=v(this,"ssfi"),u=Q(r).toLowerCase(),c=Q(e).toLowerCase(),l=Q(t).toLowerCase(),f,h=!0,d=c==="date"&&l==="date"?e.toISOString()+".."+t.toISOString():e+".."+t;if(o&&u!=="map"&&u!=="set"&&new y(r,s,a,!0).to.have.property("length"),!o&&u==="date"&&(c!=="date"||l!=="date"))f=i+"the arguments to within must be dates";else if((!me(e)||!me(t))&&(o||me(r)))f=i+"the arguments to within must be numbers";else if(!o&&u!=="date"&&!me(r)){let p=u==="string"?"'"+r+"'":r;f=i+"expected "+p+" to be a number or a date"}else h=!1;if(h)throw new K(f,void 0,a);if(o){let p="length",g;u==="map"||u==="set"?(p="size",g=r.size):g=r.length,this.assert(g>=e&&g<=t,"expected #{this} to have a "+p+" within "+d,"expected #{this} to not have a "+p+" within "+d)}else this.assert(r>=e&&r<=t,"expected #{this} to be within "+d,"expected #{this} to not be within "+d)});function us(e,t){t&&v(this,"message",t);let n=v(this,"object"),r=v(this,"ssfi"),o=v(this,"message"),s;try{s=n instanceof e}catch(a){throw a instanceof TypeError?(o=o?o+": ":"",new K(o+"The instanceof assertion needs a constructor but "+Q(e)+" was given.",void 0,r)):a}let i=or(e);i==null&&(i="an unnamed constructor"),this.assert(s,"expected #{this} to be an instance of "+i,"expected #{this} to not be an instance of "+i)}S(us,"assertInstanceOf");y.addMethod("instanceof",us);y.addMethod("instanceOf",us);function ls(e,t,n){n&&v(this,"message",n);let r=v(this,"nested"),o=v(this,"own"),s=v(this,"message"),i=v(this,"object"),a=v(this,"ssfi"),u=typeof e;if(s=s?s+": ":"",r){if(u!=="string")throw new K(s+"the argument to property must be a string when using nested syntax",void 0,a)}else if(u!=="string"&&u!=="number"&&u!=="symbol")throw new K(s+"the argument to property must be a string, number, or symbol",void 0,a);if(r&&o)throw new K(s+'The "nested" and "own" flags cannot be combined.',void 0,a);if(i==null)throw new K(s+"Target cannot be null or undefined.",void 0,a);let c=v(this,"deep"),l=v(this,"negate"),f=r?Go(i,e):null,h=r?f.value:i[e],d=c?v(this,"eql"):(w,T)=>w===T,p="";c&&(p+="deep "),o&&(p+="own "),r&&(p+="nested "),p+="property ";let g;o?g=Object.prototype.hasOwnProperty.call(i,e):r?g=f.exists:g=nr(i,e),(!l||arguments.length===1)&&this.assert(g,"expected #{this} to have "+p+z(e),"expected #{this} to not have "+p+z(e)),arguments.length>1&&this.assert(g&&d(t,h),"expected #{this} to have "+p+z(e)+" of #{exp}, but got #{act}","expected #{this} to not have "+p+z(e)+" of #{act}",t,h),v(this,"object",h)}S(ls,"assertProperty");y.addMethod("property",ls);function fs(e,t,n){v(this,"own",!0),ls.apply(this,arguments)}S(fs,"assertOwnProperty");y.addMethod("ownProperty",fs);y.addMethod("haveOwnProperty",fs);function hs(e,t,n){typeof t=="string"&&(n=t,t=null),n&&v(this,"message",n);let r=v(this,"object"),o=Object.getOwnPropertyDescriptor(Object(r),e),s=v(this,"eql");o&&t?this.assert(s(t,o),"expected the own property descriptor for "+z(e)+" on #{this} to match "+z(t)+", got "+z(o),"expected the own property descriptor for "+z(e)+" on #{this} to not match "+z(t),t,o,!0):this.assert(o,"expected #{this} to have an own property descriptor for "+z(e),"expected #{this} to not have an own property descriptor for "+z(e)),v(this,"object",o)}S(hs,"assertOwnPropertyDescriptor");y.addMethod("ownPropertyDescriptor",hs);y.addMethod("haveOwnPropertyDescriptor",hs);function ds(){v(this,"doLength",!0)}S(ds,"assertLengthChain");function ps(e,t){t&&v(this,"message",t);let n=v(this,"object"),r=Q(n).toLowerCase(),o=v(this,"message"),s=v(this,"ssfi"),i="length",a;switch(r){case"map":case"set":i="size",a=n.size;break;default:new y(n,o,s,!0).to.have.property("length"),a=n.length}this.assert(a==e,"expected #{this} to have a "+i+" of #{exp} but got #{act}","expected #{this} to not have a "+i+" of #{act}",e,a)}S(ps,"assertLength");y.addChainableMethod("length",ps,ds);y.addChainableMethod("lengthOf",ps,ds);function ms(e,t){t&&v(this,"message",t);let n=v(this,"object");this.assert(e.exec(n),"expected #{this} to match "+e,"expected #{this} not to match "+e)}S(ms,"assertMatch");y.addMethod("match",ms);y.addMethod("matches",ms);y.addMethod("string",function(e,t){t&&v(this,"message",t);let n=v(this,"object"),r=v(this,"message"),o=v(this,"ssfi");new y(n,r,o,!0).is.a("string"),this.assert(~n.indexOf(e),"expected #{this} to contain "+z(e),"expected #{this} to not contain "+z(e))});function gs(e){let t=v(this,"object"),n=Q(t),r=Q(e),o=v(this,"ssfi"),s=v(this,"deep"),i,a="",u,c=!0,l=v(this,"message");l=l?l+": ":"";let f=l+"when testing keys against an object or an array you must give a single Array|Object|String argument or multiple String arguments";if(n==="Map"||n==="Set")a=s?"deeply ":"",u=[],t.forEach(function(T,x){u.push(x)}),r!=="Array"&&(e=Array.prototype.slice.call(arguments));else{switch(u=rs(t),r){case"Array":if(arguments.length>1)throw new K(f,void 0,o);break;case"Object":if(arguments.length>1)throw new K(f,void 0,o);e=Object.keys(e);break;default:e=Array.prototype.slice.call(arguments)}e=e.map(function(T){return typeof T=="symbol"?T:String(T)})}if(!e.length)throw new K(l+"keys required",void 0,o);let h=e.length,d=v(this,"any"),p=v(this,"all"),g=e,w=s?v(this,"eql"):(T,x)=>T===x;if(!d&&!p&&(p=!0),d&&(c=g.some(function(T){return u.some(function(x){return w(T,x)})})),p&&(c=g.every(function(T){return u.some(function(x){return w(T,x)})}),v(this,"contains")||(c=c&&e.length==u.length)),h>1){e=e.map(function(x){return z(x)});let T=e.pop();p&&(i=e.join(", ")+", and "+T),d&&(i=e.join(", ")+", or "+T)}else i=z(e[0]);i=(h>1?"keys ":"key ")+i,i=(v(this,"contains")?"contain ":"have ")+i,this.assert(c,"expected #{this} to "+a+i,"expected #{this} to not "+a+i,g.slice(0).sort(qn),u.sort(qn),!0)}S(gs,"assertKeys");y.addMethod("keys",gs);y.addMethod("key",gs);function lr(e,t,n){n&&v(this,"message",n);let r=v(this,"object"),o=v(this,"ssfi"),s=v(this,"message"),i=v(this,"negate")||!1;new y(r,s,o,!0).is.a("function"),(zn(e)||typeof e=="string")&&(t=e,e=null);let a,u=!1;try{r()}catch(d){u=!0,a=d}let c=e===void 0&&t===void 0,l=!!(e&&t),f=!1,h=!1;if(c||!c&&!i){let d="an error";e instanceof Error?d="#{exp}":e&&(d=Ae.getConstructorName(e));let p=a;if(a instanceof Error)p=a.toString();else if(typeof a=="string")p=a;else if(a&&(typeof a=="object"||typeof a=="function"))try{p=Ae.getConstructorName(a)}catch{}this.assert(u,"expected #{this} to throw "+d,"expected #{this} to not throw an error but #{act} was thrown",e&&e.toString(),p)}if(e&&a&&(e instanceof Error&&Ae.compatibleInstance(a,e)===i&&(l&&i?f=!0:this.assert(i,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp}"+(a&&!i?" but #{act} was thrown":""),e.toString(),a.toString())),Ae.compatibleConstructor(a,e)===i&&(l&&i?f=!0:this.assert(i,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp}"+(a?" but #{act} was thrown":""),e instanceof Error?e.toString():e&&Ae.getConstructorName(e),a instanceof Error?a.toString():a&&Ae.getConstructorName(a)))),a&&t!==void 0&&t!==null){let d="including";zn(t)&&(d="matching"),Ae.compatibleMessage(a,t)===i&&(l&&i?h=!0:this.assert(i,"expected #{this} to throw error "+d+" #{exp} but got #{act}","expected #{this} to throw error not "+d+" #{exp}",t,Ae.getMessage(a)))}f&&h&&this.assert(i,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp}"+(a?" but #{act} was thrown":""),e instanceof Error?e.toString():e&&Ae.getConstructorName(e),a instanceof Error?a.toString():a&&Ae.getConstructorName(a)),v(this,"object",a)}S(lr,"assertThrows");y.addMethod("throw",lr);y.addMethod("throws",lr);y.addMethod("Throw",lr);function ys(e,t){t&&v(this,"message",t);let n=v(this,"object"),r=v(this,"itself"),o=typeof n=="function"&&!r?n.prototype[e]:n[e];this.assert(typeof o=="function","expected #{this} to respond to "+z(e),"expected #{this} to not respond to "+z(e))}S(ys,"respondTo");y.addMethod("respondTo",ys);y.addMethod("respondsTo",ys);y.addProperty("itself",function(){v(this,"itself",!0)});function bs(e,t){t&&v(this,"message",t);let n=v(this,"object"),r=e(n);this.assert(r,"expected #{this} to satisfy "+mt(e),"expected #{this} to not satisfy"+mt(e),!v(this,"negate"),r)}S(bs,"satisfy");y.addMethod("satisfy",bs);y.addMethod("satisfies",bs);function ws(e,t,n){n&&v(this,"message",n);let r=v(this,"object"),o=v(this,"message"),s=v(this,"ssfi");new y(r,o,s,!0).is.numeric;let i="A `delta` value is required for `closeTo`";if(t==null)throw new K(o?`${o}: ${i}`:i,void 0,s);if(new y(t,o,s,!0).is.numeric,i="A `expected` value is required for `closeTo`",e==null)throw new K(o?`${o}: ${i}`:i,void 0,s);new y(e,o,s,!0).is.numeric;const a=S(c=>c<0n?-c:c,"abs"),u=S(c=>parseFloat(parseFloat(c).toPrecision(12)),"strip");this.assert(u(a(r-e))<=t,"expected #{this} to be close to "+e+" +/- "+t,"expected #{this} not to be close to "+e+" +/- "+t)}S(ws,"closeTo");y.addMethod("closeTo",ws);y.addMethod("approximately",ws);function xu(e,t,n,r,o){let s=Array.from(t),i=Array.from(e);if(!r){if(i.length!==s.length)return!1;s=s.slice()}return i.every(function(a,u){if(o)return n?n(a,s[u]):a===s[u];if(!n){let c=s.indexOf(a);return c===-1?!1:(r||s.splice(c,1),!0)}return s.some(function(c,l){return n(a,c)?(r||s.splice(l,1),!0):!1})})}S(xu,"isSubsetOf");y.addMethod("members",function(e,t){t&&v(this,"message",t);let n=v(this,"object"),r=v(this,"message"),o=v(this,"ssfi");new y(n,r,o,!0).to.be.iterable,new y(e,r,o,!0).to.be.iterable;let s=v(this,"contains"),i=v(this,"ordered"),a,u,c;s?(a=i?"an ordered superset":"a superset",u="expected #{this} to be "+a+" of #{exp}",c="expected #{this} to not be "+a+" of #{exp}"):(a=i?"ordered members":"members",u="expected #{this} to have the same "+a+" as #{exp}",c="expected #{this} to not have the same "+a+" as #{exp}");let l=v(this,"deep")?v(this,"eql"):void 0;this.assert(xu(e,n,l,s,i),u,c,e,n,!0)});y.addProperty("iterable",function(e){e&&v(this,"message",e);let t=v(this,"object");this.assert(t!=null&&t[Symbol.iterator],"expected #{this} to be an iterable","expected #{this} to not be an iterable",t)});function $u(e,t){t&&v(this,"message",t);let n=v(this,"object"),r=v(this,"message"),o=v(this,"ssfi"),s=v(this,"contains"),i=v(this,"deep"),a=v(this,"eql");new y(e,r,o,!0).to.be.an("array"),s?this.assert(e.some(function(u){return n.indexOf(u)>-1}),"expected #{this} to contain one of #{exp}","expected #{this} to not contain one of #{exp}",e,n):i?this.assert(e.some(function(u){return a(n,u)}),"expected #{this} to deeply equal one of #{exp}","expected #{this} to deeply equal one of #{exp}",e,n):this.assert(e.indexOf(n)>-1,"expected #{this} to be one of #{exp}","expected #{this} to not be one of #{exp}",e,n)}S($u,"oneOf");y.addMethod("oneOf",$u);function Ts(e,t,n){n&&v(this,"message",n);let r=v(this,"object"),o=v(this,"message"),s=v(this,"ssfi");new y(r,o,s,!0).is.a("function");let i;t?(new y(e,o,s,!0).to.have.property(t),i=e[t]):(new y(e,o,s,!0).is.a("function"),i=e()),r();let a=t==null?e():e[t],u=t==null?i:"."+t;v(this,"deltaMsgObj",u),v(this,"initialDeltaValue",i),v(this,"finalDeltaValue",a),v(this,"deltaBehavior","change"),v(this,"realDelta",a!==i),this.assert(i!==a,"expected "+u+" to change","expected "+u+" to not change")}S(Ts,"assertChanges");y.addMethod("change",Ts);y.addMethod("changes",Ts);function vs(e,t,n){n&&v(this,"message",n);let r=v(this,"object"),o=v(this,"message"),s=v(this,"ssfi");new y(r,o,s,!0).is.a("function");let i;t?(new y(e,o,s,!0).to.have.property(t),i=e[t]):(new y(e,o,s,!0).is.a("function"),i=e()),new y(i,o,s,!0).is.a("number"),r();let a=t==null?e():e[t],u=t==null?i:"."+t;v(this,"deltaMsgObj",u),v(this,"initialDeltaValue",i),v(this,"finalDeltaValue",a),v(this,"deltaBehavior","increase"),v(this,"realDelta",a-i),this.assert(a-i>0,"expected "+u+" to increase","expected "+u+" to not increase")}S(vs,"assertIncreases");y.addMethod("increase",vs);y.addMethod("increases",vs);function Es(e,t,n){n&&v(this,"message",n);let r=v(this,"object"),o=v(this,"message"),s=v(this,"ssfi");new y(r,o,s,!0).is.a("function");let i;t?(new y(e,o,s,!0).to.have.property(t),i=e[t]):(new y(e,o,s,!0).is.a("function"),i=e()),new y(i,o,s,!0).is.a("number"),r();let a=t==null?e():e[t],u=t==null?i:"."+t;v(this,"deltaMsgObj",u),v(this,"initialDeltaValue",i),v(this,"finalDeltaValue",a),v(this,"deltaBehavior","decrease"),v(this,"realDelta",i-a),this.assert(a-i<0,"expected "+u+" to decrease","expected "+u+" to not decrease")}S(Es,"assertDecreases");y.addMethod("decrease",Es);y.addMethod("decreases",Es);function _u(e,t){t&&v(this,"message",t);let n=v(this,"deltaMsgObj"),r=v(this,"initialDeltaValue"),o=v(this,"finalDeltaValue"),s=v(this,"deltaBehavior"),i=v(this,"realDelta"),a;s==="change"?a=Math.abs(o-r)===Math.abs(e):a=i===Math.abs(e),this.assert(a,"expected "+n+" to "+s+" by "+e,"expected "+n+" to not "+s+" by "+e)}S(_u,"assertDelta");y.addMethod("by",_u);y.addProperty("extensible",function(){let e=v(this,"object"),t=e===Object(e)&&Object.isExtensible(e);this.assert(t,"expected #{this} to be extensible","expected #{this} to not be extensible")});y.addProperty("sealed",function(){let e=v(this,"object"),t=e===Object(e)?Object.isSealed(e):!0;this.assert(t,"expected #{this} to be sealed","expected #{this} to not be sealed")});y.addProperty("frozen",function(){let e=v(this,"object"),t=e===Object(e)?Object.isFrozen(e):!0;this.assert(t,"expected #{this} to be frozen","expected #{this} to not be frozen")});y.addProperty("finite",function(e){let t=v(this,"object");this.assert(typeof t=="number"&&isFinite(t),"expected #{this} to be a finite number","expected #{this} to not be a finite number")});function Wn(e,t){return e===t?!0:typeof t!=typeof e?!1:typeof e!="object"||e===null?e===t:t?Array.isArray(e)?Array.isArray(t)?e.every(function(n){return t.some(function(r){return Wn(n,r)})}):!1:e instanceof Date?t instanceof Date?e.getTime()===t.getTime():!1:Object.keys(e).every(function(n){let r=e[n],o=t[n];return typeof r=="object"&&r!==null&&o!==null?Wn(r,o):typeof r=="function"?r(o):o===r}):!1}S(Wn,"compareSubset");y.addMethod("containSubset",function(e){const t=L(this,"object"),n=ve.showDiff;this.assert(Wn(e,t),"expected #{act} to contain subset #{exp}","expected #{act} to not contain subset #{exp}",e,t,n)});function gt(e,t){return new y(e,t)}S(gt,"expect");gt.fail=function(e,t,n,r){throw arguments.length<2&&(n=e,e=void 0),n=n||"expect.fail()",new K(n,{actual:e,expected:t,operator:r},gt.fail)};var Ou={};qo(Ou,{Should:()=>Vd,should:()=>qd});function Ss(){function e(){return this instanceof String||this instanceof Number||this instanceof Boolean||typeof Symbol=="function"&&this instanceof Symbol||typeof BigInt=="function"&&this instanceof BigInt?new y(this.valueOf(),null,e):new y(this,null,e)}S(e,"shouldGetter");function t(r){Object.defineProperty(this,"should",{value:r,enumerable:!0,configurable:!0,writable:!0})}S(t,"shouldSetter"),Object.defineProperty(Object.prototype,"should",{set:t,get:e,configurable:!0});let n={};return n.fail=function(r,o,s,i){throw arguments.length<2&&(s=r,r=void 0),s=s||"should.fail()",new K(s,{actual:r,expected:o,operator:i},n.fail)},n.equal=function(r,o,s){new y(r,s).to.equal(o)},n.Throw=function(r,o,s,i){new y(r,i).to.Throw(o,s)},n.exist=function(r,o){new y(r,o).to.exist},n.not={},n.not.equal=function(r,o,s){new y(r,s).to.not.equal(o)},n.not.Throw=function(r,o,s,i){new y(r,i).to.not.Throw(o,s)},n.not.exist=function(r,o){new y(r,o).to.not.exist},n.throw=n.Throw,n.not.throw=n.not.Throw,n}S(Ss,"loadShould");var qd=Ss,Vd=Ss;function m(e,t){new y(null,null,m,!0).assert(e,t,"[ negation message unavailable ]")}S(m,"assert");m.fail=function(e,t,n,r){throw arguments.length<2&&(n=e,e=void 0),n=n||"assert.fail()",new K(n,{actual:e,expected:t,operator:r},m.fail)};m.isOk=function(e,t){new y(e,t,m.isOk,!0).is.ok};m.isNotOk=function(e,t){new y(e,t,m.isNotOk,!0).is.not.ok};m.equal=function(e,t,n){let r=new y(e,n,m.equal,!0);r.assert(t==L(r,"object"),"expected #{this} to equal #{exp}","expected #{this} to not equal #{act}",t,e,!0)};m.notEqual=function(e,t,n){let r=new y(e,n,m.notEqual,!0);r.assert(t!=L(r,"object"),"expected #{this} to not equal #{exp}","expected #{this} to equal #{act}",t,e,!0)};m.strictEqual=function(e,t,n){new y(e,n,m.strictEqual,!0).to.equal(t)};m.notStrictEqual=function(e,t,n){new y(e,n,m.notStrictEqual,!0).to.not.equal(t)};m.deepEqual=m.deepStrictEqual=function(e,t,n){new y(e,n,m.deepEqual,!0).to.eql(t)};m.notDeepEqual=function(e,t,n){new y(e,n,m.notDeepEqual,!0).to.not.eql(t)};m.isAbove=function(e,t,n){new y(e,n,m.isAbove,!0).to.be.above(t)};m.isAtLeast=function(e,t,n){new y(e,n,m.isAtLeast,!0).to.be.least(t)};m.isBelow=function(e,t,n){new y(e,n,m.isBelow,!0).to.be.below(t)};m.isAtMost=function(e,t,n){new y(e,n,m.isAtMost,!0).to.be.most(t)};m.isTrue=function(e,t){new y(e,t,m.isTrue,!0).is.true};m.isNotTrue=function(e,t){new y(e,t,m.isNotTrue,!0).to.not.equal(!0)};m.isFalse=function(e,t){new y(e,t,m.isFalse,!0).is.false};m.isNotFalse=function(e,t){new y(e,t,m.isNotFalse,!0).to.not.equal(!1)};m.isNull=function(e,t){new y(e,t,m.isNull,!0).to.equal(null)};m.isNotNull=function(e,t){new y(e,t,m.isNotNull,!0).to.not.equal(null)};m.isNaN=function(e,t){new y(e,t,m.isNaN,!0).to.be.NaN};m.isNotNaN=function(e,t){new y(e,t,m.isNotNaN,!0).not.to.be.NaN};m.exists=function(e,t){new y(e,t,m.exists,!0).to.exist};m.notExists=function(e,t){new y(e,t,m.notExists,!0).to.not.exist};m.isUndefined=function(e,t){new y(e,t,m.isUndefined,!0).to.equal(void 0)};m.isDefined=function(e,t){new y(e,t,m.isDefined,!0).to.not.equal(void 0)};m.isCallable=function(e,t){new y(e,t,m.isCallable,!0).is.callable};m.isNotCallable=function(e,t){new y(e,t,m.isNotCallable,!0).is.not.callable};m.isObject=function(e,t){new y(e,t,m.isObject,!0).to.be.a("object")};m.isNotObject=function(e,t){new y(e,t,m.isNotObject,!0).to.not.be.a("object")};m.isArray=function(e,t){new y(e,t,m.isArray,!0).to.be.an("array")};m.isNotArray=function(e,t){new y(e,t,m.isNotArray,!0).to.not.be.an("array")};m.isString=function(e,t){new y(e,t,m.isString,!0).to.be.a("string")};m.isNotString=function(e,t){new y(e,t,m.isNotString,!0).to.not.be.a("string")};m.isNumber=function(e,t){new y(e,t,m.isNumber,!0).to.be.a("number")};m.isNotNumber=function(e,t){new y(e,t,m.isNotNumber,!0).to.not.be.a("number")};m.isNumeric=function(e,t){new y(e,t,m.isNumeric,!0).is.numeric};m.isNotNumeric=function(e,t){new y(e,t,m.isNotNumeric,!0).is.not.numeric};m.isFinite=function(e,t){new y(e,t,m.isFinite,!0).to.be.finite};m.isBoolean=function(e,t){new y(e,t,m.isBoolean,!0).to.be.a("boolean")};m.isNotBoolean=function(e,t){new y(e,t,m.isNotBoolean,!0).to.not.be.a("boolean")};m.typeOf=function(e,t,n){new y(e,n,m.typeOf,!0).to.be.a(t)};m.notTypeOf=function(e,t,n){new y(e,n,m.notTypeOf,!0).to.not.be.a(t)};m.instanceOf=function(e,t,n){new y(e,n,m.instanceOf,!0).to.be.instanceOf(t)};m.notInstanceOf=function(e,t,n){new y(e,n,m.notInstanceOf,!0).to.not.be.instanceOf(t)};m.include=function(e,t,n){new y(e,n,m.include,!0).include(t)};m.notInclude=function(e,t,n){new y(e,n,m.notInclude,!0).not.include(t)};m.deepInclude=function(e,t,n){new y(e,n,m.deepInclude,!0).deep.include(t)};m.notDeepInclude=function(e,t,n){new y(e,n,m.notDeepInclude,!0).not.deep.include(t)};m.nestedInclude=function(e,t,n){new y(e,n,m.nestedInclude,!0).nested.include(t)};m.notNestedInclude=function(e,t,n){new y(e,n,m.notNestedInclude,!0).not.nested.include(t)};m.deepNestedInclude=function(e,t,n){new y(e,n,m.deepNestedInclude,!0).deep.nested.include(t)};m.notDeepNestedInclude=function(e,t,n){new y(e,n,m.notDeepNestedInclude,!0).not.deep.nested.include(t)};m.ownInclude=function(e,t,n){new y(e,n,m.ownInclude,!0).own.include(t)};m.notOwnInclude=function(e,t,n){new y(e,n,m.notOwnInclude,!0).not.own.include(t)};m.deepOwnInclude=function(e,t,n){new y(e,n,m.deepOwnInclude,!0).deep.own.include(t)};m.notDeepOwnInclude=function(e,t,n){new y(e,n,m.notDeepOwnInclude,!0).not.deep.own.include(t)};m.match=function(e,t,n){new y(e,n,m.match,!0).to.match(t)};m.notMatch=function(e,t,n){new y(e,n,m.notMatch,!0).to.not.match(t)};m.property=function(e,t,n){new y(e,n,m.property,!0).to.have.property(t)};m.notProperty=function(e,t,n){new y(e,n,m.notProperty,!0).to.not.have.property(t)};m.propertyVal=function(e,t,n,r){new y(e,r,m.propertyVal,!0).to.have.property(t,n)};m.notPropertyVal=function(e,t,n,r){new y(e,r,m.notPropertyVal,!0).to.not.have.property(t,n)};m.deepPropertyVal=function(e,t,n,r){new y(e,r,m.deepPropertyVal,!0).to.have.deep.property(t,n)};m.notDeepPropertyVal=function(e,t,n,r){new y(e,r,m.notDeepPropertyVal,!0).to.not.have.deep.property(t,n)};m.ownProperty=function(e,t,n){new y(e,n,m.ownProperty,!0).to.have.own.property(t)};m.notOwnProperty=function(e,t,n){new y(e,n,m.notOwnProperty,!0).to.not.have.own.property(t)};m.ownPropertyVal=function(e,t,n,r){new y(e,r,m.ownPropertyVal,!0).to.have.own.property(t,n)};m.notOwnPropertyVal=function(e,t,n,r){new y(e,r,m.notOwnPropertyVal,!0).to.not.have.own.property(t,n)};m.deepOwnPropertyVal=function(e,t,n,r){new y(e,r,m.deepOwnPropertyVal,!0).to.have.deep.own.property(t,n)};m.notDeepOwnPropertyVal=function(e,t,n,r){new y(e,r,m.notDeepOwnPropertyVal,!0).to.not.have.deep.own.property(t,n)};m.nestedProperty=function(e,t,n){new y(e,n,m.nestedProperty,!0).to.have.nested.property(t)};m.notNestedProperty=function(e,t,n){new y(e,n,m.notNestedProperty,!0).to.not.have.nested.property(t)};m.nestedPropertyVal=function(e,t,n,r){new y(e,r,m.nestedPropertyVal,!0).to.have.nested.property(t,n)};m.notNestedPropertyVal=function(e,t,n,r){new y(e,r,m.notNestedPropertyVal,!0).to.not.have.nested.property(t,n)};m.deepNestedPropertyVal=function(e,t,n,r){new y(e,r,m.deepNestedPropertyVal,!0).to.have.deep.nested.property(t,n)};m.notDeepNestedPropertyVal=function(e,t,n,r){new y(e,r,m.notDeepNestedPropertyVal,!0).to.not.have.deep.nested.property(t,n)};m.lengthOf=function(e,t,n){new y(e,n,m.lengthOf,!0).to.have.lengthOf(t)};m.hasAnyKeys=function(e,t,n){new y(e,n,m.hasAnyKeys,!0).to.have.any.keys(t)};m.hasAllKeys=function(e,t,n){new y(e,n,m.hasAllKeys,!0).to.have.all.keys(t)};m.containsAllKeys=function(e,t,n){new y(e,n,m.containsAllKeys,!0).to.contain.all.keys(t)};m.doesNotHaveAnyKeys=function(e,t,n){new y(e,n,m.doesNotHaveAnyKeys,!0).to.not.have.any.keys(t)};m.doesNotHaveAllKeys=function(e,t,n){new y(e,n,m.doesNotHaveAllKeys,!0).to.not.have.all.keys(t)};m.hasAnyDeepKeys=function(e,t,n){new y(e,n,m.hasAnyDeepKeys,!0).to.have.any.deep.keys(t)};m.hasAllDeepKeys=function(e,t,n){new y(e,n,m.hasAllDeepKeys,!0).to.have.all.deep.keys(t)};m.containsAllDeepKeys=function(e,t,n){new y(e,n,m.containsAllDeepKeys,!0).to.contain.all.deep.keys(t)};m.doesNotHaveAnyDeepKeys=function(e,t,n){new y(e,n,m.doesNotHaveAnyDeepKeys,!0).to.not.have.any.deep.keys(t)};m.doesNotHaveAllDeepKeys=function(e,t,n){new y(e,n,m.doesNotHaveAllDeepKeys,!0).to.not.have.all.deep.keys(t)};m.throws=function(e,t,n,r){(typeof t=="string"||t instanceof RegExp)&&(n=t,t=null);let o=new y(e,r,m.throws,!0).to.throw(t,n);return L(o,"object")};m.doesNotThrow=function(e,t,n,r){(typeof t=="string"||t instanceof RegExp)&&(n=t,t=null),new y(e,r,m.doesNotThrow,!0).to.not.throw(t,n)};m.operator=function(e,t,n,r){let o;switch(t){case"==":o=e==n;break;case"===":o=e===n;break;case">":o=e>n;break;case">=":o=e>=n;break;case"<":o=e<n;break;case"<=":o=e<=n;break;case"!=":o=e!=n;break;case"!==":o=e!==n;break;default:throw r=r&&r+": ",new K(r+'Invalid operator "'+t+'"',void 0,m.operator)}let s=new y(o,r,m.operator,!0);s.assert(L(s,"object")===!0,"expected "+z(e)+" to be "+t+" "+z(n),"expected "+z(e)+" to not be "+t+" "+z(n))};m.closeTo=function(e,t,n,r){new y(e,r,m.closeTo,!0).to.be.closeTo(t,n)};m.approximately=function(e,t,n,r){new y(e,r,m.approximately,!0).to.be.approximately(t,n)};m.sameMembers=function(e,t,n){new y(e,n,m.sameMembers,!0).to.have.same.members(t)};m.notSameMembers=function(e,t,n){new y(e,n,m.notSameMembers,!0).to.not.have.same.members(t)};m.sameDeepMembers=function(e,t,n){new y(e,n,m.sameDeepMembers,!0).to.have.same.deep.members(t)};m.notSameDeepMembers=function(e,t,n){new y(e,n,m.notSameDeepMembers,!0).to.not.have.same.deep.members(t)};m.sameOrderedMembers=function(e,t,n){new y(e,n,m.sameOrderedMembers,!0).to.have.same.ordered.members(t)};m.notSameOrderedMembers=function(e,t,n){new y(e,n,m.notSameOrderedMembers,!0).to.not.have.same.ordered.members(t)};m.sameDeepOrderedMembers=function(e,t,n){new y(e,n,m.sameDeepOrderedMembers,!0).to.have.same.deep.ordered.members(t)};m.notSameDeepOrderedMembers=function(e,t,n){new y(e,n,m.notSameDeepOrderedMembers,!0).to.not.have.same.deep.ordered.members(t)};m.includeMembers=function(e,t,n){new y(e,n,m.includeMembers,!0).to.include.members(t)};m.notIncludeMembers=function(e,t,n){new y(e,n,m.notIncludeMembers,!0).to.not.include.members(t)};m.includeDeepMembers=function(e,t,n){new y(e,n,m.includeDeepMembers,!0).to.include.deep.members(t)};m.notIncludeDeepMembers=function(e,t,n){new y(e,n,m.notIncludeDeepMembers,!0).to.not.include.deep.members(t)};m.includeOrderedMembers=function(e,t,n){new y(e,n,m.includeOrderedMembers,!0).to.include.ordered.members(t)};m.notIncludeOrderedMembers=function(e,t,n){new y(e,n,m.notIncludeOrderedMembers,!0).to.not.include.ordered.members(t)};m.includeDeepOrderedMembers=function(e,t,n){new y(e,n,m.includeDeepOrderedMembers,!0).to.include.deep.ordered.members(t)};m.notIncludeDeepOrderedMembers=function(e,t,n){new y(e,n,m.notIncludeDeepOrderedMembers,!0).to.not.include.deep.ordered.members(t)};m.oneOf=function(e,t,n){new y(e,n,m.oneOf,!0).to.be.oneOf(t)};m.isIterable=function(e,t){if(e==null||!e[Symbol.iterator])throw t=t?`${t} expected ${z(e)} to be an iterable`:`expected ${z(e)} to be an iterable`,new K(t,void 0,m.isIterable)};m.changes=function(e,t,n,r){arguments.length===3&&typeof t=="function"&&(r=n,n=null),new y(e,r,m.changes,!0).to.change(t,n)};m.changesBy=function(e,t,n,r,o){if(arguments.length===4&&typeof t=="function"){let s=r;r=n,o=s}else arguments.length===3&&(r=n,n=null);new y(e,o,m.changesBy,!0).to.change(t,n).by(r)};m.doesNotChange=function(e,t,n,r){return arguments.length===3&&typeof t=="function"&&(r=n,n=null),new y(e,r,m.doesNotChange,!0).to.not.change(t,n)};m.changesButNotBy=function(e,t,n,r,o){if(arguments.length===4&&typeof t=="function"){let s=r;r=n,o=s}else arguments.length===3&&(r=n,n=null);new y(e,o,m.changesButNotBy,!0).to.change(t,n).but.not.by(r)};m.increases=function(e,t,n,r){return arguments.length===3&&typeof t=="function"&&(r=n,n=null),new y(e,r,m.increases,!0).to.increase(t,n)};m.increasesBy=function(e,t,n,r,o){if(arguments.length===4&&typeof t=="function"){let s=r;r=n,o=s}else arguments.length===3&&(r=n,n=null);new y(e,o,m.increasesBy,!0).to.increase(t,n).by(r)};m.doesNotIncrease=function(e,t,n,r){return arguments.length===3&&typeof t=="function"&&(r=n,n=null),new y(e,r,m.doesNotIncrease,!0).to.not.increase(t,n)};m.increasesButNotBy=function(e,t,n,r,o){if(arguments.length===4&&typeof t=="function"){let s=r;r=n,o=s}else arguments.length===3&&(r=n,n=null);new y(e,o,m.increasesButNotBy,!0).to.increase(t,n).but.not.by(r)};m.decreases=function(e,t,n,r){return arguments.length===3&&typeof t=="function"&&(r=n,n=null),new y(e,r,m.decreases,!0).to.decrease(t,n)};m.decreasesBy=function(e,t,n,r,o){if(arguments.length===4&&typeof t=="function"){let s=r;r=n,o=s}else arguments.length===3&&(r=n,n=null);new y(e,o,m.decreasesBy,!0).to.decrease(t,n).by(r)};m.doesNotDecrease=function(e,t,n,r){return arguments.length===3&&typeof t=="function"&&(r=n,n=null),new y(e,r,m.doesNotDecrease,!0).to.not.decrease(t,n)};m.doesNotDecreaseBy=function(e,t,n,r,o){if(arguments.length===4&&typeof t=="function"){let s=r;r=n,o=s}else arguments.length===3&&(r=n,n=null);return new y(e,o,m.doesNotDecreaseBy,!0).to.not.decrease(t,n).by(r)};m.decreasesButNotBy=function(e,t,n,r,o){if(arguments.length===4&&typeof t=="function"){let s=r;r=n,o=s}else arguments.length===3&&(r=n,n=null);new y(e,o,m.decreasesButNotBy,!0).to.decrease(t,n).but.not.by(r)};m.ifError=function(e){if(e)throw e};m.isExtensible=function(e,t){new y(e,t,m.isExtensible,!0).to.be.extensible};m.isNotExtensible=function(e,t){new y(e,t,m.isNotExtensible,!0).to.not.be.extensible};m.isSealed=function(e,t){new y(e,t,m.isSealed,!0).to.be.sealed};m.isNotSealed=function(e,t){new y(e,t,m.isNotSealed,!0).to.not.be.sealed};m.isFrozen=function(e,t){new y(e,t,m.isFrozen,!0).to.be.frozen};m.isNotFrozen=function(e,t){new y(e,t,m.isNotFrozen,!0).to.not.be.frozen};m.isEmpty=function(e,t){new y(e,t,m.isEmpty,!0).to.be.empty};m.isNotEmpty=function(e,t){new y(e,t,m.isNotEmpty,!0).to.not.be.empty};m.containsSubset=function(e,t,n){new y(e,n).to.containSubset(t)};m.doesNotContainSubset=function(e,t,n){new y(e,n).to.not.containSubset(t)};var zd=[["isOk","ok"],["isNotOk","notOk"],["throws","throw"],["throws","Throw"],["isExtensible","extensible"],["isNotExtensible","notExtensible"],["isSealed","sealed"],["isNotSealed","notSealed"],["isFrozen","frozen"],["isNotFrozen","notFrozen"],["isEmpty","empty"],["isNotEmpty","notEmpty"],["isCallable","isFunction"],["isNotCallable","isNotFunction"],["containsSubset","containSubset"]];for(const[e,t]of zd)m[t]=m[e];var Di=[];function St(e){const t={use:St,AssertionError:K,util:fe,config:ve,expect:gt,assert:m,Assertion:y,...Ou};return~Di.indexOf(e)||(e(t,fe),Di.push(e)),t}S(St,"use");const Un=Symbol.for("matchers-object"),En=Symbol.for("$$jest-matchers-object"),fr=Symbol.for("expect-global"),xs=Symbol.for("asymmetric-matchers-object"),Wd={toSatisfy(e,t,n){const{printReceived:r,printExpected:o,matcherHint:s}=this.utils,i=t(e);return{pass:i,message:()=>i?`${s(".not.toSatisfy","received","")}

Expected value to not satisfy:
${n||o(t)}
Received:
${r(e)}`:`${s(".toSatisfy","received","")}

Expected value to satisfy:
${n||o(t)}

Received:
${r(e)}`}},toBeOneOf(e,t){const{equals:n,customTesters:r}=this,{printReceived:o,printExpected:s,matcherHint:i}=this.utils;let a;if(Array.isArray(t))a=t.length===0||t.some(u=>n(u,e,r));else if(t instanceof Set)a=t.size===0||t.has(e)||[...t].some(u=>n(u,e,r));else throw new TypeError(`You must provide an array or set to ${i(".toBeOneOf")}, not '${typeof t}'.`);return{pass:a,message:()=>a?`${i(".not.toBeOneOf","received","")}

Expected value to not be one of:
${s(t)}
Received:
${o(e)}`:`${i(".toBeOneOf","received","")}

Expected value to be one of:
${s(t)}

Received:
${o(e)}`}}},Kn=ae.green,$s=ae.red,Ud=ae.inverse,Kd=ae.bold,ot=ae.dim;function Yd(e,t="received",n="expected",r={}){const{comment:o="",isDirectExpectCall:s=!1,isNot:i=!1,promise:a="",secondArgument:u="",expectedColor:c=Kn,receivedColor:l=$s,secondArgumentColor:f=Kn}=r;let h="",d="expect";return!s&&t!==""&&(h+=ot(`${d}(`)+l(t),d=")"),a!==""&&(h+=ot(`${d}.`)+a,d=""),i&&(h+=`${ot(`${d}.`)}not`,d=""),e.includes(".")?d+=e:(h+=ot(`${d}.`)+e,d=""),n===""?d+="()":(h+=ot(`${d}(`)+c(n),u&&(h+=ot(", ")+f(u)),d=")"),o!==""&&(d+=` // ${o}`),d!==""&&(h+=ot(d)),h}const Gd="·";function Mu(e){return e.replace(/\s+$/gm,t=>Gd.repeat(t.length))}function Jd(e){return $s(Mu(_e(e)))}function Hd(e){return Kn(Mu(_e(e)))}function Au(){return{EXPECTED_COLOR:Kn,RECEIVED_COLOR:$s,INVERTED_COLOR:Ud,BOLD_WEIGHT:Kd,DIM_COLOR:ot,diff:Rt,matcherHint:Yd,printReceived:Jd,printExpected:Hd,printDiffOrStringify:Mc,printWithType:Xd}}function Xd(e,t,n){const r=pn(t),o=r!=="null"&&r!=="undefined"?`${e} has type:  ${r}
`:"",s=`${e} has value: ${n(t)}`;return o+s}function Zd(e){if(!Array.isArray(e))throw new TypeError(`expect.customEqualityTesters: Must be set to an array of Testers. Was given "${pn(e)}"`);globalThis[En].customEqualityTesters.push(...e)}function _s(){return globalThis[En].customEqualityTesters}function U(e,t,n,r){return n=n||[],un(e,t,[],[],n,r?Cu:tp)}function Fi(e){return!!e&&typeof e=="object"&&"asymmetricMatch"in e&&We("Function",e.asymmetricMatch)}function Qd(e,t,n){const r=Fi(e),o=Fi(t);if(!(r&&o)){if(r)return e.asymmetricMatch(t,n);if(o)return t.asymmetricMatch(e,n)}}function un(e,t,n,r,o,s){let i=!0;const a=Qd(e,t,o);if(a!==void 0)return a;const u={equals:U};for(let p=0;p<o.length;p++){const g=o[p].call(u,e,t,o);if(g!==void 0)return g}if(typeof URL=="function"&&e instanceof URL&&t instanceof URL)return e.href===t.href;if(Object.is(e,t))return!0;if(e===null||t===null)return e===t;const c=Object.prototype.toString.call(e);if(c!==Object.prototype.toString.call(t))return!1;switch(c){case"[object Boolean]":case"[object String]":case"[object Number]":return typeof e!=typeof t?!1:typeof e!="object"&&typeof t!="object"?Object.is(e,t):Object.is(e.valueOf(),t.valueOf());case"[object Date]":{const p=+e,g=+t;return p===g||Number.isNaN(p)&&Number.isNaN(g)}case"[object RegExp]":return e.source===t.source&&e.flags===t.flags;case"[object Temporal.Instant]":case"[object Temporal.ZonedDateTime]":case"[object Temporal.PlainDateTime]":case"[object Temporal.PlainDate]":case"[object Temporal.PlainTime]":case"[object Temporal.PlainYearMonth]":case"[object Temporal.PlainMonthDay]":return e.equals(t);case"[object Temporal.Duration]":return e.toString()===t.toString()}if(typeof e!="object"||typeof t!="object")return!1;if(Li(e)&&Li(t))return e.isEqualNode(t);let l=n.length;for(;l--;){if(n[l]===e)return r[l]===t;if(r[l]===t)return!1}if(n.push(e),r.push(t),c==="[object Array]"&&e.length!==t.length)return!1;if(e instanceof Error&&t instanceof Error)try{return ep(e,t,n,r,o,s)}finally{n.pop(),r.pop()}const f=Bi(e,s);let h,d=f.length;if(Bi(t,s).length!==d)return!1;for(;d--;)if(h=f[d],i=s(t,h)&&un(e[h],t[h],n,r,o,s),!i)return!1;return n.pop(),r.pop(),i}function ep(e,t,n,r,o,s){let i=Object.getPrototypeOf(e)===Object.getPrototypeOf(t)&&e.name===t.name&&e.message===t.message;return typeof t.cause<"u"&&i&&(i=un(e.cause,t.cause,n,r,o,s)),e instanceof AggregateError&&t instanceof AggregateError&&i&&(i=un(e.errors,t.errors,n,r,o,s)),i&&(i=un({...e},{...t},n,r,o,s)),i}function Bi(e,t){const n=[];for(const r in e)t(e,r)&&n.push(r);return n.concat(Object.getOwnPropertySymbols(e).filter(r=>Object.getOwnPropertyDescriptor(e,r).enumerable))}function tp(e,t){return Cu(e,t)&&e[t]!==void 0}function Cu(e,t){return Object.hasOwn(e,t)}function We(e,t){return Object.prototype.toString.apply(t)===`[object ${e}]`}function Li(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"&&"nodeName"in e&&typeof e.nodeName=="string"&&"isEqualNode"in e&&typeof e.isEqualNode=="function"}const Nu="@@__IMMUTABLE_KEYED__@@",Iu="@@__IMMUTABLE_SET__@@",np="@@__IMMUTABLE_LIST__@@",hr="@@__IMMUTABLE_ORDERED__@@",rp="@@__IMMUTABLE_RECORD__@@";function op(e){return!!(e&&e[Nu]&&!e[hr])}function sp(e){return!!(e&&e[Iu]&&!e[hr])}function dr(e){return e!=null&&typeof e=="object"&&!Array.isArray(e)}function ip(e){return!!(e&&dr(e)&&e[np])}function ap(e){return!!(e&&dr(e)&&e[Nu]&&e[hr])}function cp(e){return!!(e&&dr(e)&&e[Iu]&&e[hr])}function up(e){return!!(e&&dr(e)&&e[rp])}const ku=Symbol.iterator;function qi(e){return!!(e!=null&&e[ku])}function Ne(e,t,n=[],r=[],o=[]){if(typeof e!="object"||typeof t!="object"||Array.isArray(e)||Array.isArray(t)||!qi(e)||!qi(t))return;if(e.constructor!==t.constructor)return!1;let s=r.length;for(;s--;)if(r[s]===e)return o[s]===t;r.push(e),o.push(t);const i=[...n.filter(c=>c!==Ne),a];function a(c,l){return Ne(c,l,[...n],[...r],[...o])}if(e.size!==void 0){if(e.size!==t.size)return!1;if(We("Set",e)||sp(e)){let c=!0;for(const l of e)if(!t.has(l)){let f=!1;for(const h of t)U(l,h,i)===!0&&(f=!0);if(f===!1){c=!1;break}}return r.pop(),o.pop(),c}else if(We("Map",e)||op(e)){let c=!0;for(const l of e)if(!t.has(l[0])||!U(l[1],t.get(l[0]),i)){let f=!1;for(const h of t){const d=U(l[0],h[0],i);let p=!1;d===!0&&(p=U(l[1],h[1],i)),p===!0&&(f=!0)}if(f===!1){c=!1;break}}return r.pop(),o.pop(),c}}const u=t[ku]();for(const c of e){const l=u.next();if(l.done||!U(c,l.value,i))return!1}if(!u.next().done)return!1;if(!ip(e)&&!ap(e)&&!cp(e)&&!up(e)){const c=Object.entries(e),l=Object.entries(t);if(!U(c,l,i))return!1}return r.pop(),o.pop(),!0}function Os(e,t){return!e||typeof e!="object"||e===Object.prototype?!1:Object.hasOwn(e,t)||Os(Object.getPrototypeOf(e),t)}function lp(e){return Mt(e)&&!(e instanceof Error)&&!Array.isArray(e)&&!(e instanceof Date)}function Ft(e,t,n=[]){const r=n.filter(s=>s!==Ft),o=(s=new WeakMap)=>(i,a)=>{if(lp(a))return Object.keys(a).every(u=>{if(a[u]!=null&&typeof a[u]=="object"){if(s.has(a[u]))return U(i[u],a[u],r);s.set(a[u],!0)}const c=i!=null&&Os(i,u)&&U(i[u],a[u],[...r,o(s)]);return s.delete(a[u]),c})};return o()(e,t)}function Vi(e,t){if(!(e==null||t==null||e.constructor===t.constructor))return!1}function zi(e,t){let n=e,r=t;if(!(e instanceof DataView&&t instanceof DataView)){if(!(e instanceof ArrayBuffer)||!(t instanceof ArrayBuffer))return;try{n=new DataView(e),r=new DataView(t)}catch{return}}if(n.byteLength!==r.byteLength)return!1;for(let o=0;o<n.byteLength;o++)if(n.getUint8(o)!==r.getUint8(o))return!1;return!0}function So(e,t,n=[]){if(!Array.isArray(e)||!Array.isArray(t))return;const r=Object.keys(e),o=Object.keys(t),s=n.filter(i=>i!==So);return U(e,t,s,!0)&&U(r,o)}function fp(e,t="#{this}",n="#{exp}"){const r=`expected ${t} to be ${n} // Object.is equality`;return["toStrictEqual","toEqual"].includes(e)?`${r}

If it should pass with deep equality, replace "toBe" with "${e}"

Expected: ${t}
Received: serializes to the same string
`:r}function hp(e,t){return`${t} ${e}${t===1?"":"s"}`}function Ar(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e).filter(t=>{var n;return(n=Object.getOwnPropertyDescriptor(e,t))===null||n===void 0?void 0:n.enumerable})]}function dp(e,t,n){let r=0;const o=(s=new WeakMap)=>(i,a)=>{if(Array.isArray(i)){if(Array.isArray(a)&&a.length===i.length)return a.map((u,c)=>o(s)(i[c],u))}else{if(i instanceof Date)return i;if(Mt(i)&&Mt(a)){if(U(i,a,[...n,Ne,Ft]))return a;const u={};s.set(i,u),typeof i.constructor=="function"&&typeof i.constructor.name=="string"&&Object.defineProperty(u,"constructor",{enumerable:!1,value:i.constructor});for(const c of Ar(i))Os(a,c)?u[c]=s.has(i[c])?s.get(i[c]):o(s)(i[c],a[c]):s.has(i[c])||(r+=1,Mt(i[c])&&(r+=Ar(i[c]).length),o(s)(i[c],a[c]));if(Ar(u).length>0)return u}}return i};return{subset:o()(e,t),stripped:r}}function pp(e){return!!e&&(typeof e=="object"||typeof e=="function")&&e["~standard"]&&typeof e["~standard"].validate=="function"}if(!Object.hasOwn(globalThis,Un)){const e=new WeakMap,t=Object.create(null),n=[],r=Object.create(null);Object.defineProperty(globalThis,Un,{get:()=>e}),Object.defineProperty(globalThis,En,{configurable:!0,get:()=>({state:e.get(globalThis[fr]),matchers:t,customEqualityTesters:n})}),Object.defineProperty(globalThis,xs,{get:()=>r})}function ln(e){return globalThis[Un].get(e)}function Cr(e,t){const n=globalThis[Un],r=n.get(t)||{},o=Object.defineProperties(r,{...Object.getOwnPropertyDescriptors(r),...Object.getOwnPropertyDescriptors(e)});n.set(t,o)}let Xe=class{$$typeof=Symbol.for("jest.asymmetricMatcher");constructor(t,n=!1){this.sample=t,this.inverse=n}getMatcherContext(t){return{...ln(t||globalThis[fr]),equals:U,isNot:this.inverse,customTesters:_s(),utils:{...Au(),diff:Rt,stringify:_e,iterableEquality:Ne,subsetEquality:Ft}}}};Xe.prototype[Symbol.for("chai/inspect")]=function(e){const t=_e(this,e.depth,{min:!0});return t.length<=e.truncate?t:`${this.toString()}{…}`};class Wi extends Xe{constructor(t,n=!1){if(!We("String",t))throw new Error("Expected is not a string");super(t,n)}asymmetricMatch(t){const n=We("String",t)&&t.includes(this.sample);return this.inverse?!n:n}toString(){return`String${this.inverse?"Not":""}Containing`}getExpectedType(){return"string"}}class mp extends Xe{asymmetricMatch(t){return t!=null}toString(){return"Anything"}toAsymmetricMatcher(){return"Anything"}}class Ui extends Xe{constructor(t,n=!1){super(t,n)}getPrototype(t){return Object.getPrototypeOf?Object.getPrototypeOf(t):t.constructor.prototype===t?null:t.constructor.prototype}hasProperty(t,n){return t?Object.hasOwn(t,n)?!0:this.hasProperty(this.getPrototype(t),n):!1}getProperties(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t).filter(n=>{var r;return(r=Object.getOwnPropertyDescriptor(t,n))===null||r===void 0?void 0:r.enumerable})]}asymmetricMatch(t,n){if(typeof this.sample!="object")throw new TypeError(`You must provide an object to ${this.toString()}, not '${typeof this.sample}'.`);let r=!0;const o=this.getProperties(this.sample);for(const a of o){var s,i;if(!this.hasProperty(t,a)){r=!1;break}const u=((s=Object.getOwnPropertyDescriptor(this.sample,a))===null||s===void 0?void 0:s.value)??this.sample[a],c=((i=Object.getOwnPropertyDescriptor(t,a))===null||i===void 0?void 0:i.value)??t[a];if(!U(u,c,n)){r=!1;break}}return this.inverse?!r:r}toString(){return`Object${this.inverse?"Not":""}Containing`}getExpectedType(){return"object"}}class Ki extends Xe{constructor(t,n=!1){super(t,n)}asymmetricMatch(t,n){if(!Array.isArray(this.sample))throw new TypeError(`You must provide an array to ${this.toString()}, not '${typeof this.sample}'.`);const r=this.sample.length===0||Array.isArray(t)&&this.sample.every(o=>t.some(s=>U(o,s,n)));return this.inverse?!r:r}toString(){return`Array${this.inverse?"Not":""}Containing`}getExpectedType(){return"array"}}class gp extends Xe{constructor(t){if(typeof t>"u")throw new TypeError("any() expects to be passed a constructor function. Please pass one or use anything() to match any object.");super(t)}fnNameFor(t){if(t.name)return t.name;const r=Function.prototype.toString.call(t).match(/^(?:async)?\s*function\s*(?:\*\s*)?([\w$]+)\s*\(/);return r?r[1]:"<anonymous>"}asymmetricMatch(t){return this.sample===String?typeof t=="string"||t instanceof String:this.sample===Number?typeof t=="number"||t instanceof Number:this.sample===Function?typeof t=="function"||typeof t=="function":this.sample===Boolean?typeof t=="boolean"||t instanceof Boolean:this.sample===BigInt?typeof t=="bigint"||t instanceof BigInt:this.sample===Symbol?typeof t=="symbol"||t instanceof Symbol:this.sample===Object?typeof t=="object":t instanceof this.sample}toString(){return"Any"}getExpectedType(){return this.sample===String?"string":this.sample===Number?"number":this.sample===Function?"function":this.sample===Object?"object":this.sample===Boolean?"boolean":this.fnNameFor(this.sample)}toAsymmetricMatcher(){return`Any<${this.fnNameFor(this.sample)}>`}}class Yi extends Xe{constructor(t,n=!1){if(!We("String",t)&&!We("RegExp",t))throw new Error("Expected is not a String or a RegExp");super(new RegExp(t),n)}asymmetricMatch(t){const n=We("String",t)&&this.sample.test(t);return this.inverse?!n:n}toString(){return`String${this.inverse?"Not":""}Matching`}getExpectedType(){return"string"}}class Gi extends Xe{precision;constructor(t,n=2,r=!1){if(!We("Number",t))throw new Error("Expected is not a Number");if(!We("Number",n))throw new Error("Precision is not a Number");super(t),this.inverse=r,this.precision=n}asymmetricMatch(t){if(!We("Number",t))return!1;let n=!1;return t===Number.POSITIVE_INFINITY&&this.sample===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY&&this.sample===Number.NEGATIVE_INFINITY?n=!0:n=Math.abs(this.sample-t)<10**-this.precision/2,this.inverse?!n:n}toString(){return`Number${this.inverse?"Not":""}CloseTo`}getExpectedType(){return"number"}toAsymmetricMatcher(){return[this.toString(),this.sample,`(${hp("digit",this.precision)})`].join(" ")}}class Ji extends Xe{result;constructor(t,n=!1){if(!pp(t))throw new TypeError("SchemaMatching expected to receive a Standard Schema.");super(t,n)}asymmetricMatch(t){const n=this.sample["~standard"].validate(t);if(n instanceof Promise)throw new TypeError("Async schema validation is not supported in asymmetric matchers.");this.result=n;const r=!this.result.issues||this.result.issues.length===0;return this.inverse?!r:r}toString(){return`Schema${this.inverse?"Not":""}Matching`}getExpectedType(){return"object"}toAsymmetricMatcher(){var t;const{utils:n}=this.getMatcherContext();return(((t=this.result)===null||t===void 0?void 0:t.issues)||[]).length>0?`${this.toString()} ${n.stringify(this.result,void 0,{printBasicPrototype:!1})}`:this.toString()}}const yp=(e,t)=>{t.addMethod(e.expect,"anything",()=>new mp),t.addMethod(e.expect,"any",n=>new gp(n)),t.addMethod(e.expect,"stringContaining",n=>new Wi(n)),t.addMethod(e.expect,"objectContaining",n=>new Ui(n)),t.addMethod(e.expect,"arrayContaining",n=>new Ki(n)),t.addMethod(e.expect,"stringMatching",n=>new Yi(n)),t.addMethod(e.expect,"closeTo",(n,r)=>new Gi(n,r)),t.addMethod(e.expect,"schemaMatching",n=>new Ji(n)),e.expect.not={stringContaining:n=>new Wi(n,!0),objectContaining:n=>new Ui(n,!0),arrayContaining:n=>new Ki(n,!0),stringMatching:n=>new Yi(n,!0),closeTo:(n,r)=>new Gi(n,r,!0),schemaMatching:n=>new Ji(n,!0)}};function Hi(e,t,n){const r=e.flag(t,"negate")?"not.":"",o=`${e.flag(t,"_name")}(${n?"expected":""})`,s=e.flag(t,"promise");return`expect(actual)${s?`.${s}`:""}.${r}${o}`}function Xi(e,t,n,r){const o=e;if(o&&t instanceof Promise){t=t.finally(()=>{if(!o.promises)return;const i=o.promises.indexOf(t);i!==-1&&o.promises.splice(i,1)}),o.promises||(o.promises=[]),o.promises.push(t);let s=!1;return o.onFinished??(o.onFinished=[]),o.onFinished.push(()=>{if(!s){var i;const u=(((i=globalThis.__vitest_worker__)===null||i===void 0?void 0:i.onFilterStackTrace)||(c=>c||""))(r.stack);console.warn([`Promise returned by \`${n}\` was not awaited. `,"Vitest currently auto-awaits hanging assertions at the end of the test, but this will cause the test to fail in Vitest 3. ",`Please remember to await the assertion.
`,u].join(""))}}),{then(i,a){return s=!0,t.then(i,a)},catch(i){return t.catch(i)},finally(i){return t.finally(i)},[Symbol.toStringTag]:"Promise"}}return t}function Zi(e,t){var n;e.result||(e.result={state:"fail"}),e.result.state="fail",(n=e.result).errors||(n.errors=[]),e.result.errors.push(kc(t))}function Pu(e,t,n){return function(...r){if(t!=="withTest"&&e.flag(this,"_name",t),!e.flag(this,"soft"))return n.apply(this,r);const o=e.flag(this,"vitest-test");if(!o)throw new Error("expect.soft() can only be used inside a test");try{const s=n.apply(this,r);return s&&typeof s=="object"&&typeof s.then=="function"?s.then(gh,i=>{Zi(o,i)}):s}catch(s){Zi(o,s)}}}const bp=(e,t)=>{const{AssertionError:n}=e,r=_s();function o(c,l){const f=h=>{const d=Pu(t,h,l);t.addMethod(e.Assertion.prototype,h,d),t.addMethod(globalThis[En].matchers,h,d)};Array.isArray(c)?c.forEach(h=>f(h)):f(c)}["throw","throws","Throw"].forEach(c=>{t.overwriteMethod(e.Assertion.prototype,c,l=>function(...f){const h=t.flag(this,"promise"),d=t.flag(this,"object"),p=t.flag(this,"negate");if(h==="rejects")t.flag(this,"object",()=>{throw d});else if(h==="resolves"&&typeof d!="function"){if(p)return;{const g=t.flag(this,"message")||"expected promise to throw an error, but it didn't",w={showDiff:!1};throw new n(g,w,t.flag(this,"ssfi"))}}l.apply(this,f)})}),o("withTest",function(c){return t.flag(this,"vitest-test",c),this}),o("toEqual",function(c){const l=t.flag(this,"object"),f=U(l,c,[...r,Ne]);return this.assert(f,"expected #{this} to deeply equal #{exp}","expected #{this} to not deeply equal #{exp}",c,l)}),o("toStrictEqual",function(c){const l=t.flag(this,"object"),f=U(l,c,[...r,Ne,Vi,So,zi],!0);return this.assert(f,"expected #{this} to strictly equal #{exp}","expected #{this} to not strictly equal #{exp}",c,l)}),o("toBe",function(c){const l=this._obj,f=Object.is(l,c);let h="";return f||(U(l,c,[...r,Ne,Vi,So,zi],!0)?h="toStrictEqual":U(l,c,[...r,Ne])&&(h="toEqual")),this.assert(f,fp(h),"expected #{this} not to be #{exp} // Object.is equality",c,l)}),o("toMatchObject",function(c){const l=this._obj,f=U(l,c,[...r,Ne,Ft]),h=t.flag(this,"negate"),{subset:d,stripped:p}=dp(l,c,r);if(f&&h||!f&&!h){const g=t.getMessage(this,[f,"expected #{this} to match object #{exp}","expected #{this} to not match object #{exp}",c,d,!1]),w=p===0?g:`${g}
(${p} matching ${p===1?"property":"properties"} omitted from actual)`;throw new n(w,{showDiff:!0,expected:c,actual:d})}}),o("toMatch",function(c){const l=this._obj;if(typeof l!="string")throw new TypeError(`.toMatch() expects to receive a string, but got ${typeof l}`);return this.assert(typeof c=="string"?l.includes(c):l.match(c),"expected #{this} to match #{exp}","expected #{this} not to match #{exp}",c,l)}),o("toContain",function(c){const l=this._obj;if(typeof Node<"u"&&l instanceof Node){if(!(c instanceof Node))throw new TypeError(`toContain() expected a DOM node as the argument, but got ${typeof c}`);return this.assert(l.contains(c),"expected #{this} to contain element #{exp}","expected #{this} not to contain element #{exp}",c,l)}if(typeof DOMTokenList<"u"&&l instanceof DOMTokenList){$e(c,"class name",["string"]);const h=t.flag(this,"negate")?l.value.replace(c,"").trim():`${l.value} ${c}`;return this.assert(l.contains(c),`expected "${l.value}" to contain "${c}"`,`expected "${l.value}" not to contain "${c}"`,h,l.value)}return typeof l=="string"&&typeof c=="string"?this.assert(l.includes(c),"expected #{this} to contain #{exp}","expected #{this} not to contain #{exp}",c,l):(l!=null&&typeof l!="string"&&t.flag(this,"object",Array.from(l)),this.contain(c))}),o("toContainEqual",function(c){const l=t.flag(this,"object"),f=Array.from(l).findIndex(h=>U(h,c,r));this.assert(f!==-1,"expected #{this} to deep equally contain #{exp}","expected #{this} to not deep equally contain #{exp}",c)}),o("toBeTruthy",function(){const c=t.flag(this,"object");this.assert(!!c,"expected #{this} to be truthy","expected #{this} to not be truthy",!0,c)}),o("toBeFalsy",function(){const c=t.flag(this,"object");this.assert(!c,"expected #{this} to be falsy","expected #{this} to not be falsy",!1,c)}),o("toBeGreaterThan",function(c){const l=this._obj;return $e(l,"actual",["number","bigint"]),$e(c,"expected",["number","bigint"]),this.assert(l>c,`expected ${l} to be greater than ${c}`,`expected ${l} to be not greater than ${c}`,c,l,!1)}),o("toBeGreaterThanOrEqual",function(c){const l=this._obj;return $e(l,"actual",["number","bigint"]),$e(c,"expected",["number","bigint"]),this.assert(l>=c,`expected ${l} to be greater than or equal to ${c}`,`expected ${l} to be not greater than or equal to ${c}`,c,l,!1)}),o("toBeLessThan",function(c){const l=this._obj;return $e(l,"actual",["number","bigint"]),$e(c,"expected",["number","bigint"]),this.assert(l<c,`expected ${l} to be less than ${c}`,`expected ${l} to be not less than ${c}`,c,l,!1)}),o("toBeLessThanOrEqual",function(c){const l=this._obj;return $e(l,"actual",["number","bigint"]),$e(c,"expected",["number","bigint"]),this.assert(l<=c,`expected ${l} to be less than or equal to ${c}`,`expected ${l} to be not less than or equal to ${c}`,c,l,!1)}),o("toBeNaN",function(){const c=t.flag(this,"object");this.assert(Number.isNaN(c),"expected #{this} to be NaN","expected #{this} not to be NaN",Number.NaN,c)}),o("toBeUndefined",function(){const c=t.flag(this,"object");this.assert(c===void 0,"expected #{this} to be undefined","expected #{this} not to be undefined",void 0,c)}),o("toBeNull",function(){const c=t.flag(this,"object");this.assert(c===null,"expected #{this} to be null","expected #{this} not to be null",null,c)}),o("toBeNullable",function(){const c=t.flag(this,"object");this.assert(c==null,"expected #{this} to be nullish","expected #{this} not to be nullish",null,c)}),o("toBeDefined",function(){const c=t.flag(this,"object");this.assert(typeof c<"u","expected #{this} to be defined","expected #{this} to be undefined",c)}),o("toBeTypeOf",function(c){const l=typeof this._obj,f=c===l;return this.assert(f,"expected #{this} to be type of #{exp}","expected #{this} not to be type of #{exp}",c,l)}),o("toBeInstanceOf",function(c){return this.instanceOf(c)}),o("toHaveLength",function(c){return this.have.length(c)}),o("toHaveProperty",function(...c){Array.isArray(c[0])&&(c[0]=c[0].map(x=>String(x).replace(/([.[\]])/g,"\\$1")).join("."));const l=this._obj,[f,h]=c,d=()=>Object.hasOwn(l,f)?{value:l[f],exists:!0}:t.getPathInfo(l,f),{value:p,exists:g}=d(),w=g&&(c.length===1||U(h,p,r)),T=c.length===1?"":` with value ${t.objDisplay(h)}`;return this.assert(w,`expected #{this} to have property "${f}"${T}`,`expected #{this} to not have property "${f}"${T}`,h,g?p:void 0)}),o("toBeCloseTo",function(c,l=2){const f=this._obj;let h=!1,d=0,p=0;return c===Number.POSITIVE_INFINITY&&f===Number.POSITIVE_INFINITY||c===Number.NEGATIVE_INFINITY&&f===Number.NEGATIVE_INFINITY?h=!0:(d=10**-l/2,p=Math.abs(f-c),h=p<d),this.assert(h,`expected #{this} to be close to #{exp}, received difference is ${p}, but expected ${d}`,`expected #{this} to not be close to #{exp}, received difference is ${p}, but expected ${d}`,c,f,!1)});function s(c){if(!pt(c._obj))throw new TypeError(`${t.inspect(c._obj)} is not a spy or a call to a spy!`)}function i(c){return s(c),c._obj}o(["toHaveBeenCalledTimes","toBeCalledTimes"],function(c){const l=i(this),f=l.getMockName(),h=l.mock.calls.length;return this.assert(h===c,`expected "${f}" to be called #{exp} times, but got ${h} times`,`expected "${f}" to not be called #{exp} times`,c,h,!1)}),o("toHaveBeenCalledOnce",function(){const c=i(this),l=c.getMockName(),f=c.mock.calls.length;return this.assert(f===1,`expected "${l}" to be called once, but got ${f} times`,`expected "${l}" to not be called once`,1,f,!1)}),o(["toHaveBeenCalled","toBeCalled"],function(){const c=i(this),l=c.getMockName(),f=c.mock.calls.length,h=f>0,d=t.flag(this,"negate");let p=t.getMessage(this,[h,`expected "${l}" to be called at least once`,`expected "${l}" to not be called at all, but actually been called ${f} times`,!0,h]);if(h&&d&&(p=Nr(c,p)),h&&d||!h&&!d)throw new n(p)});function a(c,l){return c.length===l.length&&c.every((f,h)=>U(f,l[h],[...r,Ne]))}o(["toHaveBeenCalledWith","toBeCalledWith"],function(...c){const l=i(this),f=l.getMockName(),h=l.mock.calls.some(g=>a(g,c)),d=t.flag(this,"negate"),p=t.getMessage(this,[h,`expected "${f}" to be called with arguments: #{exp}`,`expected "${f}" to not be called with arguments: #{exp}`,c]);if(h&&d||!h&&!d)throw new n(Nr(l,p,c))}),o("toHaveBeenCalledExactlyOnceWith",function(...c){const l=i(this),f=l.getMockName(),h=l.mock.calls.length,p=l.mock.calls.some(T=>a(T,c))&&h===1,g=t.flag(this,"negate"),w=t.getMessage(this,[p,`expected "${f}" to be called once with arguments: #{exp}`,`expected "${f}" to not be called once with arguments: #{exp}`,c]);if(p&&g||!p&&!g)throw new n(Nr(l,w,c))}),o(["toHaveBeenNthCalledWith","nthCalledWith"],function(c,...l){const f=i(this),h=f.getMockName(),d=f.mock.calls[c-1],p=f.mock.calls.length,g=c<=p;this.assert(d&&a(d,l),`expected ${fn(c)} "${h}" call to have been called with #{exp}${g?"":`, but called only ${p} times`}`,`expected ${fn(c)} "${h}" call to not have been called with #{exp}`,l,d,g)}),o(["toHaveBeenLastCalledWith","lastCalledWith"],function(...c){const l=i(this),f=l.getMockName(),h=l.mock.calls.at(-1);this.assert(h&&a(h,c),`expected last "${f}" call to have been called with #{exp}`,`expected last "${f}" call to not have been called with #{exp}`,c,h)});function u(c,l,f){const h=c.mock.invocationCallOrder,d=l.mock.invocationCallOrder;return h.length===0?!f:d.length===0?!1:h[0]<d[0]}o(["toHaveBeenCalledBefore"],function(c,l=!0){const f=i(this);if(!pt(c))throw new TypeError(`${t.inspect(c)} is not a spy or a call to a spy`);this.assert(u(f,c,l),`expected "${f.getMockName()}" to have been called before "${c.getMockName()}"`,`expected "${f.getMockName()}" to not have been called before "${c.getMockName()}"`,c,f)}),o(["toHaveBeenCalledAfter"],function(c,l=!0){const f=i(this);if(!pt(c))throw new TypeError(`${t.inspect(c)} is not a spy or a call to a spy`);this.assert(u(c,f,l),`expected "${f.getMockName()}" to have been called after "${c.getMockName()}"`,`expected "${f.getMockName()}" to not have been called after "${c.getMockName()}"`,c,f)}),o(["toThrow","toThrowError"],function(c){if(typeof c=="string"||typeof c>"u"||c instanceof RegExp)return this.throws(c===""?/^$/:c);const l=this._obj,f=t.flag(this,"promise"),h=t.flag(this,"negate");let d=null;if(f==="rejects")d=l;else if(f==="resolves"&&typeof l!="function"){if(h)return;{const p=t.flag(this,"message")||"expected promise to throw an error, but it didn't",g={showDiff:!1};throw new n(p,g,t.flag(this,"ssfi"))}}else{let p=!1;try{l()}catch(g){p=!0,d=g}if(!p&&!h){const g=t.flag(this,"message")||"expected function to throw an error, but it didn't",w={showDiff:!1};throw new n(g,w,t.flag(this,"ssfi"))}}if(typeof c=="function"){const p=c.name||c.prototype.constructor.name;return this.assert(d&&d instanceof c,`expected error to be instance of ${p}`,`expected error not to be instance of ${p}`,c,d)}if(c instanceof Error){const p=U(d,c,[...r,Ne]);return this.assert(p,"expected a thrown error to be #{exp}","expected a thrown error not to be #{exp}",c,d)}if(typeof c=="object"&&"asymmetricMatch"in c&&typeof c.asymmetricMatch=="function"){const p=c;return this.assert(d&&p.asymmetricMatch(d),"expected error to match asymmetric matcher","expected error not to match asymmetric matcher",p,d)}throw new Error(`"toThrow" expects string, RegExp, function, Error instance or asymmetric matcher, got "${typeof c}"`)}),[{name:"toHaveResolved",condition:c=>c.mock.settledResults.length>0&&c.mock.settledResults.some(({type:l})=>l==="fulfilled"),action:"resolved"},{name:["toHaveReturned","toReturn"],condition:c=>c.mock.calls.length>0&&c.mock.results.some(({type:l})=>l!=="throw"),action:"called"}].forEach(({name:c,condition:l,action:f})=>{o(c,function(){const h=i(this),d=h.getMockName(),p=l(h);this.assert(p,`expected "${d}" to be successfully ${f} at least once`,`expected "${d}" to not be successfully ${f}`,p,!p,!1)})}),[{name:"toHaveResolvedTimes",condition:(c,l)=>c.mock.settledResults.reduce((f,{type:h})=>h==="fulfilled"?++f:f,0)===l,action:"resolved"},{name:["toHaveReturnedTimes","toReturnTimes"],condition:(c,l)=>c.mock.results.reduce((f,{type:h})=>h==="throw"?f:++f,0)===l,action:"called"}].forEach(({name:c,condition:l,action:f})=>{o(c,function(h){const d=i(this),p=d.getMockName(),g=l(d,h);this.assert(g,`expected "${p}" to be successfully ${f} ${h} times`,`expected "${p}" to not be successfully ${f} ${h} times`,`expected resolved times: ${h}`,`received resolved times: ${g}`,!1)})}),[{name:"toHaveResolvedWith",condition:(c,l)=>c.mock.settledResults.some(({type:f,value:h})=>f==="fulfilled"&&U(l,h)),action:"resolve"},{name:["toHaveReturnedWith","toReturnWith"],condition:(c,l)=>c.mock.results.some(({type:f,value:h})=>f==="return"&&U(l,h)),action:"return"}].forEach(({name:c,condition:l,action:f})=>{o(c,function(h){const d=i(this),p=l(d,h),g=t.flag(this,"negate");if(p&&g||!p&&!g){const w=d.getMockName(),T=t.getMessage(this,[p,`expected "${w}" to ${f} with: #{exp} at least once`,`expected "${w}" to not ${f} with: #{exp}`,h]),x=f==="return"?d.mock.results:d.mock.settledResults;throw new n(wp(d,x,T,h))}})}),[{name:"toHaveLastResolvedWith",condition:(c,l)=>{const f=c.mock.settledResults.at(-1);return!!(f&&f.type==="fulfilled"&&U(f.value,l))},action:"resolve"},{name:["toHaveLastReturnedWith","lastReturnedWith"],condition:(c,l)=>{const f=c.mock.results.at(-1);return!!(f&&f.type==="return"&&U(f.value,l))},action:"return"}].forEach(({name:c,condition:l,action:f})=>{o(c,function(h){const d=i(this),g=(f==="return"?d.mock.results:d.mock.settledResults).at(-1),w=d.getMockName();this.assert(l(d,h),`expected last "${w}" call to ${f} #{exp}`,`expected last "${w}" call to not ${f} #{exp}`,h,g?.value)})}),[{name:"toHaveNthResolvedWith",condition:(c,l,f)=>{const h=c.mock.settledResults[l-1];return h&&h.type==="fulfilled"&&U(h.value,f)},action:"resolve"},{name:["toHaveNthReturnedWith","nthReturnedWith"],condition:(c,l,f)=>{const h=c.mock.results[l-1];return h&&h.type==="return"&&U(h.value,f)},action:"return"}].forEach(({name:c,condition:l,action:f})=>{o(c,function(h,d){const p=i(this),g=p.getMockName(),T=(f==="return"?p.mock.results:p.mock.settledResults)[h-1],x=`${fn(h)} call`;this.assert(l(p,h,d),`expected ${x} "${g}" call to ${f} #{exp}`,`expected ${x} "${g}" call to not ${f} #{exp}`,d,T?.value)})}),o("withContext",function(c){for(const l in c)t.flag(this,l,c[l]);return this}),t.addProperty(e.Assertion.prototype,"resolves",function(){const l=new Error("resolves");t.flag(this,"promise","resolves"),t.flag(this,"error",l);const f=t.flag(this,"vitest-test"),h=t.flag(this,"object");if(t.flag(this,"poll"))throw new SyntaxError("expect.poll() is not supported in combination with .resolves");if(typeof h?.then!="function")throw new TypeError(`You must provide a Promise to expect() when using .resolves, not '${typeof h}'.`);const d=new Proxy(this,{get:(p,g,w)=>{const T=Reflect.get(p,g,w);return typeof T!="function"?T instanceof e.Assertion?d:T:(...x)=>{t.flag(this,"_name",g);const A=h.then(_=>(t.flag(this,"object",_),T.call(this,...x)),_=>{const C=new n(`promise rejected "${t.inspect(_)}" instead of resolving`,{showDiff:!1});throw C.cause=_,C.stack=l.stack.replace(l.message,C.message),C});return Xi(f,A,Hi(t,this,!!x.length),l)}}});return d}),t.addProperty(e.Assertion.prototype,"rejects",function(){const l=new Error("rejects");t.flag(this,"promise","rejects"),t.flag(this,"error",l);const f=t.flag(this,"vitest-test"),h=t.flag(this,"object"),d=typeof h=="function"?h():h;if(t.flag(this,"poll"))throw new SyntaxError("expect.poll() is not supported in combination with .rejects");if(typeof d?.then!="function")throw new TypeError(`You must provide a Promise to expect() when using .rejects, not '${typeof d}'.`);const p=new Proxy(this,{get:(g,w,T)=>{const x=Reflect.get(g,w,T);return typeof x!="function"?x instanceof e.Assertion?p:x:(...A)=>{t.flag(this,"_name",w);const _=d.then(C=>{const N=new n(`promise resolved "${t.inspect(C)}" instead of rejecting`,{showDiff:!0,expected:new Error("rejected promise"),actual:C});throw N.stack=l.stack.replace(l.message,N.message),N},C=>(t.flag(this,"object",C),x.call(this,...A)));return Xi(f,_,Hi(t,this,!!A.length),l)}}});return p})};function fn(e){const t=e%10,n=e%100;return t===1&&n!==11?`${e}st`:t===2&&n!==12?`${e}nd`:t===3&&n!==13?`${e}rd`:`${e}th`}function Nr(e,t,n){return e.mock.calls.length&&(t+=ae.gray(`

Received: 

${e.mock.calls.map((r,o)=>{let s=ae.bold(`  ${fn(o+1)} ${e.getMockName()} call:

`);return n?s+=Rt(n,r,{omitAnnotationLines:!0}):s+=_e(r).split(`
`).map(i=>`    ${i}`).join(`
`),s+=`
`,s}).join(`
`)}`)),t+=ae.gray(`

Number of calls: ${ae.bold(e.mock.calls.length)}
`),t}function wp(e,t,n,r){return t.length&&(n+=ae.gray(`

Received: 

${t.map((o,s)=>{let i=ae.bold(`  ${fn(s+1)} ${e.getMockName()} call return:

`);return r?i+=Rt(r,o.value,{omitAnnotationLines:!0}):i+=_e(o).split(`
`).map(a=>`    ${a}`).join(`
`),i+=`
`,i}).join(`
`)}`)),n+=ae.gray(`

Number of calls: ${ae.bold(e.mock.calls.length)}
`),n}function Tp(e,t){const n=e._obj,r=fe.flag(e,"negate"),o=fe.flag(e,"promise")||"",s=fe.flag(e,"message"),i={...Au(),diff:Rt,stringify:_e,iterableEquality:Ne,subsetEquality:Ft};let a=fe.flag(e,"vitest-test");const u=a?.fullTestName??"";return a?.type!=="test"&&(a=void 0),{state:{...ln(t),task:a,currentTestName:u,customTesters:_s(),isNot:r,utils:i,promise:o,equals:U,suppressedErrors:[],soft:fe.flag(e,"soft"),poll:fe.flag(e,"poll")},isNot:r,obj:n,customMessage:s}}class Qi extends Error{constructor(t,n,r){super(t),this.actual=n,this.expected=r}}function vp(e,t,n){return(r,o)=>{Object.entries(n).forEach(([s,i])=>{function a(...f){const{state:h,isNot:d,obj:p,customMessage:g}=Tp(this,t),w=i.call(h,p,...f);if(w&&typeof w=="object"&&typeof w.then=="function")return w.then(({pass:N,message:O,actual:B,expected:X})=>{if(N&&d||!N&&!d){const D=g??O();throw new Qi(D,B,X)}});const{pass:T,message:x,actual:A,expected:_}=w;if(T&&d||!T&&!d){const C=g??x();throw new Qi(C,A,_)}}const u=Pu(o,s,a);o.addMethod(globalThis[En].matchers,s,u),o.addMethod(e.Assertion.prototype,s,u);class c extends Xe{constructor(h=!1,...d){super(d,h)}asymmetricMatch(h){const{pass:d}=i.call(this.getMatcherContext(t),h,...this.sample);return this.inverse?!d:d}toString(){return`${this.inverse?"not.":""}${s}`}getExpectedType(){return"any"}toAsymmetricMatcher(){return`${this.toString()}<${this.sample.map(h=>_e(h)).join(", ")}>`}}const l=(...f)=>new c(!1,...f);Object.defineProperty(t,s,{configurable:!0,enumerable:!0,value:l,writable:!0}),Object.defineProperty(t.not,s,{configurable:!0,enumerable:!0,value:(...f)=>new c(!0,...f),writable:!0}),Object.defineProperty(globalThis[xs],s,{configurable:!0,enumerable:!0,value:l,writable:!0})})}}const Ep=(e,t)=>{t.addMethod(e.expect,"extend",(n,r)=>{St(vp(e,n,r))})},ea=Symbol("vitest:SAFE_TIMERS");function Bt(){const{setTimeout:e,setInterval:t,clearInterval:n,clearTimeout:r,setImmediate:o,clearImmediate:s,queueMicrotask:i}=globalThis[ea]||globalThis,{nextTick:a}=globalThis[ea]||globalThis.process||{};return{nextTick:a,setTimeout:e,setInterval:t,clearInterval:n,clearTimeout:r,setImmediate:o,clearImmediate:s,queueMicrotask:i}}function Sp(e,t=setTimeout){return new Promise(n=>t(n,e))}const xp=/^[A-Za-z]:\//;function $p(e=""){return e&&e.replace(/\\/g,"/").replace(xp,t=>t.toUpperCase())}const _p=/^[/\\](?![/\\])|^[/\\]{2}(?!\.)|^[A-Za-z]:[/\\]/;function Op(){return typeof process<"u"&&typeof process.cwd=="function"?process.cwd().replace(/\\/g,"/"):"/"}const Mp=function(...e){e=e.map(r=>$p(r));let t="",n=!1;for(let r=e.length-1;r>=-1&&!n;r--){const o=r>=0?e[r]:Op();!o||o.length===0||(t=`${o}/${t}`,n=ta(o))}return t=Ap(t,!n),n&&!ta(t)?`/${t}`:t.length>0?t:"."};function Ap(e,t){let n="",r=0,o=-1,s=0,i=null;for(let a=0;a<=e.length;++a){if(a<e.length)i=e[a];else{if(i==="/")break;i="/"}if(i==="/"){if(!(o===a-1||s===1))if(s===2){if(n.length<2||r!==2||n[n.length-1]!=="."||n[n.length-2]!=="."){if(n.length>2){const u=n.lastIndexOf("/");u===-1?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),o=a,s=0;continue}else if(n.length>0){n="",r=0,o=a,s=0;continue}}t&&(n+=n.length>0?"/..":"..",r=2)}else n.length>0?n+=`/${e.slice(o+1,a)}`:n=e.slice(o+1,a),r=a-o-1;o=a,s=0}else i==="."&&s!==-1?++s:s=-1}return n}const ta=function(e){return _p.test(e)};var na="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Cp=new Uint8Array(64),Np=new Uint8Array(128);for(let e=0;e<na.length;e++){const t=na.charCodeAt(e);Cp[e]=t,Np[t]=e}const ju=/^\s*at .*(?:\S:\d+|\(native\))/m,Ip=/^(?:eval@)?(?:\[native code\])?$/;function Ru(e){if(!e.includes(":"))return[e];const n=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(e.replace(/^\(|\)$/g,""));if(!n)return[e];let r=n[1];if(r.startsWith("async ")&&(r=r.slice(6)),r.startsWith("http:")||r.startsWith("https:")){const o=new URL(r);o.searchParams.delete("import"),o.searchParams.delete("browserv"),r=o.pathname+o.hash+o.search}if(r.startsWith("/@fs/")){const o=/^\/@fs\/[a-zA-Z]:\//.test(r);r=r.slice(o?5:4)}return[r,n[2]||void 0,n[3]||void 0]}function kp(e){let t=e.trim();if(Ip.test(t)||(t.includes(" > eval")&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),!t.includes("@")))return null;let n=-1,r="",o;for(let u=0;u<t.length;u++)if(t[u]==="@"){const c=t.slice(u+1);if(c.includes(":")&&c.length>=3){n=u,r=c,o=u>0?t.slice(0,u):void 0;break}}if(n===-1||!r.includes(":")||r.length<3)return null;const[s,i,a]=Ru(r);return!s||!i||!a?null:{file:s,method:o||"",line:Number.parseInt(i),column:Number.parseInt(a)}}function Du(e){const t=e.trim();return ju.test(t)?Pp(t):kp(t)}function Pp(e){let t=e.trim();if(!ju.test(t))return null;t.includes("(eval ")&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(,.*$)/g,""));let n=t.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/^.*?\s+/,"");const r=n.match(/ (\(.+\)$)/);n=r?n.replace(r[0],""):n;const[o,s,i]=Ru(r?r[1]:n);let a=r&&n||"",u=o&&["eval","<anonymous>"].includes(o)?void 0:o;return!u||!s||!i?null:(a.startsWith("async ")&&(a=a.slice(6)),u.startsWith("file://")&&(u=u.slice(7)),u=u.startsWith("node:")||u.startsWith("internal:")?u:Mp(u),a&&(a=a.replace(/__vite_ssr_import_\d+__\./g,"").replace(/(Object\.)?__vite_ssr_export_default__\s?/g,"")),{method:a,file:u,line:Number.parseInt(s),column:Number.parseInt(i)})}const jp=/^[A-Za-z]:\//;function Rp(e=""){return e&&e.replace(/\\/g,"/").replace(jp,t=>t.toUpperCase())}const Dp=/^[/\\](?![/\\])|^[/\\]{2}(?!\.)|^[A-Za-z]:[/\\]/;function Fp(){return typeof process<"u"&&typeof process.cwd=="function"?process.cwd().replace(/\\/g,"/"):"/"}const Fu=function(...e){e=e.map(r=>Rp(r));let t="",n=!1;for(let r=e.length-1;r>=-1&&!n;r--){const o=r>=0?e[r]:Fp();!o||o.length===0||(t=`${o}/${t}`,n=ra(o))}return t=Bp(t,!n),n&&!ra(t)?`/${t}`:t.length>0?t:"."};function Bp(e,t){let n="",r=0,o=-1,s=0,i=null;for(let a=0;a<=e.length;++a){if(a<e.length)i=e[a];else{if(i==="/")break;i="/"}if(i==="/"){if(!(o===a-1||s===1))if(s===2){if(n.length<2||r!==2||n[n.length-1]!=="."||n[n.length-2]!=="."){if(n.length>2){const u=n.lastIndexOf("/");u===-1?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),o=a,s=0;continue}else if(n.length>0){n="",r=0,o=a,s=0;continue}}t&&(n+=n.length>0?"/..":"..",r=2)}else n.length>0?n+=`/${e.slice(o+1,a)}`:n=e.slice(o+1,a),r=a-o-1;o=a,s=0}else i==="."&&s!==-1?++s:s=-1}return n}const ra=function(e){return Dp.test(e)};function Bu(e,t){function n(o){const s=function(...i){return t.apply(o,i)};Object.assign(s,t),s.withContext=()=>s.bind(o),s.setContext=(i,a)=>{o[i]=a},s.mergeContext=i=>{Object.assign(o,i)};for(const i of e)Object.defineProperty(s,i,{get(){return n({...o,[i]:!0})}});return s}const r=n({});return r.fn=t,r}function Lu(e,t){const n=t.split(`
`).slice(1);for(const r of n){const o=Du(r);if(o&&o.file===e)return o}}function Lp(e){const t=[e.name];let n=e;for(;n?.suite;)n=n.suite,n?.name&&t.unshift(n.name);return n!==e.file&&t.unshift(e.file.name),t}function An(e,t=" > "){return e.filter(n=>n!==void 0).join(t)}class qp extends Error{code="VITEST_PENDING";taskId;constructor(t,n,r){super(t),this.message=t,this.note=r,this.taskId=n.id}}const Vp=new WeakMap,qu=new WeakMap,Vu=new WeakMap;function zp(e,t){Vp.set(e,t)}function Wp(e,t){qu.set(e,t)}function Up(e){return qu.get(e)}function Kp(e,t){Vu.set(e,t)}function Yp(e){return Vu.get(e)}function Gp(e,t){const n=t.reduce((s,i)=>(s[i.prop]=i,s),{}),r={};e.forEach(s=>{const i=n[s.prop]||{...s};r[i.prop]=i});for(const s in r){var o;const i=r[s];i.deps=(o=i.deps)===null||o===void 0?void 0:o.map(a=>r[a.prop])}return Object.values(r)}function zu(e,t,n){const r=["auto","injected","scope"],o=Object.entries(e).map(([s,i])=>{const a={value:i};if(Array.isArray(i)&&i.length>=2&&Mt(i[1])&&Object.keys(i[1]).some(c=>r.includes(c))){var u;Object.assign(a,i[1]);const c=i[0];a.value=a.injected?((u=n.injectValue)===null||u===void 0?void 0:u.call(n,s))??c:c}return a.scope=a.scope||"test",a.scope==="worker"&&!n.getWorkerContext&&(a.scope="file"),a.prop=s,a.isFn=typeof a.value=="function",a});return Array.isArray(t.fixtures)?t.fixtures=t.fixtures.concat(o):t.fixtures=o,o.forEach(s=>{if(s.isFn){const a=Uu(s.value);if(a.length&&(s.deps=t.fixtures.filter(({prop:u})=>u!==s.prop&&a.includes(u))),s.scope!=="test"){var i;(i=s.deps)===null||i===void 0||i.forEach(u=>{if(u.isFn&&!(s.scope==="worker"&&u.scope==="worker")&&!(s.scope==="file"&&u.scope!=="test"))throw new SyntaxError(`cannot use the ${u.scope} fixture "${u.prop}" inside the ${s.scope} fixture "${s.prop}"`)})}}}),t}const Ir=new Map,At=new Map;function Ms(e,t,n){return r=>{const o=r||n;if(!o)return t({});const s=Up(o);if(!s?.length)return t(o);const i=Uu(t),a=s.some(({auto:d})=>d);if(!i.length&&!a)return t(o);Ir.get(o)||Ir.set(o,new Map);const u=Ir.get(o);At.has(o)||At.set(o,[]);const c=At.get(o),l=s.filter(({prop:d,auto:p})=>p||i.includes(d)),f=Wu(l);if(!f.length)return t(o);async function h(){for(const d of f){if(u.has(d))continue;const p=await Jp(e,d,o,c);o[d.prop]=p,u.set(d,p),d.scope==="test"&&c.unshift(()=>{u.delete(d)})}}return h().then(()=>t(o))}}const Cn=new WeakMap;function Jp(e,t,n,r){var o;const s=pm(n.task.file),i=(o=e.getWorkerContext)===null||o===void 0?void 0:o.call(e);if(!t.isFn){var a;if(s[a=t.prop]??(s[a]=t.value),i){var u;i[u=t.prop]??(i[u]=t.value)}return t.value}if(t.scope==="test")return oa(t.value,n,r);if(Cn.has(t))return Cn.get(t);let c;if(t.scope==="worker"){if(!i)throw new TypeError("[@vitest/runner] The worker context is not available in the current test runner. Please, provide the `getWorkerContext` method when initiating the runner.");c=i}else c=s;if(t.prop in c)return c[t.prop];At.has(c)||At.set(c,[]);const l=At.get(c),f=oa(t.value,c,l).then(h=>(c[t.prop]=h,Cn.delete(t),h));return Cn.set(t,f),f}async function oa(e,t,n){const r=li();let o=!1;const s=e(t,async i=>{o=!0,r.resolve(i);const a=li();n.push(async()=>{a.resolve(),await s}),await a}).catch(i=>{if(!o){r.reject(i);return}throw i});return r}function Wu(e,t=new Set,n=[]){return e.forEach(r=>{if(!n.includes(r)){if(!r.isFn||!r.deps){n.push(r);return}if(t.has(r))throw new Error(`Circular fixture dependency detected: ${r.prop} <- ${[...t].reverse().map(o=>o.prop).join(" <- ")}`);t.add(r),Wu(r.deps,t,n),n.push(r),t.clear()}}),n}function Uu(e){let t=Hp(e.toString());/__async\((?:this|null), (?:null|arguments|\[[_0-9, ]*\]), function\*/.test(t)&&(t=t.split(/__async\((?:this|null),/)[1]);const n=t.match(/[^(]*\(([^)]*)/);if(!n)return[];const r=sa(n[1]);if(!r.length)return[];let o=r[0];if("__VITEST_FIXTURE_INDEX__"in e&&(o=r[e.__VITEST_FIXTURE_INDEX__],!o))return[];if(!(o[0]==="{"&&o.endsWith("}")))throw new Error(`The first argument inside a fixture must use object destructuring pattern, e.g. ({ test } => {}). Instead, received "${o}".`);const s=o.slice(1,-1).replace(/\s/g,""),i=sa(s).map(u=>u.replace(/:.*|=.*/g,"")),a=i.at(-1);if(a&&a.startsWith("..."))throw new Error(`Rest parameters are not supported in fixtures, received "${a}".`);return i}function Hp(e){const t=[];let n="none";for(let r=0;r<e.length;++r)n==="singleline"?e[r]===`
`&&(n="none"):n==="multiline"?e[r-1]==="*"&&e[r]==="/"&&(n="none"):n==="none"&&(e[r]==="/"&&e[r+1]==="/"?n="singleline":e[r]==="/"&&e[r+1]==="*"?(n="multiline",r+=2):t.push(e[r]));return t.join("")}function sa(e){const t=[],n=[];let r=0;for(let s=0;s<e.length;s++)if(e[s]==="{"||e[s]==="[")n.push(e[s]==="{"?"}":"]");else if(e[s]===n.at(-1))n.pop();else if(!n.length&&e[s]===","){const i=e.substring(r,s).trim();i&&t.push(i),r=s+1}const o=e.substring(r).trim();return o&&t.push(o),t}function mn(){return Sn().config.hookTimeout}const Ku=Symbol.for("VITEST_CLEANUP_TIMEOUT"),Yu=Symbol.for("VITEST_CLEANUP_STACK_TRACE");function Xp(e,t=mn()){$e(e,'"beforeAll" callback',["function"]);const n=new Error("STACK_TRACE_ERROR");return wt().on("beforeAll",Object.assign(Tt(e,t,!0,n),{[Ku]:t,[Yu]:n}))}function Zp(e,t){return $e(e,'"afterAll" callback',["function"]),wt().on("afterAll",Tt(e,t??mn(),!0,new Error("STACK_TRACE_ERROR")))}function Qp(e,t=mn()){$e(e,'"beforeEach" callback',["function"]);const n=new Error("STACK_TRACE_ERROR"),r=Sn();return wt().on("beforeEach",Object.assign(Tt(Ms(r,e),t??mn(),!0,n,Cs),{[Ku]:t,[Yu]:n}))}function em(e,t){$e(e,'"afterEach" callback',["function"]);const n=Sn();return wt().on("afterEach",Tt(Ms(n,e),t??mn(),!0,new Error("STACK_TRACE_ERROR"),Cs))}const Wt=sm();As(function(e,t,n){wt().test.fn.call(this,ut(e),t,n)});let Je,Gu,tm;function Ju(e,t){if(!e)throw new Error(`Vitest failed to find ${t}. This is a bug in Vitest. Please, open an issue with reproduction.`)}function Sn(){return Ju(Je,"the runner"),Je}function wt(){const e=je.currentSuite||Gu;return Ju(e,"the current suite"),e}function nm(){return{beforeAll:[],afterAll:[],beforeEach:[],afterEach:[]}}function Ct(e,t){if(t!=null&&typeof t=="object")throw new TypeError('Signature "test(name, fn, { ... })" was deprecated in Vitest 3 and removed in Vitest 4. Please, provide options as a second argument instead.');let n={},r;if(typeof t=="number"?n={timeout:t}:typeof e=="object"&&(n=e),typeof e=="function"){if(typeof t=="function")throw new TypeError("Cannot use two functions as arguments. Please use the second argument for options.");r=e}else typeof t=="function"&&(r=t);return{options:n,handler:r}}function rm(e,t=()=>{},n,r,o,s){const i=[];let a;d();const u=function(w="",T={}){var x,A,_;const C=T?.timeout??Je.config.testTimeout,N=(x=je.currentSuite)===null||x===void 0?void 0:x.suite,O={id:"",name:w,fullName:An([N?.fullName??((A=je.currentSuite)===null||A===void 0||(A=A.file)===null||A===void 0?void 0:A.fullName),w]),fullTestName:An([N?.fullTestName,w]),suite:N,each:T.each,fails:T.fails,context:void 0,type:"test",file:N?.file??((_=je.currentSuite)===null||_===void 0?void 0:_.file),timeout:C,retry:T.retry??Je.config.retry,repeats:T.repeats,mode:T.only?"only":T.skip?"skip":T.todo?"todo":"run",meta:T.meta??Object.create(null),annotations:[],artifacts:[]},B=T.handler;O.mode==="run"&&!B&&(O.mode="todo"),(T.concurrent||!T.sequential&&Je.config.sequence.concurrent)&&(O.concurrent=!0),O.shuffle=o?.shuffle;const X=fm(O,Je);Object.defineProperty(O,"context",{value:X,enumerable:!1}),Wp(X,T.fixtures);const D=Error.stackTraceLimit;Error.stackTraceLimit=15;const Y=new Error("STACK_TRACE_ERROR");if(Error.stackTraceLimit=D,B&&zp(O,Tt(om(Ms(Je,B,X),O),C,!1,Y,(te,ce)=>Cs([X],ce))),Je.config.includeTaskLocation){const te=Y.stack,ce=Lu(tm,te);ce&&(O.location={line:ce.line,column:ce.column})}return i.push(O),O},c=As(function(w,T,x){let{options:A,handler:_}=Ct(T,x);typeof o=="object"&&(A=Object.assign({},o,A)),A.concurrent=this.concurrent||!this.sequential&&A?.concurrent,A.sequential=this.sequential||!this.concurrent&&A?.sequential;const C=u(ut(w),{...this,...A,handler:_});C.type="test"});let l=s;const f={type:"collector",name:e,mode:n,suite:a,options:o,test:c,tasks:i,collect:g,task:u,clear:p,on:h,fixtures(){return l},scoped(w){const T=zu(w,{fixtures:l},Je);T.fixtures&&(l=T.fixtures)}};function h(w,...T){Yp(a)[w].push(...T)}function d(w){var T,x,A;typeof o=="number"&&(o={timeout:o});const _=(T=je.currentSuite)===null||T===void 0?void 0:T.suite;a={id:"",type:"suite",name:e,fullName:An([_?.fullName??((x=je.currentSuite)===null||x===void 0||(x=x.file)===null||x===void 0?void 0:x.fullName),e]),fullTestName:An([_?.fullTestName,e]),suite:_,mode:n,each:r,file:_?.file??((A=je.currentSuite)===null||A===void 0?void 0:A.file),shuffle:o?.shuffle,tasks:[],meta:Object.create(null),concurrent:o?.concurrent},Kp(a,nm())}function p(){i.length=0,d()}async function g(w){if(!w)throw new TypeError("File is required to collect tasks.");t&&await um(f,()=>t(c));const T=[];for(const x of i)T.push(x.type==="collector"?await x.collect(w):x);return a.tasks=T,a}return cm(f),f}function om(e,t){return(async(...n)=>{const r=await e(...n);if(t.promises){const s=(await Promise.allSettled(t.promises)).map(i=>i.status==="rejected"?i.reason:void 0).filter(Boolean);if(s.length)throw s}return r})}function sm(){function e(t,n,r){var o;let s=this.only?"only":this.skip?"skip":this.todo?"todo":"run";const i=je.currentSuite||Gu;let{options:a,handler:u}=Ct(n,r);s==="run"&&!u&&(s="todo");const c=a.concurrent||this.concurrent||a.sequential===!1,l=a.sequential||this.sequential||a.concurrent===!1;a={...i?.options,...a,shuffle:this.shuffle??a.shuffle??(i==null||(o=i.options)===null||o===void 0?void 0:o.shuffle)??void 0};const f=c||a.concurrent&&!l,h=l||a.sequential&&!c;return a.concurrent=f&&!h,a.sequential=h&&!f,rm(ut(t),u,s,this.each,a,i?.fixtures())}return e.each=function(t,...n){const r=this.withContext();return this.setContext("each",!0),Array.isArray(t)&&n.length&&(t=Yn(t,n)),(o,s,i)=>{const a=ut(o),u=t.every(Array.isArray),{options:c,handler:l}=Ct(s,i),f=typeof s=="function";t.forEach((h,d)=>{const p=Array.isArray(h)?h:[h];f?u?r(He(a,p,d),l?()=>l(...p):void 0,c.timeout):r(He(a,p,d),l?()=>l(h):void 0,c.timeout):u?r(He(a,p,d),c,l?()=>l(...p):void 0):r(He(a,p,d),c,l?()=>l(h):void 0)}),this.setContext("each",void 0)}},e.for=function(t,...n){return Array.isArray(t)&&n.length&&(t=Yn(t,n)),(r,o,s)=>{const i=ut(r),{options:a,handler:u}=Ct(o,s);t.forEach((c,l)=>{Wt(He(i,dc(c),l),a,u?()=>u(c):void 0)})}},e.skipIf=t=>t?Wt.skip:Wt,e.runIf=t=>t?Wt:Wt.skip,Bu(["concurrent","sequential","shuffle","skip","only","todo"],e)}function im(e,t){const n=e;n.each=function(o,...s){const i=this.withContext();return this.setContext("each",!0),Array.isArray(o)&&s.length&&(o=Yn(o,s)),(a,u,c)=>{const l=ut(a),f=o.every(Array.isArray),{options:h,handler:d}=Ct(u,c),p=typeof u=="function";o.forEach((g,w)=>{const T=Array.isArray(g)?g:[g];p?f?i(He(l,T,w),d?()=>d(...T):void 0,h.timeout):i(He(l,T,w),d?()=>d(g):void 0,h.timeout):f?i(He(l,T,w),h,d?()=>d(...T):void 0):i(He(l,T,w),h,d?()=>d(g):void 0)}),this.setContext("each",void 0)}},n.for=function(o,...s){const i=this.withContext();return Array.isArray(o)&&s.length&&(o=Yn(o,s)),(a,u,c)=>{const l=ut(a),{options:f,handler:h}=Ct(u,c);o.forEach((d,p)=>{const g=h?w=>h(d,w):void 0;g&&(g.__VITEST_FIXTURE_INDEX__=1,g.toString=()=>h.toString()),i(He(l,dc(d),p),f,g)})}},n.skipIf=function(o){return o?this.skip:this},n.runIf=function(o){return o?this:this.skip},n.scoped=function(o){wt().scoped(o)},n.extend=function(o){const s=zu(o,t||{},Je),i=e;return As(function(a,u,c){const f=wt().fixtures(),h={...this};f&&(h.fixtures=Gp(h.fixtures||[],f)),i.call(h,ut(a),u,c)},s)},n.beforeEach=Qp,n.afterEach=em,n.beforeAll=Xp,n.afterAll=Zp;const r=Bu(["concurrent","sequential","skip","only","todo","fails"],n);return t&&r.mergeContext(t),r}function As(e,t){return im(e,t)}function ut(e){return typeof e=="string"?e:typeof e=="function"?e.name||"<anonymous>":String(e)}function He(e,t,n){(e.includes("%#")||e.includes("%$"))&&(e=e.replace(/%%/g,"__vitest_escaped_%__").replace(/%#/g,`${n}`).replace(/%\$/g,`${n+1}`).replace(/__vitest_escaped_%__/g,"%%"));const r=e.split("%").length-1;e.includes("%f")&&(e.match(/%f/g)||[]).forEach((c,l)=>{if(yh(t[l])||Object.is(t[l],-0)){let f=0;e=e.replace(/%f/g,h=>(f++,f===l+1?"-%f":h))}});const o=Mt(t[0]);function s(u){return u.replace(/\$([$\w.]+)/g,(c,l)=>{const f=/^\d+$/.test(l);if(!o&&!f)return`$${l}`;const h=f?ui(t,l):void 0,d=o?ui(t[0],l,h):h;return hh(d,{truncate:void 0})})}let i="",a=0;return am(e,fc,u=>{a<r?i+=fh(u[0],t[a++]):i+=u[0]},u=>{i+=s(u)}),i}function am(e,t,n,r){let o=0;for(const s of e.matchAll(t))o<s.index&&r(e.slice(o,s.index)),n(s),o=s.index+s[0].length;o<e.length&&r(e.slice(o))}function Yn(e,t){const n=e.join("").trim().replace(/ /g,"").split(`
`).map(o=>o.split("|"))[0],r=[];for(let o=0;o<Math.floor(t.length/n.length);o++){const s={};for(let i=0;i<n.length;i++)s[n[i]]=t[o*n.length+i];r.push(s)}return r}const ia=Date.now,je={currentSuite:null};function cm(e){var t;(t=je.currentSuite)===null||t===void 0||t.tasks.push(e)}async function um(e,t){const n=je.currentSuite;je.currentSuite=e,await t(),je.currentSuite=n}function Tt(e,t,n=!1,r,o){if(t<=0||t===Number.POSITIVE_INFINITY)return e;const{setTimeout:s,clearTimeout:i}=Bt();return(function(...u){const c=ia(),l=Sn();return l._currentTaskStartTime=c,l._currentTaskTimeout=t,new Promise((f,h)=>{var d;const p=s(()=>{i(p),g()},t);(d=p.unref)===null||d===void 0||d.call(p);function g(){const x=hm(n,t,r);o?.(u,x),h(x)}function w(x){if(l._currentTaskStartTime=void 0,l._currentTaskTimeout=void 0,i(p),ia()-c>=t){g();return}f(x)}function T(x){l._currentTaskStartTime=void 0,l._currentTaskTimeout=void 0,i(p),h(x)}try{const x=e(...u);typeof x=="object"&&x!=null&&typeof x.then=="function"?x.then(w,T):w(x)}catch(x){T(x)}})})}const xo=new WeakMap;function Cs([e],t){e&&lm(e,t)}function lm(e,t){const n=xo.get(e);n?.abort(t)}function fm(e,t){var n;const r=function(){throw new Error("done() callback is deprecated, use promise instead")};let o=xo.get(r);return o||(o=new AbortController,xo.set(r,o)),r.signal=o.signal,r.task=e,r.skip=(s,i)=>{if(s!==!1)throw e.result??(e.result={state:"skip"}),e.result.pending=!0,new qp("test is skipped; abort execution",e,typeof s=="string"?s:i)},r.annotate=((s,i,a)=>{if(e.result&&e.result.state!=="run")throw new Error(`Cannot annotate tests outside of the test run. The test "${e.name}" finished running with the "${e.result.state}" state already.`);const u={message:s,type:typeof i=="object"||i===void 0?"notice":i},c=typeof i=="object"?i:a;return c&&(u.attachment=c,Xu(u.attachment)),bm(e,gm(e,{type:"internal:annotation",annotation:u}).then(async({annotation:l})=>{if(!t.onTestAnnotate)throw new Error("Test runner doesn't support test annotations.");await Hu(t);const f=await t.onTestAnnotate(e,l);return e.annotations.push(f),f}))}),r.onTestFailed=(s,i)=>{e.onFailed||(e.onFailed=[]),e.onFailed.push(Tt(s,i??t.config.hookTimeout,!0,new Error("STACK_TRACE_ERROR"),(a,u)=>o.abort(u)))},r.onTestFinished=(s,i)=>{e.onFinished||(e.onFinished=[]),e.onFinished.push(Tt(s,i??t.config.hookTimeout,!0,new Error("STACK_TRACE_ERROR"),(a,u)=>o.abort(u)))},((n=t.extendTaskContext)===null||n===void 0?void 0:n.call(t,r))||r}function hm(e,t,n){const r=`${e?"Hook":"Test"} timed out in ${t}ms.
If this is a long-running ${e?"hook":"test"}, pass a timeout value as the last argument or configure it globally with "${e?"hookTimeout":"testTimeout"}".`,o=new Error(r);return n?.stack&&(o.stack=n.stack.replace(o.message,n.message)),o}const dm=new WeakMap;function pm(e){const t=dm.get(e);if(!t)throw new Error(`Cannot find file context for ${e.name}`);return t}globalThis.performance?globalThis.performance.now.bind(globalThis.performance):Date.now;globalThis.performance?globalThis.performance.now.bind(globalThis.performance):Date.now;Bt();const kr=new Map,aa=[],jn=[];function mm(e){if(kr.size){var t;const n=Array.from(kr).map(([o,s])=>[o,s[0],s[1]]),r=(t=e.onTaskUpdate)===null||t===void 0?void 0:t.call(e,n,aa);r&&(jn.push(r),r.then(()=>jn.splice(jn.indexOf(r),1),()=>{})),aa.length=0,kr.clear()}}async function Hu(e){mm(e),await Promise.all(jn)}async function gm(e,t){const n=Sn();if(e.result&&e.result.state!=="run")throw new Error(`Cannot record a test artifact outside of the test run. The test "${e.name}" finished running with the "${e.result.state}" state already.`);const r=Lu(e.file.filepath,new Error("STACK_TRACE").stack);if(r&&(t.location={file:r.file,line:r.line,column:r.column},t.type==="internal:annotation"&&(t.annotation.location=t.location)),Array.isArray(t.attachments))for(const s of t.attachments)Xu(s);if(t.type==="internal:annotation")return t;if(!n.onTestArtifactRecord)throw new Error("Test runner doesn't support test artifacts.");await Hu(n);const o=await n.onTestArtifactRecord(e,t);return e.artifacts.push(o),o}const Ce=[];for(let e=65;e<91;e++)Ce.push(String.fromCharCode(e));for(let e=97;e<123;e++)Ce.push(String.fromCharCode(e));for(let e=0;e<10;e++)Ce.push(e.toString(10));Ce.push("+","/");function ym(e){let t="";const n=e.byteLength;for(let r=0;r<n;r+=3)if(n===r+1){const o=(e[r]&252)>>2,s=(e[r]&3)<<4;t+=Ce[o],t+=Ce[s],t+="=="}else if(n===r+2){const o=(e[r]&252)>>2,s=(e[r]&3)<<4|(e[r+1]&240)>>4,i=(e[r+1]&15)<<2;t+=Ce[o],t+=Ce[s],t+=Ce[i],t+="="}else{const o=(e[r]&252)>>2,s=(e[r]&3)<<4|(e[r+1]&240)>>4,i=(e[r+1]&15)<<2|(e[r+2]&192)>>6,a=e[r+2]&63;t+=Ce[o],t+=Ce[s],t+=Ce[i],t+=Ce[a]}return t}function bm(e,t){return t=t.finally(()=>{if(!e.promises)return;const n=e.promises.indexOf(t);n!==-1&&e.promises.splice(n,1)}),e.promises||(e.promises=[]),e.promises.push(t),t}function Xu(e){if(e.body==null&&!e.path)throw new TypeError('Test attachment requires "body" or "path" to be set. Both are missing.');if(e.body&&e.path)throw new TypeError('Test attachment requires only one of "body" or "path" to be set. Both are specified.');e.body instanceof Uint8Array&&(e.body=ym(e.body))}const wm="__vitest_worker__";function pr(){const e=globalThis[wm];if(!e)throw new Error(`Vitest failed to access its internal state.

One of the following is possible:
- "vitest" is imported directly without running "vitest" command
- "vitest" is imported inside "globalSetup" (to fix this, use "setupFiles" instead, because "globalSetup" runs in a different context)
- "vitest" is imported inside Vite / Vitest config file
- Otherwise, it might be a Vitest bug. Please report it to https://github.com/vitest-dev/vitest/issues
`);return e}function Zu(){return typeof process<"u"&&!!process.send}function Tm(e,t=!1){const n=[/\/vitest\/dist\//,/vitest-virtual-\w+\/dist/,/@vitest\/dist/,...t?[]:[/^mock:/]];e.idToModuleMap.forEach((r,o)=>{n.some(s=>s.test(o))||(r.promise=void 0,r.exports=void 0,r.evaluated=!1,r.importers.clear())})}function vm(){const{setTimeout:e}=Bt();return new Promise(t=>e(t,0))}async function Qu(){await vm();const e=pr(),t=[],n=e.resolvingModules.size;for(const[r,o]of e.evaluatedModules.idToModuleMap)o.promise&&!o.evaluated&&t.push(o.promise);!t.length&&!n||(await Promise.allSettled(t),await Qu())}var Em=44,ca="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Sm=new Uint8Array(64),el=new Uint8Array(128);for(let e=0;e<ca.length;e++){const t=ca.charCodeAt(e);Sm[e]=t,el[t]=e}function Ut(e,t){let n=0,r=0,o=0;do{const i=e.next();o=el[i],n|=(o&31)<<r,r+=5}while(o&32);const s=n&1;return n>>>=1,s&&(n=-2147483648|-n),t+n}function ua(e,t){return e.pos>=t?!1:e.peek()!==Em}var xm=class{constructor(e){this.pos=0,this.buffer=e}next(){return this.buffer.charCodeAt(this.pos++)}peek(){return this.buffer.charCodeAt(this.pos)}indexOf(e){const{buffer:t,pos:n}=this,r=t.indexOf(e,n);return r===-1?t.length:r}};function $m(e){const{length:t}=e,n=new xm(e),r=[];let o=0,s=0,i=0,a=0,u=0;do{const c=n.indexOf(";"),l=[];let f=!0,h=0;for(o=0;n.pos<c;){let d;o=Ut(n,o),o<h&&(f=!1),h=o,ua(n,c)?(s=Ut(n,s),i=Ut(n,i),a=Ut(n,a),ua(n,c)?(u=Ut(n,u),d=[o,s,i,a,u]):d=[o,s,i,a]):d=[o],l.push(d),n.pos++}f||_m(l),r.push(l),n.pos=c+1}while(n.pos<=t);return r}function _m(e){e.sort(Om)}function Om(e,t){return e[0]-t[0]}var mr=0,Mm=1,Am=2,Cm=3,Nm=4,Gn=!1;function Im(e,t,n,r){for(;n<=r;){const o=n+(r-n>>1),s=e[o][mr]-t;if(s===0)return Gn=!0,o;s<0?n=o+1:r=o-1}return Gn=!1,n-1}function km(e,t,n){for(let r=n+1;r<e.length&&e[r][mr]===t;n=r++);return n}function Pm(e,t,n){for(let r=n-1;r>=0&&e[r][mr]===t;n=r--);return n}function jm(e,t,n,r){const{lastKey:o,lastNeedle:s,lastIndex:i}=n;let a=0,u=e.length-1;if(r===o){if(t===s)return Gn=i!==-1&&e[i][mr]===t,i;t>=s?a=i===-1?0:i:u=i}return n.lastKey=r,n.lastNeedle=t,n.lastIndex=Im(e,t,a,u)}var Rm="`line` must be greater than 0 (lines start at line 1)",Dm="`column` must be greater than or equal to 0 (columns start at column 0)",la=-1,Fm=1;function Bm(e){var t;return(t=e)._decoded||(t._decoded=$m(e._encoded))}function Lm(e,t){let{line:n,column:r,bias:o}=t;if(n--,n<0)throw new Error(Rm);if(r<0)throw new Error(Dm);const s=Bm(e);if(n>=s.length)return Nn(null,null,null,null);const i=s[n],a=qm(i,e._decodedMemo,n,r,o||Fm);if(a===-1)return Nn(null,null,null,null);const u=i[a];if(u.length===1)return Nn(null,null,null,null);const{names:c,resolvedSources:l}=e;return Nn(l[u[Mm]],u[Am]+1,u[Cm],u.length===5?c[u[Nm]]:null)}function Nn(e,t,n,r){return{source:e,line:t,column:n,name:r}}function qm(e,t,n,r,o){let s=jm(e,r,t,n);return Gn?s=(o===la?km:Pm)(e,r,s):o===la&&s++,s===-1||s===e.length?-1:s}function tl(e){return e!=null}function Vm(e){return e===null||typeof e!="function"&&typeof e!="object"}function Rn(e){return e!=null&&typeof e=="object"&&!Array.isArray(e)}function zm(e){let t=-1,n=null,r=0,o=0,s=null;for(;t<=e.length;){s=e[t],t++;const i=e[t];if((i==='"'||i==="'"||i==="`")&&s!=="\\"&&(n===i?n=null:n||(n=i)),n||(i==="("&&r++,i===")"&&o++),r&&o&&r===o)return t}return null}const nl=/^\s*at .*(?:\S:\d+|\(native\))/m,Wm=/^(?:eval@)?(?:\[native code\])?$/,Um=["node:internal",/\/packages\/\w+\/dist\//,/\/@vitest\/\w+\/dist\//,"/vitest/dist/","/vitest/src/","/node_modules/chai/","/node_modules/tinyspy/","/vite/dist/node/module-runner","/rolldown-vite/dist/node/module-runner","/deps/chunk-","/deps/@vitest","/deps/loupe","/deps/chai","/browser-playwright/dist/locators.js","/browser-webdriverio/dist/locators.js","/browser-preview/dist/locators.js",/node:\w+/,/__vitest_test__/,/__vitest_browser__/,/\/deps\/vitest_/];function rl(e){if(!e.includes(":"))return[e];const n=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(e.replace(/^\(|\)$/g,""));if(!n)return[e];let r=n[1];if(r.startsWith("async ")&&(r=r.slice(6)),r.startsWith("http:")||r.startsWith("https:")){const o=new URL(r);o.searchParams.delete("import"),o.searchParams.delete("browserv"),r=o.pathname+o.hash+o.search}if(r.startsWith("/@fs/")){const o=/^\/@fs\/[a-zA-Z]:\//.test(r);r=r.slice(o?5:4)}return[r,n[2]||void 0,n[3]||void 0]}function Km(e){let t=e.trim();if(Wm.test(t)||(t.includes(" > eval")&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),!t.includes("@")))return null;let n=-1,r="",o;for(let u=0;u<t.length;u++)if(t[u]==="@"){const c=t.slice(u+1);if(c.includes(":")&&c.length>=3){n=u,r=c,o=u>0?t.slice(0,u):void 0;break}}if(n===-1||!r.includes(":")||r.length<3)return null;const[s,i,a]=rl(r);return!s||!i||!a?null:{file:s,method:o||"",line:Number.parseInt(i),column:Number.parseInt(a)}}function Ym(e){let t=e.trim();if(!nl.test(t))return null;t.includes("(eval ")&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(,.*$)/g,""));let n=t.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/^.*?\s+/,"");const r=n.match(/ (\(.+\)$)/);n=r?n.replace(r[0],""):n;const[o,s,i]=rl(r?r[1]:n);let a=r&&n||"",u=o&&["eval","<anonymous>"].includes(o)?void 0:o;return!u||!s||!i?null:(a.startsWith("async ")&&(a=a.slice(6)),u.startsWith("file://")&&(u=u.slice(7)),u=u.startsWith("node:")||u.startsWith("internal:")?u:Fu(u),a&&(a=a.replace(/__vite_ssr_import_\d+__\./g,"").replace(/(Object\.)?__vite_ssr_export_default__\s?/g,"")),{method:a,file:u,line:Number.parseInt(s),column:Number.parseInt(i)})}function Pr(e,t={}){const{ignoreStackEntries:n=Um}=t;return(nl.test(e)?Jm(e):Gm(e)).map(o=>{var s;t.getUrlId&&(o.file=t.getUrlId(o.file));const i=(s=t.getSourceMap)===null||s===void 0?void 0:s.call(t,o.file);if(!i||typeof i!="object"||!i.version)return fa(n,o.file)?null:o;const a=new Xm(i,o.file),u=Qm(a,o);if(!u)return o;const{line:c,column:l,source:f,name:h}=u;let d=f||o.file;return d.match(/\/\w:\//)&&(d=d.slice(1)),fa(n,d)?null:c!=null&&l!=null?{line:c,column:l,file:d,method:h||o.method}:o}).filter(o=>o!=null)}function fa(e,t){return e.some(n=>t.match(n))}function Gm(e){return e.split(`
`).map(t=>Km(t)).filter(tl)}function Jm(e){return e.split(`
`).map(t=>Ym(t)).filter(tl)}function Hm(e,t={}){if(!e||Vm(e))return[];if("stacks"in e&&e.stacks)return e.stacks;const n=e.stack||"";let r=typeof n=="string"?Pr(n,t):[];if(!r.length){const o=e;o.fileName!=null&&o.lineNumber!=null&&o.columnNumber!=null&&(r=Pr(`${o.fileName}:${o.lineNumber}:${o.columnNumber}`,t)),o.sourceURL!=null&&o.line!=null&&o._column!=null&&(r=Pr(`${o.sourceURL}:${o.line}:${o.column}`,t))}return t.frameFilter&&(r=r.filter(o=>t.frameFilter(e,o)!==!1)),e.stacks=r,r}class Xm{_encoded;_decoded;_decodedMemo;url;version;names=[];resolvedSources;constructor(t,n){this.map=t;const{mappings:r,names:o,sources:s}=t;this.version=t.version,this.names=o||[],this._encoded=r||"",this._decodedMemo=Zm(),this.url=n,this.resolvedSources=(s||[]).map(i=>Fu(i||"",n))}}function Zm(){return{lastKey:-1,lastNeedle:-1,lastIndex:-1}}function Qm(e,t){const n=Lm(e,t);return n.column==null?null:n}const Ns=/\r?\n/;function eg(e,t,n){const r=e.split(Ns),o=/\r\n/.test(e)?2:1;let s=0;if(t>r.length)return e.length;for(let i=0;i<t-1;i++)s+=r[i].length+o;return s+n}function tg(e,t){if(t>e.length)throw new Error(`offset is longer than source length! offset ${t} > length ${e.length}`);const n=e.split(Ns),r=/\r\n/.test(e)?2:1;let o=0,s=0;for(;s<n.length;s++){const i=n[s].length+r;if(o+i>=t)break;o+=i}return s+1}async function ng(e,t){const n=(await ll(async()=>{const{default:o}=await import("./magic-string.es-DjU5CGuV.js");return{default:o}},[],import.meta.url)).default,r=new Set(t.map(o=>o.file));await Promise.all(Array.from(r).map(async o=>{const s=t.filter(c=>c.file===o),i=await e.readSnapshotFile(o),a=new n(i);for(const c of s){const l=eg(i,c.line,c.column);cg(i,a,l,c.snapshot)}const u=a.toString();u!==i&&await e.saveSnapshotFile(o,u)}))}const rg=/(?:toMatchInlineSnapshot|toThrowErrorMatchingInlineSnapshot)\s*\(\s*(?:\/\*[\s\S]*\*\/\s*|\/\/.*(?:[\n\r\u2028\u2029]\s*|[\t\v\f \xA0\u1680\u2000-\u200A\u202F\u205F\u3000\uFEFF]))*\{/;function og(e,t,n,r){let o=e.slice(n);const s=rg.exec(o);if(!s)return!1;o=o.slice(s.index);let i=zm(o);if(i===null)return!1;i+=n+s.index;const a=n+s.index+s[0].length,u=sg(e,a),c=`, ${ol(r,e,n)}`;return u===i?t.appendLeft(i,c):t.overwrite(u,i,c),!0}function sg(e,t){let n=1,r=0;for(;n!==r&&t<e.length;){const o=e[t++];o==="{"?n++:o==="}"&&r++}return t}function ol(e,t,n){const r=tg(t,n),s=t.split(Ns)[r-1].match(/^\s*/)[0]||"",i=s.includes("	")?`${s}	`:`${s}  `,a=e.trim().replace(/\\/g,"\\\\").split(/\n/g),u=a.length<=1,c="`";return u?`${c}${a.join(`
`).replace(/`/g,"\\`").replace(/\$\{/g,"\\${")}${c}`:`${c}
${a.map(l=>l?i+l:"").join(`
`).replace(/`/g,"\\`").replace(/\$\{/g,"\\${")}
${s}${c}`}const ha="toMatchInlineSnapshot",da="toThrowErrorMatchingInlineSnapshot";function ig(e,t){const n=t-ha.length;if(e.slice(n,t)===ha)return{code:e.slice(n),index:n};const r=t-da.length;return e.slice(t-r,t)===da?{code:e.slice(t-r),index:t-r}:{code:e.slice(t),index:t}}const ag=/(?:toMatchInlineSnapshot|toThrowErrorMatchingInlineSnapshot)\s*\(\s*(?:\/\*[\s\S]*\*\/\s*|\/\/.*(?:[\n\r\u2028\u2029]\s*|[\t\v\f \xA0\u1680\u2000-\u200A\u202F\u205F\u3000\uFEFF]))*[\w$]*(['"`)])/;function cg(e,t,n,r){const{code:o,index:s}=ig(e,n),i=ag.exec(o),a=/toMatchInlineSnapshot|toThrowErrorMatchingInlineSnapshot/.exec(o);if(!i||i.index!==a?.index)return og(e,t,s,r);const u=i[1],c=s+i.index+i[0].length,l=ol(r,e,s);if(u===")")return t.appendRight(c-1,l),!0;const h=new RegExp(`(?:^|[^\\\\])${u}`).exec(e.slice(c));if(!h)return!1;const d=c+h.index+h[0].length;return t.overwrite(c-1,d,l),!0}const ug=/^([^\S\n]*)\S/m;function pa(e){var t;const n=e.match(ug);if(!n||!n[1])return e;const r=n[1],o=e.split(/\n/g);if(o.length<=2||o[0].trim()!==""||((t=o.at(-1))===null||t===void 0?void 0:t.trim())!=="")return e;for(let s=1;s<o.length-1;s++)if(o[s]!==""){if(o[s].indexOf(r)!==0)return e;o[s]=o[s].substring(r.length)}return o[o.length-1]="",e=o.join(`
`),e}async function lg(e,t){await Promise.all(t.map(async n=>{n.readonly||await e.saveSnapshotFile(n.file,n.snapshot)}))}function fg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var jr={exports:{}},ma;function hg(){if(ma)return jr.exports;ma=1;var e=function(t,n){var r,o,s=1,i=0,a=0,u=String.alphabet;function c(l,f,h){if(h){for(r=f;h=c(l,r),h<76&&h>65;)++r;return+l.slice(f-1,r)}return h=u&&u.indexOf(l.charAt(f)),h>-1?h+76:(h=l.charCodeAt(f)||0,h<45||h>127?h:h<46?65:h<48?h-1:h<58?h+18:h<65?h-11:h<91?h+11:h<97?h-37:h<123?h+5:h-63)}if((t+="")!=(n+="")){for(;s;)if(o=c(t,i++),s=c(n,a++),o<76&&s<76&&o>66&&s>66&&(o=c(t,i,i),s=c(n,a,i=r),a=r),o!=s)return o<s?-1:1}return 0};try{jr.exports=e}catch{String.naturalCompare=e}return jr.exports}var dg=hg(),pg=fg(dg);const mg=(e,t,n,r,o,s)=>{const i=e.getMockName(),a=i==="vi.fn()"?"":` ${i}`;let u="";if(e.mock.calls.length!==0){const c=n+t.indent;u=` {${t.spacingOuter}${c}"calls": ${s(e.mock.calls,t,c,r,o)}${t.min?", ":","}${t.spacingOuter}${c}"results": ${s(e.mock.results,t,c,r,o)}${t.min?"":","}${t.spacingOuter}${n}}`}return`[MockFunction${a}]${u}`},gg=e=>e&&!!e._isMockFunction,yg={serialize:mg,test:gg},{DOMCollection:bg,DOMElement:wg,Immutable:Tg,ReactElement:vg,ReactTestComponent:Eg,AsymmetricMatcher:Sg}=Zn;let $o=[Eg,vg,wg,bg,Tg,Sg,yg];function xg(e){$o=[e].concat($o)}function $g(){return $o}function _g(e,t){return`${e} ${t}`}function Og(e){if(!/ \d+$/.test(e))throw new Error("Snapshot keys must end with a number.");return e.replace(/ \d+$/,"")}function Mg(e,t){const n=t.updateSnapshot,r=Object.create(null);let o="",s=!1;if(e!=null)try{o=e,new Function("exports",o)(r)}catch{}return(n==="all"||n==="new")&&o&&(s=!0),{data:r,dirty:s}}function Ag(e){return e.includes(`
`)?`
${e}
`:e}function ga(e){return e.length>2&&e[0]===`
`&&e.endsWith(`
`)?e.slice(1,-1):e}const Cg=!0,Ng=!1;function Ig(e,t=2,n={}){return Is(ze(e,{escapeRegex:Cg,indent:t,plugins:$g(),printFunctionName:Ng,...n}))}function kg(e){return e.replace(/`|\\|\$\{/g,"\\$&")}function ya(e){return`\`${kg(e)}\``}function Is(e){return e.replace(/\r\n|\r/g,`
`)}async function Pg(e,t,n){const r=Object.keys(t).sort(pg).map(a=>`exports[${ya(a)}] = ${ya(Is(t[a]))};`),o=`${e.getHeader()}

${r.join(`

`)}
`,s=await e.readSnapshotFile(n);s!=null&&s===o||await e.saveSnapshotFile(n,o)}function _o(e=[],t=[]){const n=Array.from(e);return t.forEach((r,o)=>{const s=n[o];Array.isArray(e[o])?n[o]=_o(e[o],r):Rn(s)?n[o]=ks(e[o],r):n[o]=r}),n}function ks(e,t){if(Rn(e)&&Rn(t)){const n={...e};return Object.keys(t).forEach(r=>{Rn(t[r])&&!t[r].$$typeof?r in e?n[r]=ks(e[r],t[r]):Object.assign(n,{[r]:t[r]}):Array.isArray(t[r])?n[r]=_o(e[r],t[r]):Object.assign(n,{[r]:t[r]})}),n}else if(Array.isArray(e)&&Array.isArray(t))return _o(e,t);return e}class sl extends Map{constructor(t,n){super(n),this.defaultFn=t}get(t){return this.has(t)||this.set(t,this.defaultFn(t)),super.get(t)}}class Kt extends sl{constructor(){super(()=>0)}_total;valueOf(){return this._total=this.total()}increment(t){typeof this._total<"u"&&this._total++,this.set(t,this.get(t)+1)}total(){if(typeof this._total<"u")return this._total;let t=0;for(const n of this.values())t+=n;return t}}function ba(e,t){return e.file===t.file&&e.column===t.column&&e.line===t.line}class Ps{_counters=new Kt;_dirty;_updateSnapshot;_snapshotData;_initialData;_inlineSnapshots;_inlineSnapshotStacks;_testIdToKeys=new sl(()=>[]);_rawSnapshots;_uncheckedKeys;_snapshotFormat;_environment;_fileExists;expand;_added=new Kt;_matched=new Kt;_unmatched=new Kt;_updated=new Kt;get added(){return this._added}set added(t){this._added._total=t}get matched(){return this._matched}set matched(t){this._matched._total=t}get unmatched(){return this._unmatched}set unmatched(t){this._unmatched._total=t}get updated(){return this._updated}set updated(t){this._updated._total=t}constructor(t,n,r,o){this.testFilePath=t,this.snapshotPath=n;const{data:s,dirty:i}=Mg(r,o);this._fileExists=r!=null,this._initialData={...s},this._snapshotData={...s},this._dirty=i,this._inlineSnapshots=[],this._inlineSnapshotStacks=[],this._rawSnapshots=[],this._uncheckedKeys=new Set(Object.keys(this._snapshotData)),this.expand=o.expand||!1,this._updateSnapshot=o.updateSnapshot,this._snapshotFormat={printBasicPrototype:!1,escapeString:!1,...o.snapshotFormat},this._environment=o.snapshotEnvironment}static async create(t,n){const r=await n.snapshotEnvironment.resolvePath(t),o=await n.snapshotEnvironment.readSnapshotFile(r);return new Ps(t,r,o,n)}get environment(){return this._environment}markSnapshotsAsCheckedForTest(t){this._uncheckedKeys.forEach(n=>{/ \d+$| > /.test(n.slice(t.length))&&this._uncheckedKeys.delete(n)})}clearTest(t){this._inlineSnapshots=this._inlineSnapshots.filter(n=>n.testId!==t),this._inlineSnapshotStacks=this._inlineSnapshotStacks.filter(n=>n.testId!==t);for(const n of this._testIdToKeys.get(t)){const r=Og(n),o=this._counters.get(r);o>0&&((n in this._snapshotData||n in this._initialData)&&(this._snapshotData[n]=this._initialData[n]),this._counters.set(r,o-1))}this._testIdToKeys.delete(t),this.added.delete(t),this.updated.delete(t),this.matched.delete(t),this.unmatched.delete(t)}_inferInlineSnapshotStack(t){const n=t.findIndex(o=>o.method.match(/__VITEST_(RESOLVES|REJECTS)__/));if(n!==-1)return t[n+3];const r=t.findIndex(o=>o.method.includes("__INLINE_SNAPSHOT__"));return r!==-1?t[r+2]:null}_addSnapshot(t,n,r){this._dirty=!0,r.stack?this._inlineSnapshots.push({snapshot:n,testId:r.testId,...r.stack}):r.rawSnapshot?this._rawSnapshots.push({...r.rawSnapshot,snapshot:n}):this._snapshotData[t]=n}async save(){const t=Object.keys(this._snapshotData).length,n=this._inlineSnapshots.length,r=this._rawSnapshots.length,o=!t&&!n&&!r,s={deleted:!1,saved:!1};return(this._dirty||this._uncheckedKeys.size)&&!o?(t&&(await Pg(this._environment,this._snapshotData,this.snapshotPath),this._fileExists=!0),n&&await ng(this._environment,this._inlineSnapshots),r&&await lg(this._environment,this._rawSnapshots),s.saved=!0):!t&&this._fileExists&&(this._updateSnapshot==="all"&&(await this._environment.removeSnapshotFile(this.snapshotPath),this._fileExists=!1),s.deleted=!0),s}getUncheckedCount(){return this._uncheckedKeys.size||0}getUncheckedKeys(){return Array.from(this._uncheckedKeys)}removeUncheckedKeys(){this._updateSnapshot==="all"&&this._uncheckedKeys.size&&(this._dirty=!0,this._uncheckedKeys.forEach(t=>delete this._snapshotData[t]),this._uncheckedKeys.clear())}match({testId:t,testName:n,received:r,key:o,inlineSnapshot:s,isInline:i,error:a,rawSnapshot:u}){this._counters.increment(n);const c=this._counters.get(n);o||(o=_g(n,c)),this._testIdToKeys.get(t).push(o),i&&this._snapshotData[o]!==void 0||this._uncheckedKeys.delete(o);let l=u&&typeof r=="string"?r:Ig(r,void 0,this._snapshotFormat);u||(l=Ag(l)),u&&u.content&&u.content.match(/\r\n/)&&!l.match(/\r\n/)&&(u.content=Is(u.content));const f=i?s:u?u.content:this._snapshotData[o],h=u?f:f?.trim(),d=h===(u?l:l.trim()),p=f!==void 0,g=i||this._fileExists||u&&u.content!=null;d&&!i&&!u&&(this._snapshotData[o]=l);let w;if(i){var T,x;const A=Hm(a||new Error("snapshot"),{ignoreStackEntries:[]}),_=this._inferInlineSnapshotStack(A);if(!_)throw new Error(`@vitest/snapshot: Couldn't infer stack frame for inline snapshot.
${JSON.stringify(A)}`);w=((T=(x=this.environment).processStackTrace)===null||T===void 0?void 0:T.call(x,_))||_,w.column--;const C=this._inlineSnapshotStacks.filter(N=>ba(N,w));if(C.length>0){this._inlineSnapshots=this._inlineSnapshots.filter(O=>!ba(O,w));const N=C.find(O=>O.snapshot!==l);if(N)throw Object.assign(new Error("toMatchInlineSnapshot with different snapshots cannot be called at the same location"),{actual:l,expected:N.snapshot})}this._inlineSnapshotStacks.push({...w,testId:t,snapshot:l})}return p&&this._updateSnapshot==="all"||(!p||!g)&&(this._updateSnapshot==="new"||this._updateSnapshot==="all")?(this._updateSnapshot==="all"?d?this.matched.increment(t):(p?this.updated.increment(t):this.added.increment(t),this._addSnapshot(o,l,{stack:w,testId:t,rawSnapshot:u})):(this._addSnapshot(o,l,{stack:w,testId:t,rawSnapshot:u}),this.added.increment(t)),{actual:"",count:c,expected:"",key:o,pass:!0}):d?(this.matched.increment(t),{actual:"",count:c,expected:"",key:o,pass:!0}):(this.unmatched.increment(t),{actual:u?l:ga(l),count:c,expected:h!==void 0?u?h:ga(h):void 0,key:o,pass:!1})}async pack(){const t={filepath:this.testFilePath,added:0,fileDeleted:!1,matched:0,unchecked:0,uncheckedKeys:[],unmatched:0,updated:0},n=this.getUncheckedCount(),r=this.getUncheckedKeys();n&&this.removeUncheckedKeys();const o=await this.save();return t.fileDeleted=o.deleted,t.added=this.added.total(),t.matched=this.matched.total(),t.unmatched=this.unmatched.total(),t.updated=this.updated.total(),t.unchecked=o.deleted?0:n,t.uncheckedKeys=Array.from(r),t}}function wa(e,t,n,r){const o=new Error(e);return Object.defineProperty(o,"actual",{value:n,enumerable:!0,configurable:!0,writable:!0}),Object.defineProperty(o,"expected",{value:r,enumerable:!0,configurable:!0,writable:!0}),Object.defineProperty(o,"diffOptions",{value:{expand:t}}),o}class jg{snapshotStateMap=new Map;constructor(t={}){this.options=t}async setup(t,n){this.snapshotStateMap.has(t)||this.snapshotStateMap.set(t,await Ps.create(t,n))}async finish(t){const r=await this.getSnapshotState(t).pack();return this.snapshotStateMap.delete(t),r}skipTest(t,n){this.getSnapshotState(t).markSnapshotsAsCheckedForTest(n)}clearTest(t,n){this.getSnapshotState(t).clearTest(n)}getSnapshotState(t){const n=this.snapshotStateMap.get(t);if(!n)throw new Error(`The snapshot state for '${t}' is not found. Did you call 'SnapshotClient.setup()'?`);return n}assert(t){const{filepath:n,name:r,testId:o=r,message:s,isInline:i=!1,properties:a,inlineSnapshot:u,error:c,errorMessage:l,rawSnapshot:f}=t;let{received:h}=t;if(!n)throw new Error("Snapshot cannot be used outside of test");const d=this.getSnapshotState(n);if(typeof a=="object"){if(typeof h!="object"||!h)throw new Error("Received value must be an object when the matcher has properties");try{var p,g;if(((p=(g=this.options).isEqual)===null||p===void 0?void 0:p.call(g,h,a))??!1)h=ks(h,a);else throw wa("Snapshot properties mismatched",d.expand,h,a)}catch(C){throw C.message=l||"Snapshot mismatched",C}}const w=[r,...s?[s]:[]].join(" > "),{actual:T,expected:x,key:A,pass:_}=d.match({testId:o,testName:w,received:h,isInline:i,error:c,inlineSnapshot:u,rawSnapshot:f});if(!_)throw wa(`Snapshot \`${A||"unknown"}\` mismatched`,d.expand,f?T:T?.trim(),f?x:x?.trim())}async assertRaw(t){if(!t.rawSnapshot)throw new Error("Raw snapshot is required");const{filepath:n,rawSnapshot:r}=t;if(r.content==null){if(!n)throw new Error("Snapshot cannot be used outside of test");const o=this.getSnapshotState(n);t.filepath||(t.filepath=n),r.file=await o.environment.resolveRawPath(n,r.file),r.content=await o.environment.readSnapshotFile(r.file)??void 0}return this.assert(t)}clear(){this.snapshotStateMap.clear()}}var Oo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};const Ve=Date;let Mo=null;class lt extends Ve{constructor(t,n,r,o,s,i,a){super();let u;switch(arguments.length){case 0:Mo!==null?u=new Ve(Mo.valueOf()):u=new Ve;break;case 1:u=new Ve(t);break;default:r=typeof r>"u"?1:r,o=o||0,s=s||0,i=i||0,a=a||0,u=new Ve(t,n,r,o,s,i,a);break}return Object.setPrototypeOf(u,lt.prototype),u}}lt.UTC=Ve.UTC;lt.now=function(){return new lt().valueOf()};lt.parse=function(e){return Ve.parse(e)};lt.toString=function(){return Ve.toString()};function Rg(e){const t=new Ve(e.valueOf());if(Number.isNaN(t.getTime()))throw new TypeError(`mockdate: The time set is an invalid date: ${e}`);globalThis.Date=lt,Mo=t.valueOf()}function Ta(){globalThis.Date=Ve}const Dg=["matchSnapshot","toMatchSnapshot","toMatchInlineSnapshot","toThrowErrorMatchingSnapshot","toThrowErrorMatchingInlineSnapshot","throws","Throw","throw","toThrow","toThrowError"];function Fg(e,t){throw e.cause==null&&(e.cause=new Error("Matcher did not succeed in time.")),il(e,t)}function Bg(e){return function(n,r={}){const o=pr().config.expect?.poll??{},{interval:s=o.interval??50,timeout:i=o.timeout??1e3,message:a}=r,u=e(null,a).withContext({poll:!0});n=n.bind(u);const c=fe.flag(u,"vitest-test");if(!c)throw new Error("expect.poll() must be called inside a test");const l=new Proxy(u,{get(f,h,d){const p=Reflect.get(f,h,d);if(typeof p!="function")return p instanceof y?l:p;if(h==="assert")return p;if(typeof h=="string"&&Dg.includes(h))throw new SyntaxError(`expect.poll() is not supported in combination with .${h}(). Use vi.waitFor() if your assertion condition is unstable.`);return function(...g){const w=new Error("STACK_TRACE_ERROR"),T=async()=>{const{setTimeout:_,clearTimeout:C}=Bt();let N="fn",O=!1;const B=_(()=>{O=!0},i);fe.flag(u,"_name",h);try{for(;;){const X=O;X&&fe.flag(u,"_isLastPollAttempt",!0);try{N="fn";const D=await n();return fe.flag(u,"object",D),N="assertion",await p.call(u,...g)}catch(D){(X||N==="assertion"&&fe.flag(u,"_poll.assert_once"))&&Fg(D,w),await Sp(s,_)}}}finally{C(B)}};let x=!1;c.onFinished??=[],c.onFinished.push(()=>{if(!x){const _=fe.flag(u,"negate")?"not.":"",C=`expect.${fe.flag(u,"_poll.element")?"element(locator)":"poll(assertion)"}.${_}${String(h)}()`;throw il(new Error(`${C} was not awaited. This assertion is asynchronous and must be awaited; otherwise, it is not executed to avoid unhandled rejections:

await ${C}
`),w)}});let A;return{then(_,C){return x=!0,(A||=T()).then(_,C)},catch(_){return(A||=T()).catch(_)},finally(_){return(A||=T()).finally(_)},[Symbol.toStringTag]:"Promise"}}}});return l}}function il(e,t){return t.stack!==void 0&&(e.stack=t.stack.replace(t.message,e.message)),e}function Lg(e,t,n){const r=e.flag(t,"negate")?"not.":"",o=`${e.flag(t,"_name")}(expected)`,s=e.flag(t,"promise");return`expect(actual)${s?`.${s}`:""}.${r}${o}`}function qg(e,t,n,r){const o=e;if(o&&t instanceof Promise){t=t.finally(()=>{if(!o.promises)return;const i=o.promises.indexOf(t);i!==-1&&o.promises.splice(i,1)}),o.promises||(o.promises=[]),o.promises.push(t);let s=!1;return o.onFinished??=[],o.onFinished.push(()=>{if(!s){const i=(globalThis.__vitest_worker__?.onFilterStackTrace||(a=>a||""))(r.stack);console.warn([`Promise returned by \`${n}\` was not awaited. `,"Vitest currently auto-awaits hanging assertions at the end of the test, but this will cause the test to fail in Vitest 3. ",`Please remember to await the assertion.
`,i].join(""))}}),{then(i,a){return s=!0,t.then(i,a)},catch(i){return t.catch(i)},finally(i){return t.finally(i)},[Symbol.toStringTag]:"Promise"}}return t}let Rr;function Yt(){return Rr||(Rr=new jg({isEqual:(e,t)=>U(e,t,[Ne,Ft])})),Rr}function va(e,t){if(typeof e!="function"){if(!t)throw new Error(`expected must be a function, received ${typeof e}`);return e}try{e()}catch(n){return n}throw new Error("snapshot function didn't throw")}function Gt(e){return{filepath:e.file.filepath,name:Lp(e).slice(1).join(" > "),testId:e.id}}const Vg=(e,t)=>{function n(r,o){const s=t.flag(o,"vitest-test");if(!s)throw new Error(`'${r}' cannot be used without test context`);return s}for(const r of["matchSnapshot","toMatchSnapshot"])t.addMethod(e.Assertion.prototype,r,function(o,s){if(t.flag(this,"_name",r),t.flag(this,"negate"))throw new Error(`${r} cannot be used with "not"`);const i=t.flag(this,"object"),a=n(r,this);typeof o=="string"&&typeof s>"u"&&(s=o,o=void 0);const u=t.flag(this,"message");Yt().assert({received:i,message:s,isInline:!1,properties:o,errorMessage:u,...Gt(a)})});t.addMethod(e.Assertion.prototype,"toMatchFileSnapshot",function(r,o){if(t.flag(this,"_name","toMatchFileSnapshot"),t.flag(this,"negate"))throw new Error('toMatchFileSnapshot cannot be used with "not"');const s=new Error("resolves"),i=t.flag(this,"object"),a=n("toMatchFileSnapshot",this),u=t.flag(this,"message");return qg(a,Yt().assertRaw({received:i,message:o,isInline:!1,rawSnapshot:{file:r},errorMessage:u,...Gt(a)}),Lg(t,this),s)}),t.addMethod(e.Assertion.prototype,"toMatchInlineSnapshot",function(o,s,i){if(t.flag(this,"_name","toMatchInlineSnapshot"),t.flag(this,"negate"))throw new Error('toMatchInlineSnapshot cannot be used with "not"');const a=n("toMatchInlineSnapshot",this);if(a.each||a.suite?.each)throw new Error("InlineSnapshot cannot be used inside of test.each or describe.each");const u=t.flag(this,"object"),c=t.flag(this,"error");typeof o=="string"&&(i=s,s=o,o=void 0),s&&(s=pa(s));const l=t.flag(this,"message");Yt().assert({received:u,message:i,isInline:!0,properties:o,inlineSnapshot:s,error:c,errorMessage:l,...Gt(a)})}),t.addMethod(e.Assertion.prototype,"toThrowErrorMatchingSnapshot",function(r){if(t.flag(this,"_name","toThrowErrorMatchingSnapshot"),t.flag(this,"negate"))throw new Error('toThrowErrorMatchingSnapshot cannot be used with "not"');const o=t.flag(this,"object"),s=n("toThrowErrorMatchingSnapshot",this),i=t.flag(this,"promise"),a=t.flag(this,"message");Yt().assert({received:va(o,i),message:r,errorMessage:a,...Gt(s)})}),t.addMethod(e.Assertion.prototype,"toThrowErrorMatchingInlineSnapshot",function(o,s){if(t.flag(this,"negate"))throw new Error('toThrowErrorMatchingInlineSnapshot cannot be used with "not"');const i=n("toThrowErrorMatchingInlineSnapshot",this);if(i.each||i.suite?.each)throw new Error("InlineSnapshot cannot be used inside of test.each or describe.each");const a=t.flag(this,"object"),u=t.flag(this,"error"),c=t.flag(this,"promise"),l=t.flag(this,"message");o&&(o=pa(o)),Yt().assert({received:va(a,c),message:s,inlineSnapshot:o,isInline:!0,error:u,errorMessage:l,...Gt(i)})}),t.addMethod(e.expect,"addSnapshotSerializer",xg)};St(Ep);St(bp);St(Vg);St(yp);function zg(e){const t=((s,i)=>{const{assertionCalls:a}=ln(t);return Cr({assertionCalls:a+1},t),gt(s,i)});Object.assign(t,gt),Object.assign(t,globalThis[xs]),t.getState=()=>ln(t),t.setState=s=>Cr(s,t);const n=ln(globalThis[fr])||{};Cr({...n,assertionCalls:0,isExpectingAssertions:!1,isExpectingAssertionsError:null,expectedAssertionsNumber:null,expectedAssertionsNumberErrorGen:null,get testPath(){return pr().filepath},currentTestName:n.currentTestName},t),t.assert=m,t.extend=s=>gt.extend(t,s),t.addEqualityTesters=s=>Zd(s),t.soft=(...s)=>t(...s).withContext({soft:!0}),t.poll=Bg(t),t.unreachable=s=>{m.fail(`expected${s?` "${s}" `:" "}not to be reached`)};function r(s){const i=()=>new Error(`expected number of assertions to be ${s}, but got ${t.getState().assertionCalls}`);Error.captureStackTrace&&Error.captureStackTrace(i(),r),t.setState({expectedAssertionsNumber:s,expectedAssertionsNumberErrorGen:i})}function o(){const s=new Error("expected any number of assertion, but got none");Error.captureStackTrace&&Error.captureStackTrace(s,o),t.setState({isExpectingAssertions:!0,isExpectingAssertionsError:s})}return fe.addMethod(t,"assertions",r),fe.addMethod(t,"hasAssertions",o),t.extend(Wd),t}const Wg=zg();Object.defineProperty(globalThis,fr,{value:Wg,writable:!0,configurable:!0});var $t={},Dr,Ea;function Ug(){if(Ea)return Dr;Ea=1;var e;return typeof Oo<"u"?e=Oo:typeof window<"u"?e=window:e=self,Dr=e,Dr}var Fr,Sa;function Kg(){if(Sa)return Fr;Sa=1;let e;try{({}).__proto__,e=!1}catch{e=!0}return Fr=e,Fr}var Br,xa;function Lt(){if(xa)return Br;xa=1;var e=Function.call,t=Kg(),n=["size","caller","callee","arguments"];return t&&n.push("__proto__"),Br=function(o){return Object.getOwnPropertyNames(o).reduce(function(s,i){return n.includes(i)||typeof o[i]!="function"||(s[i]=e.bind(o[i])),s},Object.create(null))},Br}var Lr,$a;function Jn(){if($a)return Lr;$a=1;var e=Lt();return Lr=e(Array.prototype),Lr}var qr,_a;function Yg(){if(_a)return qr;_a=1;var e=Jn().every;function t(o,s){return o[s.id]===void 0&&(o[s.id]=0),o[s.id]<s.callCount}function n(o,s,i,a){var u=!0;return i!==a.length-1&&(u=s.calledBefore(a[i+1])),t(o,s)&&u?(o[s.id]+=1,!0):!1}function r(o){var s={},i=arguments.length>1?arguments:o;return e(i,n.bind(null,s))}return qr=r,qr}var Vr,Oa;function Gg(){if(Oa)return Vr;Oa=1;function e(t){return t.constructor&&t.constructor.name||null}return Vr=e,Vr}var zr={},Ma;function Jg(){return Ma||(Ma=1,(function(e){e.wrap=function(t,n){var r=function(){return e.printWarning(n),t.apply(this,arguments)};return t.prototype&&(r.prototype=t.prototype),r},e.defaultMsg=function(t,n){return`${t}.${n} is deprecated and will be removed from the public API in a future version of ${t}.`},e.printWarning=function(t){typeof process=="object"&&process.emitWarning?process.emitWarning(t):console.info?console.info(t):console.log(t)}})(zr)),zr}var Wr,Aa;function Hg(){return Aa||(Aa=1,Wr=function(t,n){var r=!0;try{t.forEach(function(){if(!n.apply(this,arguments))throw new Error})}catch{r=!1}return r}),Wr}var Ur,Ca;function Xg(){return Ca||(Ca=1,Ur=function(t){if(!t)return"";try{return t.displayName||t.name||(String(t).match(/function ([^\s(]+)/)||[])[1]}catch{return""}}),Ur}var Kr,Na;function Zg(){if(Na)return Kr;Na=1;var e=Jn().sort,t=Jn().slice;function n(o,s){var i=o.getCall(0),a=s.getCall(0),u=i&&i.callId||-1,c=a&&a.callId||-1;return u<c?-1:1}function r(o){return e(t(o),n)}return Kr=r,Kr}var Yr,Ia;function Qg(){if(Ia)return Yr;Ia=1;var e=Lt();return Yr=e(Function.prototype),Yr}var Gr,ka;function ey(){if(ka)return Gr;ka=1;var e=Lt();return Gr=e(Map.prototype),Gr}var Jr,Pa;function ty(){if(Pa)return Jr;Pa=1;var e=Lt();return Jr=e(Object.prototype),Jr}var Hr,ja;function ny(){if(ja)return Hr;ja=1;var e=Lt();return Hr=e(Set.prototype),Hr}var Xr,Ra;function ry(){if(Ra)return Xr;Ra=1;var e=Lt();return Xr=e(String.prototype),Xr}var Zr,Da;function oy(){return Da||(Da=1,Zr={array:Jn(),function:Qg(),map:ey(),object:ty(),set:ny(),string:ry()}),Zr}var Dn={exports:{}},sy=Dn.exports,Fa;function iy(){return Fa||(Fa=1,(function(e,t){(function(n,r){e.exports=r()})(sy,(function(){var n=typeof Promise=="function",r=typeof self=="object"?self:Oo,o=typeof Symbol<"u",s=typeof Map<"u",i=typeof Set<"u",a=typeof WeakMap<"u",u=typeof WeakSet<"u",c=typeof DataView<"u",l=o&&typeof Symbol.iterator<"u",f=o&&typeof Symbol.toStringTag<"u",h=i&&typeof Set.prototype.entries=="function",d=s&&typeof Map.prototype.entries=="function",p=h&&Object.getPrototypeOf(new Set().entries()),g=d&&Object.getPrototypeOf(new Map().entries()),w=l&&typeof Array.prototype[Symbol.iterator]=="function",T=w&&Object.getPrototypeOf([][Symbol.iterator]()),x=l&&typeof String.prototype[Symbol.iterator]=="function",A=x&&Object.getPrototypeOf(""[Symbol.iterator]()),_=8,C=-1;function N(O){var B=typeof O;if(B!=="object")return B;if(O===null)return"null";if(O===r)return"global";if(Array.isArray(O)&&(f===!1||!(Symbol.toStringTag in O)))return"Array";if(typeof window=="object"&&window!==null){if(typeof window.location=="object"&&O===window.location)return"Location";if(typeof window.document=="object"&&O===window.document)return"Document";if(typeof window.navigator=="object"){if(typeof window.navigator.mimeTypes=="object"&&O===window.navigator.mimeTypes)return"MimeTypeArray";if(typeof window.navigator.plugins=="object"&&O===window.navigator.plugins)return"PluginArray"}if((typeof window.HTMLElement=="function"||typeof window.HTMLElement=="object")&&O instanceof window.HTMLElement){if(O.tagName==="BLOCKQUOTE")return"HTMLQuoteElement";if(O.tagName==="TD")return"HTMLTableDataCellElement";if(O.tagName==="TH")return"HTMLTableHeaderCellElement"}}var X=f&&O[Symbol.toStringTag];if(typeof X=="string")return X;var D=Object.getPrototypeOf(O);return D===RegExp.prototype?"RegExp":D===Date.prototype?"Date":n&&D===Promise.prototype?"Promise":i&&D===Set.prototype?"Set":s&&D===Map.prototype?"Map":u&&D===WeakSet.prototype?"WeakSet":a&&D===WeakMap.prototype?"WeakMap":c&&D===DataView.prototype?"DataView":s&&D===g?"Map Iterator":i&&D===p?"Set Iterator":w&&D===T?"Array Iterator":x&&D===A?"String Iterator":D===null?"Object":Object.prototype.toString.call(O).slice(_,C)}return N}))})(Dn)),Dn.exports}var Qr,Ba;function ay(){if(Ba)return Qr;Ba=1;var e=iy();return Qr=function(n){return e(n).toLowerCase()},Qr}var eo,La;function cy(){if(La)return eo;La=1;function e(t){return t&&t.toString?t.toString():String(t)}return eo=e,eo}var to,qa;function uy(){return qa||(qa=1,to={global:Ug(),calledInOrder:Yg(),className:Gg(),deprecated:Jg(),every:Hg(),functionName:Xg(),orderByFirstCall:Zg(),prototypes:oy(),typeOf:ay(),valueToString:cy()}),to}var Va;function ly(){if(Va)return $t;Va=1;const e=uy().global;let t,n;if(typeof __vitest_required__<"u"){try{t=__vitest_required__.timers}catch{}try{n=__vitest_required__.timersPromises}catch{}}function r(s){const i=Math.pow(2,31)-1,a=1e12,u=function(){},c=function(){return[]},l={};let f,h=!1;s.setTimeout&&(l.setTimeout=!0,f=s.setTimeout(u,0),h=typeof f=="object"),l.clearTimeout=!!s.clearTimeout,l.setInterval=!!s.setInterval,l.clearInterval=!!s.clearInterval,l.hrtime=s.process&&typeof s.process.hrtime=="function",l.hrtimeBigint=l.hrtime&&typeof s.process.hrtime.bigint=="function",l.nextTick=s.process&&typeof s.process.nextTick=="function";const d=s.process&&s.__vitest_required__&&s.__vitest_required__.util.promisify;l.performance=s.performance&&typeof s.performance.now=="function";const p=s.Performance&&(typeof s.Performance).match(/^(function|object)$/),g=s.performance&&s.performance.constructor&&s.performance.constructor.prototype;l.queueMicrotask=s.hasOwnProperty("queueMicrotask"),l.requestAnimationFrame=s.requestAnimationFrame&&typeof s.requestAnimationFrame=="function",l.cancelAnimationFrame=s.cancelAnimationFrame&&typeof s.cancelAnimationFrame=="function",l.requestIdleCallback=s.requestIdleCallback&&typeof s.requestIdleCallback=="function",l.cancelIdleCallbackPresent=s.cancelIdleCallback&&typeof s.cancelIdleCallback=="function",l.setImmediate=s.setImmediate&&typeof s.setImmediate=="function",l.clearImmediate=s.clearImmediate&&typeof s.clearImmediate=="function",l.Intl=s.Intl&&typeof s.Intl=="object",s.clearTimeout&&s.clearTimeout(f);const w=s.Date,T=l.Intl?Object.defineProperties(Object.create(null),Object.getOwnPropertyDescriptors(s.Intl)):void 0;let x=a;if(w===void 0)throw new Error("The global scope doesn't have a `Date` object (see https://github.com/sinonjs/sinon/issues/1852#issuecomment-419622780)");l.Date=!0;class A{constructor($,M,k,b){this.name=$,this.entryType=M,this.startTime=k,this.duration=b}toJSON(){return JSON.stringify({...this})}}function _(E){return Number.isFinite?Number.isFinite(E):isFinite(E)}let C=!1;function N(E,$){E.loopLimit&&$===E.loopLimit-1&&(C=!0)}function O(){C=!1}function B(E){if(!E)return 0;const $=E.split(":"),M=$.length;let k=M,b=0,R;if(M>3||!/^(\d\d:){0,2}\d\d?$/.test(E))throw new Error("tick only understands numbers, 'm:s' and 'h:m:s'. Each part must be two digits");for(;k--;){if(R=parseInt($[k],10),R>=60)throw new Error(`Invalid time ${E}`);b+=R*Math.pow(60,M-k-1)}return b*1e3}function X(E){const M=E*1e6%1e6,k=M<0?M+1e6:M;return Math.floor(k)}function D(E){if(!E)return 0;if(typeof E.getTime=="function")return E.getTime();if(typeof E=="number")return E;throw new TypeError("now should be milliseconds since UNIX epoch")}function Y(E,$,M){return M&&M.callAt>=E&&M.callAt<=$}function te(E,$){const M=new Error(`Aborting after running ${E.loopLimit} timers, assuming an infinite loop!`);if(!$.error)return M;const k=/target\.*[<|(|[].*?[>|\]|)]\s*/;let b=new RegExp(String(Object.keys(E).join("|")));h&&(b=new RegExp(`\\s+at (Object\\.)?(?:${Object.keys(E).join("|")})\\s+`));let R=-1;$.error.stack.split(`
`).some(function(q,V){return q.match(k)?(R=V,!0):q.match(b)?(R=V,!1):R>=0});const W=`${M}
${$.type||"Microtask"} - ${$.func.name||"anonymous"}
${$.error.stack.split(`
`).slice(R+1).join(`
`)}`;try{Object.defineProperty(M,"stack",{value:W})}catch{}return M}function ce(){class E extends w{constructor(k,b,R,W,q,V,j){arguments.length===0?super(E.clock.now):super(...arguments),Object.defineProperty(this,"constructor",{value:w,enumerable:!1})}static[Symbol.hasInstance](k){return k instanceof w}}return E.isFake=!0,w.now&&(E.now=function(){return E.clock.now}),w.toSource&&(E.toSource=function(){return w.toSource()}),E.toString=function(){return w.toString()},new Proxy(E,{apply(){if(this instanceof E)throw new TypeError("A Proxy should only capture `new` calls with the `construct` handler. This is not supposed to be possible, so check the logic.");return new w(E.clock.now).toString()}})}function ue(){const E={};return Object.getOwnPropertyNames(T).forEach($=>E[$]=T[$]),E.DateTimeFormat=function(...$){const M=new T.DateTimeFormat(...$),k={};return["formatRange","formatRangeToParts","resolvedOptions"].forEach(b=>{k[b]=M[b].bind(M)}),["format","formatToParts"].forEach(b=>{k[b]=function(R){return M[b](R||E.clock.now)}}),k},E.DateTimeFormat.prototype=Object.create(T.DateTimeFormat.prototype),E.DateTimeFormat.supportedLocalesOf=T.DateTimeFormat.supportedLocalesOf,E}function ne(E,$){E.jobs||(E.jobs=[]),E.jobs.push($)}function G(E){if(E.jobs){for(let $=0;$<E.jobs.length;$++){const M=E.jobs[$];if(M.func.apply(null,M.args),N(E,$),E.loopLimit&&$>E.loopLimit)throw te(E,M)}O(),E.jobs=[]}}function ee(E,$){if($.func===void 0)throw new Error("Callback must be provided to timer calls");if(h&&typeof $.func!="function")throw new TypeError(`[ERR_INVALID_CALLBACK]: Callback must be a function. Received ${$.func} of type ${typeof $.func}`);if(C&&($.error=new Error),$.type=$.immediate?"Immediate":"Timeout",$.hasOwnProperty("delay")&&(typeof $.delay!="number"&&($.delay=parseInt($.delay,10)),_($.delay)||($.delay=0),$.delay=$.delay>i?1:$.delay,$.delay=Math.max(0,$.delay)),$.hasOwnProperty("interval")&&($.type="Interval",$.interval=$.interval>i?1:$.interval),$.hasOwnProperty("animation")&&($.type="AnimationFrame",$.animation=!0),$.hasOwnProperty("idleCallback")&&($.type="IdleCallback",$.idleCallback=!0),E.timers||(E.timers={}),$.id=x++,$.createdAt=E.now,$.callAt=E.now+(parseInt($.delay)||(E.duringTick?1:0)),E.timers[$.id]=$,h){const M={refed:!0,ref:function(){return this.refed=!0,M},unref:function(){return this.refed=!1,M},hasRef:function(){return this.refed},refresh:function(){return $.callAt=E.now+(parseInt($.delay)||(E.duringTick?1:0)),E.timers[$.id]=$,M},[Symbol.toPrimitive]:function(){return $.id}};return M}return $.id}function Oe(E,$){if(E.callAt<$.callAt)return-1;if(E.callAt>$.callAt)return 1;if(E.immediate&&!$.immediate)return-1;if(!E.immediate&&$.immediate)return 1;if(E.createdAt<$.createdAt)return-1;if(E.createdAt>$.createdAt)return 1;if(E.id<$.id)return-1;if(E.id>$.id)return 1}function le(E,$,M){const k=E.timers;let b=null,R,W;for(R in k)k.hasOwnProperty(R)&&(W=Y($,M,k[R]),W&&(!b||Oe(b,k[R])===1)&&(b=k[R]));return b}function ye(E){const $=E.timers;let M=null,k;for(k in $)$.hasOwnProperty(k)&&(!M||Oe(M,$[k])===1)&&(M=$[k]);return M}function De(E){const $=E.timers;let M=null,k;for(k in $)$.hasOwnProperty(k)&&(!M||Oe(M,$[k])===-1)&&(M=$[k]);return M}function Te(E,$){if(typeof $.interval=="number"?E.timers[$.id].callAt+=$.interval:delete E.timers[$.id],typeof $.func=="function")$.func.apply(null,$.args);else{const M=eval;(function(){M($.func)})()}}function Ee(E){return E==="IdleCallback"||E==="AnimationFrame"?`cancel${E}`:`clear${E}`}function Ze(E){return E==="IdleCallback"||E==="AnimationFrame"?`request${E}`:`set${E}`}function ke(){let E=0;return function($){!E++&&console.warn($)}}const Se=ke();function xe(E,$,M){if(!$)return;E.timers||(E.timers={});const k=Number($);if(Number.isNaN(k)||k<a){const b=Ee(M);if(E.shouldClearNativeTimers===!0){const R=E[`_${b}`];return typeof R=="function"?R($):void 0}Se(`FakeTimers: ${b} was invoked to clear a native timer instead of one created by this library.
To automatically clean-up native timers, use \`shouldClearNativeTimers\`.`)}if(E.timers.hasOwnProperty(k)){const b=E.timers[k];if(b.type===M||b.type==="Timeout"&&M==="Interval"||b.type==="Interval"&&M==="Timeout")delete E.timers[k];else{const R=Ee(M),W=Ze(b.type);throw new Error(`Cannot clear timer: timer created with ${W}() but cleared with ${R}()`)}}}function xt(E,$){let M,k,b;const R="_hrtime",W="_nextTick";for(k=0,b=E.methods.length;k<b;k++){if(M=E.methods[k],M==="hrtime"&&s.process)s.process.hrtime=E[R];else if(M==="nextTick"&&s.process)s.process.nextTick=E[W];else if(M==="performance"){const q=Object.getOwnPropertyDescriptor(E,`_${M}`);q&&q.get&&!q.set?Object.defineProperty(s,M,q):q.configurable&&(s[M]=E[`_${M}`])}else if(s[M]&&s[M].hadOwnProperty)s[M]=E[`_${M}`];else try{delete s[M]}catch{}if(E.timersModuleMethods!==void 0)for(let q=0;q<E.timersModuleMethods.length;q++){const V=E.timersModuleMethods[q];t[V.methodName]=V.original}if(E.timersPromisesModuleMethods!==void 0)for(let q=0;q<E.timersPromisesModuleMethods.length;q++){const V=E.timersPromisesModuleMethods[q];n[V.methodName]=V.original}}$.shouldAdvanceTime===!0&&s.clearInterval(E.attachedInterval),E.methods=[];for(const[q,V]of E.abortListenerMap.entries())V.removeEventListener("abort",q),E.abortListenerMap.delete(q);return E.timers?Object.keys(E.timers).map(function(V){return E.timers[V]}):[]}function Ye(E,$,M){if(M[$].hadOwnProperty=Object.prototype.hasOwnProperty.call(E,$),M[`_${$}`]=E[$],$==="Date")E[$]=M[$];else if($==="Intl")E[$]=M[$];else if($==="performance"){const k=Object.getOwnPropertyDescriptor(E,$);if(k&&k.get&&!k.set){Object.defineProperty(M,`_${$}`,k);const b=Object.getOwnPropertyDescriptor(M,$);Object.defineProperty(E,$,b)}else E[$]=M[$]}else E[$]=function(){return M[$].apply(M,arguments)},Object.defineProperties(E[$],Object.getOwnPropertyDescriptors(M[$]));E[$].clock=M}function qt(E,$){E.tick($)}const be={setTimeout:s.setTimeout,clearTimeout:s.clearTimeout,setInterval:s.setInterval,clearInterval:s.clearInterval,Date:s.Date};l.setImmediate&&(be.setImmediate=s.setImmediate),l.clearImmediate&&(be.clearImmediate=s.clearImmediate),l.hrtime&&(be.hrtime=s.process.hrtime),l.nextTick&&(be.nextTick=s.process.nextTick),l.performance&&(be.performance=s.performance),l.requestAnimationFrame&&(be.requestAnimationFrame=s.requestAnimationFrame),l.queueMicrotask&&(be.queueMicrotask=s.queueMicrotask),l.cancelAnimationFrame&&(be.cancelAnimationFrame=s.cancelAnimationFrame),l.requestIdleCallback&&(be.requestIdleCallback=s.requestIdleCallback),l.cancelIdleCallback&&(be.cancelIdleCallback=s.cancelIdleCallback),l.Intl&&(be.Intl=T);const Qe=s.setImmediate||s.setTimeout;function js(E,$){E=Math.floor(D(E)),$=$||1e3;let M=0;const k=[0,0],b={now:E,Date:ce(),loopLimit:$};b.Date.clock=b;function R(){return 16-(b.now-E)%16}function W(j){const I=b.now-k[0]-E,P=Math.floor(I/1e3),F=(I-P*1e3)*1e6+M-k[1];if(Array.isArray(j)){if(j[1]>1e9)throw new TypeError("Number of nanoseconds can't exceed a billion");const H=j[0];let re=F-j[1],et=P-H;return re<0&&(re+=1e9,et-=1),[et,re]}return[P,F]}function q(){const j=W();return j[0]*1e3+j[1]/1e6}l.hrtimeBigint&&(W.bigint=function(){const j=W();return BigInt(j[0])*BigInt(1e9)+BigInt(j[1])}),l.Intl&&(b.Intl=ue(),b.Intl.clock=b),b.requestIdleCallback=function(I,P){let F=0;b.countTimers()>0&&(F=50);const H=ee(b,{func:I,args:Array.prototype.slice.call(arguments,2),delay:typeof P>"u"?F:Math.min(P,F),idleCallback:!0});return Number(H)},b.cancelIdleCallback=function(I){return xe(b,I,"IdleCallback")},b.setTimeout=function(I,P){return ee(b,{func:I,args:Array.prototype.slice.call(arguments,2),delay:P})},typeof s.Promise<"u"&&d&&(b.setTimeout[d.custom]=function(I,P){return new s.Promise(function(H){ee(b,{func:H,args:[P],delay:I})})}),b.clearTimeout=function(I){return xe(b,I,"Timeout")},b.nextTick=function(I){return ne(b,{func:I,args:Array.prototype.slice.call(arguments,1),error:C?new Error:null})},b.queueMicrotask=function(I){return b.nextTick(I)},b.setInterval=function(I,P){return P=parseInt(P,10),ee(b,{func:I,args:Array.prototype.slice.call(arguments,2),delay:P,interval:P})},b.clearInterval=function(I){return xe(b,I,"Interval")},l.setImmediate&&(b.setImmediate=function(I){return ee(b,{func:I,args:Array.prototype.slice.call(arguments,1),immediate:!0})},typeof s.Promise<"u"&&d&&(b.setImmediate[d.custom]=function(I){return new s.Promise(function(F){ee(b,{func:F,args:[I],immediate:!0})})}),b.clearImmediate=function(I){return xe(b,I,"Immediate")}),b.countTimers=function(){return Object.keys(b.timers||{}).length+(b.jobs||[]).length},b.requestAnimationFrame=function(I){const P=ee(b,{func:I,delay:R(),get args(){return[q()]},animation:!0});return Number(P)},b.cancelAnimationFrame=function(I){return xe(b,I,"AnimationFrame")},b.runMicrotasks=function(){G(b)};function V(j,I,P,F){const H=typeof j=="number"?j:B(j),re=Math.floor(H),et=X(H);let Fe=M+et,he=b.now+re;if(H<0)throw new TypeError("Negative ticks are not supported");Fe>=1e6&&(he+=1,Fe-=1e6),M=Fe;let Be=b.now,ht=b.now,Le,rt,Me,Rs,gr,yr;b.duringTick=!0,Me=b.now,G(b),Me!==b.now&&(Be+=b.now-Me,he+=b.now-Me);function Ds(){for(Le=le(b,Be,he);Le&&Be<=he;){if(b.timers[Le.id]){Be=Le.callAt,b.now=Le.callAt,Me=b.now;try{G(b),Te(b,Le)}catch(Vt){rt=rt||Vt}if(I){Qe(Rs);return}gr()}yr()}if(Me=b.now,G(b),Me!==b.now&&(Be+=b.now-Me,he+=b.now-Me),b.duringTick=!1,Le=le(b,Be,he),Le)try{b.tick(he-b.now)}catch(Vt){rt=rt||Vt}else b.now=he,M=Fe;if(rt)throw rt;if(I)P(b.now);else return b.now}return Rs=I&&function(){try{gr(),yr(),Ds()}catch(Vt){F(Vt)}},gr=function(){Me!==b.now&&(Be+=b.now-Me,he+=b.now-Me,ht+=b.now-Me)},yr=function(){Le=le(b,ht,he),ht=Be},Ds()}return b.tick=function(I){return V(I,!1)},typeof s.Promise<"u"&&(b.tickAsync=function(I){return new s.Promise(function(P,F){Qe(function(){try{V(I,!0,P,F)}catch(H){F(H)}})})}),b.next=function(){G(b);const I=ye(b);if(!I)return b.now;b.duringTick=!0;try{return b.now=I.callAt,Te(b,I),G(b),b.now}finally{b.duringTick=!1}},typeof s.Promise<"u"&&(b.nextAsync=function(){return new s.Promise(function(I,P){Qe(function(){try{const F=ye(b);if(!F){I(b.now);return}let H;b.duringTick=!0,b.now=F.callAt;try{Te(b,F)}catch(re){H=re}b.duringTick=!1,Qe(function(){H?P(H):I(b.now)})}catch(F){P(F)}})})}),b.runAll=function(){let I,P;for(G(b),P=0;P<b.loopLimit;P++){if(!b.timers||(I=Object.keys(b.timers).length,I===0))return O(),b.now;b.next(),N(b,P)}const F=ye(b);throw te(b,F)},b.runToFrame=function(){return b.tick(R())},typeof s.Promise<"u"&&(b.runAllAsync=function(){return new s.Promise(function(I,P){let F=0;function H(){Qe(function(){try{G(b);let re;if(F<b.loopLimit){if(!b.timers){O(),I(b.now);return}if(re=Object.keys(b.timers).length,re===0){O(),I(b.now);return}b.next(),F++,H(),N(b,F);return}const et=ye(b);P(te(b,et))}catch(re){P(re)}})}H()})}),b.runToLast=function(){const I=De(b);return I?b.tick(I.callAt-b.now):(G(b),b.now)},typeof s.Promise<"u"&&(b.runToLastAsync=function(){return new s.Promise(function(I,P){Qe(function(){try{const F=De(b);F||(G(b),I(b.now)),I(b.tickAsync(F.callAt-b.now))}catch(F){P(F)}})})}),b.reset=function(){M=0,b.timers={},b.jobs=[],b.now=E},b.setSystemTime=function(I){const P=D(I),F=P-b.now;let H,re;k[0]=k[0]+F,k[1]=k[1]+M,b.now=P,M=0;for(H in b.timers)b.timers.hasOwnProperty(H)&&(re=b.timers[H],re.createdAt+=F,re.callAt+=F)},b.jump=function(I){const P=typeof I=="number"?I:B(I),F=Math.floor(P);for(const H of Object.values(b.timers))b.now+F>H.callAt&&(H.callAt=b.now+F);b.tick(F)},l.performance&&(b.performance=Object.create(null),b.performance.now=q),l.hrtime&&(b.hrtime=W),b}function ul(E){if(arguments.length>1||E instanceof Date||Array.isArray(E)||typeof E=="number")throw new TypeError(`FakeTimers.install called with ${String(E)} install requires an object parameter`);if(s.Date.isFake===!0)throw new TypeError("Can't install fake timers twice on the same global object.");if(E=typeof E<"u"?E:{},E.shouldAdvanceTime=E.shouldAdvanceTime||!1,E.advanceTimeDelta=E.advanceTimeDelta||20,E.shouldClearNativeTimers=E.shouldClearNativeTimers||!1,E.target)throw new TypeError("config.target is no longer supported. Use `withGlobal(target)` instead.");function $(R){if(!E.ignoreMissingTimers)throw new ReferenceError(`non-existent timers and/or objects cannot be faked: '${R}'`)}let M,k;const b=js(E.now,E.loopLimit);if(b.shouldClearNativeTimers=E.shouldClearNativeTimers,b.uninstall=function(){return xt(b,E)},b.abortListenerMap=new Map,b.methods=E.toFake||[],b.methods.length===0&&(b.methods=Object.keys(be)),E.shouldAdvanceTime===!0){const R=qt.bind(null,b,E.advanceTimeDelta),W=s.setInterval(R,E.advanceTimeDelta);b.attachedInterval=W}if(b.methods.includes("performance")){const R=(()=>{if(g)return s.performance.constructor.prototype;if(p)return s.Performance.prototype})();if(R)Object.getOwnPropertyNames(R).forEach(function(W){W!=="now"&&(b.performance[W]=W.indexOf("getEntries")===0?c:u)}),b.performance.mark=W=>new A(W,"mark",0,0),b.performance.measure=W=>new A(W,"measure",0,100),b.performance.timeOrigin=D(E.now);else if((E.toFake||[]).includes("performance"))return $("performance")}for(s===e&&t&&(b.timersModuleMethods=[]),s===e&&n&&(b.timersPromisesModuleMethods=[]),M=0,k=b.methods.length;M<k;M++){const R=b.methods[M];if(!l[R]){$(R);continue}if(R==="hrtime"?s.process&&typeof s.process.hrtime=="function"&&Ye(s.process,R,b):R==="nextTick"?s.process&&typeof s.process.nextTick=="function"&&Ye(s.process,R,b):Ye(s,R,b),b.timersModuleMethods!==void 0&&t[R]){const W=t[R];b.timersModuleMethods.push({methodName:R,original:W}),t[R]=s[R]}b.timersPromisesModuleMethods!==void 0&&(R==="setTimeout"?(b.timersPromisesModuleMethods.push({methodName:"setTimeout",original:n.setTimeout}),n.setTimeout=(W,q,V={})=>new Promise((j,I)=>{const P=()=>{V.signal.removeEventListener("abort",P),b.abortListenerMap.delete(P),b.clearTimeout(F),I(V.signal.reason)},F=b.setTimeout(()=>{V.signal&&(V.signal.removeEventListener("abort",P),b.abortListenerMap.delete(P)),j(q)},W);V.signal&&(V.signal.aborted?P():(V.signal.addEventListener("abort",P),b.abortListenerMap.set(P,V.signal)))})):R==="setImmediate"?(b.timersPromisesModuleMethods.push({methodName:"setImmediate",original:n.setImmediate}),n.setImmediate=(W,q={})=>new Promise((V,j)=>{const I=()=>{q.signal.removeEventListener("abort",I),b.abortListenerMap.delete(I),b.clearImmediate(P),j(q.signal.reason)},P=b.setImmediate(()=>{q.signal&&(q.signal.removeEventListener("abort",I),b.abortListenerMap.delete(I)),V(W)});q.signal&&(q.signal.aborted?I():(q.signal.addEventListener("abort",I),b.abortListenerMap.set(I,q.signal)))})):R==="setInterval"&&(b.timersPromisesModuleMethods.push({methodName:"setInterval",original:n.setInterval}),n.setInterval=(W,q,V={})=>({[Symbol.asyncIterator]:()=>{const j=()=>{let he,Be;const ht=new Promise((Le,rt)=>{he=Le,Be=rt});return ht.resolve=he,ht.reject=Be,ht};let I=!1,P=!1,F,H=0;const re=[],et=b.setInterval(()=>{re.length>0?re.shift().resolve():H++},W),Fe=()=>{V.signal.removeEventListener("abort",Fe),b.abortListenerMap.delete(Fe),b.clearInterval(et),I=!0;for(const he of re)he.resolve()};return V.signal&&(V.signal.aborted?I=!0:(V.signal.addEventListener("abort",Fe),b.abortListenerMap.set(Fe,V.signal))),{next:async()=>{if(V.signal?.aborted&&!P)throw P=!0,V.signal.reason;if(I)return{done:!0,value:void 0};if(H>0)return H--,{done:!1,value:q};const he=j();if(re.push(he),await he,F&&re.length===0&&F.resolve(),V.signal?.aborted&&!P)throw P=!0,V.signal.reason;return I?{done:!0,value:void 0}:{done:!1,value:q}},return:async()=>I?{done:!0,value:void 0}:(re.length>0&&(F=j(),await F),b.clearInterval(et),I=!0,V.signal&&(V.signal.removeEventListener("abort",Fe),b.abortListenerMap.delete(Fe)),{done:!0,value:void 0})}}})))}return b}return{timers:be,createClock:js,install:ul,withGlobal:r}}const o=r(e);return $t.timers=o.timers,$t.createClock=o.createClock,$t.install=o.install,$t.withGlobal=r,$t}var fy=ly();class hy{_global;_clock;_fakingTime;_fakingDate;_fakeTimers;_userConfig;_now=Ve.now;constructor({global:t,config:n}){this._userConfig=n,this._fakingDate=null,this._fakingTime=!1,this._fakeTimers=fy.withGlobal(t),this._global=t}clearAllTimers(){this._fakingTime&&this._clock.reset()}dispose(){this.useRealTimers()}runAllTimers(){this._checkFakeTimers()&&this._clock.runAll()}async runAllTimersAsync(){this._checkFakeTimers()&&await this._clock.runAllAsync()}runOnlyPendingTimers(){this._checkFakeTimers()&&this._clock.runToLast()}async runOnlyPendingTimersAsync(){this._checkFakeTimers()&&await this._clock.runToLastAsync()}advanceTimersToNextTimer(t=1){if(this._checkFakeTimers())for(let n=t;n>0&&(this._clock.next(),this._clock.tick(0),this._clock.countTimers()!==0);n--);}async advanceTimersToNextTimerAsync(t=1){if(this._checkFakeTimers())for(let n=t;n>0&&(await this._clock.nextAsync(),this._clock.tick(0),this._clock.countTimers()!==0);n--);}advanceTimersByTime(t){this._checkFakeTimers()&&this._clock.tick(t)}async advanceTimersByTimeAsync(t){this._checkFakeTimers()&&await this._clock.tickAsync(t)}advanceTimersToNextFrame(){this._checkFakeTimers()&&this._clock.runToFrame()}runAllTicks(){this._checkFakeTimers()&&this._clock.runMicrotasks()}useRealTimers(){this._fakingDate&&(Ta(),this._fakingDate=null),this._fakingTime&&(this._clock.uninstall(),this._fakingTime=!1)}useFakeTimers(){const t=this._fakingDate||Date.now();this._fakingDate&&(Ta(),this._fakingDate=null),this._fakingTime&&this._clock.uninstall();const n=Object.keys(this._fakeTimers.timers).filter(r=>r!=="nextTick"&&r!=="queueMicrotask");if(this._userConfig?.toFake?.includes("nextTick")&&Zu())throw new Error("process.nextTick cannot be mocked inside child_process");this._clock=this._fakeTimers.install({now:t,...this._userConfig,toFake:this._userConfig?.toFake||n,ignoreMissingTimers:!0}),this._fakingTime=!0}reset(){if(this._checkFakeTimers()){const{now:t}=this._clock;this._clock.reset(),this._clock.setSystemTime(t)}}setSystemTime(t){const n=typeof t>"u"||t instanceof Date?t:new Date(t);this._fakingTime?this._clock.setSystemTime(n):(this._fakingDate=n??new Date(this.getRealSystemTime()),Rg(this._fakingDate))}getMockedSystemTime(){return this._fakingTime?new Date(this._clock.now):this._fakingDate}getRealSystemTime(){return this._now()}getTimerCount(){return this._checkFakeTimers()?this._clock.countTimers():0}configure(t){this._userConfig=t}isFakeTimers(){return this._fakingTime}_checkFakeTimers(){if(!this._fakingTime)throw new Error("A function to advance timers was called but the timers APIs are not mocked. Call `vi.useFakeTimers()` in the test file first.");return this._fakingTime}}function al(e,t){return t.stack!==void 0&&(e.stack=t.stack.replace(t.message,e.message)),e}function dy(e,t={}){const{setTimeout:n,setInterval:r,clearTimeout:o,clearInterval:s}=Bt(),{interval:i=50,timeout:a=1e3}=typeof t=="number"?{timeout:t}:t,u=new Error("STACK_TRACE_ERROR");return new Promise((c,l)=>{let f,h="idle",d,p;const g=x=>{d&&o(d),p&&s(p),c(x)},w=()=>{p&&s(p);let x=f;x||(x=al(new Error("Timed out in waitFor!"),u)),l(x)},T=()=>{if(yt.isFakeTimers()&&yt.advanceTimersByTime(i),h!=="pending")try{const x=e();if(x!==null&&typeof x=="object"&&typeof x.then=="function"){const A=x;h="pending",A.then(_=>{h="resolved",g(_)},_=>{h="rejected",f=_})}else return g(x),!0}catch(x){f=x}};T()!==!0&&(d=n(w,a),p=r(T,i))})}function py(e,t={}){const{setTimeout:n,setInterval:r,clearTimeout:o,clearInterval:s}=Bt(),{interval:i=50,timeout:a=1e3}=typeof t=="number"?{timeout:t}:t,u=new Error("STACK_TRACE_ERROR");return new Promise((c,l)=>{let f="idle",h,d;const p=T=>{d&&s(d),T||(T=al(new Error("Timed out in waitUntil!"),u)),l(T)},g=T=>{if(T)return h&&o(h),d&&s(d),c(T),!0},w=()=>{if(yt.isFakeTimers()&&yt.advanceTimersByTime(i),f!=="pending")try{const T=e();if(T!==null&&typeof T=="object"&&typeof T.then=="function"){const x=T;f="pending",x.then(A=>{f="resolved",g(A)},A=>{f="rejected",p(A)})}else return g(T)}catch(T){p(T)}};w()!==!0&&(h=n(p,a),d=r(w,i))})}function my(){let e=null;const t=()=>pr();let n;const r=()=>n||=new hy({global:globalThis,config:t().config.fakeTimers}),o=new Map,s=new Map,i=["PROD","DEV","SSR"],a={useFakeTimers(u){if(Zu()&&(u?.toFake?.includes("nextTick")||t().config?.fakeTimers?.toFake?.includes("nextTick")))throw new Error('vi.useFakeTimers({ toFake: ["nextTick"] }) is not supported in node:child_process. Use --pool=threads if mocking nextTick is required.');return u?r().configure({...t().config.fakeTimers,...u}):r().configure(t().config.fakeTimers),r().useFakeTimers(),a},isFakeTimers(){return r().isFakeTimers()},useRealTimers(){return r().useRealTimers(),a},runOnlyPendingTimers(){return r().runOnlyPendingTimers(),a},async runOnlyPendingTimersAsync(){return await r().runOnlyPendingTimersAsync(),a},runAllTimers(){return r().runAllTimers(),a},async runAllTimersAsync(){return await r().runAllTimersAsync(),a},runAllTicks(){return r().runAllTicks(),a},advanceTimersByTime(u){return r().advanceTimersByTime(u),a},async advanceTimersByTimeAsync(u){return await r().advanceTimersByTimeAsync(u),a},advanceTimersToNextTimer(){return r().advanceTimersToNextTimer(),a},async advanceTimersToNextTimerAsync(){return await r().advanceTimersToNextTimerAsync(),a},advanceTimersToNextFrame(){return r().advanceTimersToNextFrame(),a},getTimerCount(){return r().getTimerCount()},setSystemTime(u){return r().setSystemTime(u),a},getMockedSystemTime(){return r().getMockedSystemTime()},getRealSystemTime(){return r().getRealSystemTime()},clearAllTimers(){return r().clearAllTimers(),a},spyOn:td,fn:ed,waitFor:dy,waitUntil:py,hoisted(u){return $e(u,'"vi.hoisted" factory',["function"]),u()},mock(u,c){if(typeof u!="string")throw new TypeError(`vi.mock() expects a string path, but received a ${typeof u}`);const l=_t("mock");Pe().queueMock(u,l,typeof c=="function"?()=>c(()=>Pe().importActual(u,l,Pe().getMockContext().callstack)):c)},unmock(u){if(typeof u!="string")throw new TypeError(`vi.unmock() expects a string path, but received a ${typeof u}`);Pe().queueUnmock(u,_t("unmock"))},doMock(u,c){if(typeof u!="string")throw new TypeError(`vi.doMock() expects a string path, but received a ${typeof u}`);const l=_t("doMock");Pe().queueMock(u,l,typeof c=="function"?()=>c(()=>Pe().importActual(u,l,Pe().getMockContext().callstack)):c)},doUnmock(u){if(typeof u!="string")throw new TypeError(`vi.doUnmock() expects a string path, but received a ${typeof u}`);const c=_t("doUnmock");Pe().queueUnmock(u,c)},async importActual(u){const c=_t("importActual");return Pe().importActual(u,c,Pe().getMockContext().callstack)},async importMock(u){const c=_t("importMock");return Pe().importMock(u,c)},mockObject(u,c){return Pe().mockObject({value:u},void 0,c?.spy?"autospy":"automock").value},mocked(u,c={}){return u},isMockFunction(u){return pt(u)},clearAllMocks(){return gd(),a},resetAllMocks(){return yd(),a},restoreAllMocks(){return md(),a},stubGlobal(u,c){return o.has(u)||o.set(u,Object.getOwnPropertyDescriptor(globalThis,u)),Object.defineProperty(globalThis,u,{value:c,writable:!0,configurable:!0,enumerable:!0}),a},stubEnv(u,c){const l=t().metaEnv;return s.has(u)||s.set(u,l[u]),i.includes(u)?l[u]=c?"1":"":c===void 0?delete l[u]:l[u]=String(c),a},unstubAllGlobals(){return o.forEach((u,c)=>{u?Object.defineProperty(globalThis,c,u):Reflect.deleteProperty(globalThis,c)}),o.clear(),a},unstubAllEnvs(){const u=t().metaEnv;return s.forEach((c,l)=>{c===void 0?delete u[l]:u[l]=c}),s.clear(),a},resetModules(){return Tm(t().evaluatedModules),a},async dynamicImportSettled(){return Qu()},setConfig(u){e||(e={...t().config}),Object.assign(t().config,u)},resetConfig(){e&&Object.assign(t().config,e)}};return a}const gy=my(),yt=gy;function Pe(){return typeof __vitest_mocker__<"u"?__vitest_mocker__:new Proxy({},{get(e,t){throw new Error(`Vitest mocker was not initialized in this environment. vi.${String(t)}() is forbidden.`)}})}function _t(e){const t=dh({stackTraceLimit:5}).split(`
`);return Du(t[t.findLastIndex(n=>n.includes(` at Object.${e}`)||n.includes(`${e}@`)||n.includes(` at ${e} (`))+1])?.file||""}const yy="_containerSingle_zeasa_1",by="_containerRange_zeasa_5",wy="_helperText_zeasa_9",Ty="_infoContainer_zeasa_21",vy="_buttonContainer_zeasa_27",Ie={containerSingle:yy,containerRange:by,helperText:wy,infoContainer:Ty,buttonContainer:vy},{expect:se,screen:at,userEvent:de,waitFor:Ey,within:cl}=__STORYBOOK_MODULE_TEST__,Sy=new Date("2026-01-15T12:00:00"),Ky={title:"Design System/DateInput",component:vt,tags:["autodocs"],parameters:{layout:"centered"},beforeEach:()=>(yt.useFakeTimers({shouldAdvanceTime:!0}),yt.setSystemTime(Sy),()=>{yt.useRealTimers()})},Jt={render:function(){const[t,n]=Nt.useState();return pe.jsx(vt,{className:Ie.containerSingle,value:t,onValueChange:n})},play:async({canvasElement:e})=>{const t=cl(e),n=t.getByPlaceholderText("MM/DD/YYYY"),r=t.getByRole("button",{name:/open calendar/i});await de.click(r);const o=at.getByRole("button",{name:/Choose.*January 15, 2026/i});await de.click(o),await se(n).toHaveValue("01/15/2026"),await de.click(r);const s=at.queryByRole("gridcell",{selected:!0});await se(s).toBeInTheDocument(),await se(s).toHaveAttribute("data-value","2026-01-15"),await de.clear(n),await de.type(n,"01/16/2026"),await se(n).toHaveValue("01/16/2026");const i=at.queryByRole("gridcell",{selected:!0});await se(i).toBeInTheDocument(),await se(i).toHaveAttribute("data-value","2026-01-16");const a=at.getByRole("button",{name:/Choose.*January 17, 2026/i});await de.click(a),await se(n).toHaveValue("01/17/2026");const u=t.getByRole("button",{name:/clear date/i});await de.click(u),await se(n).toHaveValue("");const c=t.queryByRole("button",{name:/clear date/i});await se(c).not.toBeInTheDocument(),await de.keyboard("{Escape}")}},Ht={render:function(){const[t,n]=Nt.useState();return pe.jsx(vt,{className:Ie.containerRange,value:t,onValueChange:n,range:!0})},play:async({canvasElement:e})=>{const t=cl(e),n=t.getByPlaceholderText("MM/DD/YYYY - MM/DD/YYYY"),r=t.getByRole("button",{name:/open calendar/i});await de.click(r),await Ey(()=>se(at.getByRole("application",{name:"calendar"})).toBeVisible());const o=at.getByRole("button",{name:/January 15, 2026/i});await de.click(o);const s=at.getByRole("button",{name:/January 17, 2026/i});await de.click(s);const i=at.queryAllByRole("gridcell"),a=i.find(d=>d.getAttribute("data-value")==="2026-01-15"),u=i.find(d=>d.getAttribute("data-value")==="2026-01-17");await se(a).toBeInTheDocument(),await se(u).toBeInTheDocument(),await se(a).toHaveAttribute("aria-selected","true"),await se(u).toHaveAttribute("aria-selected","true"),await se(n).toHaveValue("01/15/2026 - 01/17/2026"),await de.clear(n),await de.type(n,"01/14/2026 - 01/18/2026"),await de.click(n),await de.type(n,"{Escape}"),await se(n).toHaveValue("01/14/2026 - 01/18/2026"),await de.click(r);const c=i.find(d=>d.getAttribute("data-value")==="2026-01-14"),l=i.find(d=>d.getAttribute("data-value")==="2026-01-18");await se(c).toBeInTheDocument(),await se(l).toBeInTheDocument(),await se(c).toHaveAttribute("aria-selected","true"),await se(l).toHaveAttribute("aria-selected","true");const f=t.getByRole("button",{name:/clear date/i});await de.click(f),await se(n).toHaveValue("");const h=t.queryByRole("button",{name:/clear date/i});await se(h).not.toBeInTheDocument(),await de.keyboard("{Escape}")}},Xt={args:{className:Ie.containerSingle,defaultValue:"2024-12-25"}},Zt={args:{className:Ie.containerRange,defaultValue:["2024-12-01","2024-12-31"],range:!0}},Qt={render:function(){const[t,n]=Nt.useState(),r=new Date,o=new Date(r.getFullYear(),r.getMonth(),1).toISOString().split("T")[0],s=new Date(r.getFullYear(),r.getMonth()+3,0).toISOString().split("T")[0];return pe.jsxs("div",{className:Ie.containerSingle,children:[pe.jsx(vt,{value:t,onValueChange:n,placeholder:"MM/DD/YYYY",min:o,max:s}),pe.jsx("p",{className:Ie.helperText,children:"Allowed: Current month to next 3 months only"})]})}},en={args:{className:Ie.containerSingle,value:"2024-12-25",disabled:!0}},tn={args:{className:Ie.containerSingle,value:"2024-12-25",readOnly:!0}},nn={render:function(){const[t,n]=Nt.useState(),[r,o]=Nt.useState(!1);return pe.jsxs("div",{className:Ie.containerSingle,children:[pe.jsx("div",{className:Ie.buttonContainer,children:pe.jsxs("button",{onClick:()=>o(!r),children:[r?"Close":"Open"," Calendar"]})}),pe.jsx(vt,{value:t,onValueChange:n,open:r,onOpenChange:o})]})}},rn={render:function(){return pe.jsx("div",{className:Ie.containerSingle,children:pe.jsx(vt,{defaultValue:"2024-12-25"})})}},on={render:function(){const[t,n]=Nt.useState();return pe.jsxs("div",{className:Ie.containerRange,children:[pe.jsx(vt,{value:t,onValueChange:n,range:!0}),pe.jsxs("div",{className:Ie.infoContainer,children:[pe.jsx("p",{children:'Try typing: "12/01/2024 - 12/31/2024"'}),pe.jsx("p",{children:"Validation happens on blur"}),pe.jsx("p",{children:"Invalid format resets to empty"}),pe.jsxs("p",{children:["Current value: ",JSON.stringify(t)]})]})]})}};Jt.parameters={...Jt.parameters,docs:{...Jt.parameters?.docs,source:{originalSource:`{
  render: function Render() {
    const [value, setValue] = useState<string>();
    return <DsDateInput className={styles.containerSingle} value={value} onValueChange={setValue} />;
  },
  play: async ({
    canvasElement
  }: {
    canvasElement: HTMLElement;
  }) => {
    const canvas = within(canvasElement);
    const input = canvas.getByPlaceholderText('MM/DD/YYYY');
    const calendarButton = canvas.getByRole('button', {
      name: /open calendar/i
    });

    // 1. Open calendar and select a date (01/15/2026)
    await userEvent.click(calendarButton);
    const jan15Button = screen.getByRole('button', {
      name: /Choose.*January 15, 2026/i
    });
    await userEvent.click(jan15Button);

    // Verify input shows selected date
    await expect(input).toHaveValue('01/15/2026');

    // 2. Open calendar again and verify it shows the new date as selected
    await userEvent.click(calendarButton);
    const initialSelectedCell = screen.queryByRole('gridcell', {
      selected: true
    });
    await expect(initialSelectedCell).toBeInTheDocument();
    await expect(initialSelectedCell).toHaveAttribute('data-value', '2026-01-15');

    // 3. Type a different date into the input (01/16/2026)
    await userEvent.clear(input);
    await userEvent.type(input, '01/16/2026');

    // Verify input updated
    await expect(input).toHaveValue('01/16/2026');

    // 4. Verify calendar shows the new date as selected
    const selectedCell = screen.queryByRole('gridcell', {
      selected: true
    });
    await expect(selectedCell).toBeInTheDocument();
    await expect(selectedCell).toHaveAttribute('data-value', '2026-01-16');

    // 5. Select another date (01/17/2026)
    const jan17Button = screen.getByRole('button', {
      name: /Choose.*January 17, 2026/i
    });
    await userEvent.click(jan17Button);

    // 6. Verify input text updated
    await expect(input).toHaveValue('01/17/2026');

    // 7. Click clear button and verify input is cleared
    const clearButton = canvas.getByRole('button', {
      name: /clear date/i
    });
    await userEvent.click(clearButton);
    await expect(input).toHaveValue('');

    // 8. Verify clear button is gone after clearing
    const clearButtonAfter = canvas.queryByRole('button', {
      name: /clear date/i
    });
    await expect(clearButtonAfter).not.toBeInTheDocument();

    // Exit the calendar display
    await userEvent.keyboard('{Escape}');
  }
}`,...Jt.parameters?.docs?.source},description:{story:"Basic single date input with default configuration",...Jt.parameters?.docs?.description}}};Ht.parameters={...Ht.parameters,docs:{...Ht.parameters?.docs,source:{originalSource:`{
  render: function Render() {
    const [value, setValue] = useState<[string, string]>();
    return <DsDateInput className={styles.containerRange} value={value} onValueChange={setValue} range />;
  },
  play: async ({
    canvasElement
  }: {
    canvasElement: HTMLElement;
  }) => {
    const canvas = within(canvasElement);
    const input = canvas.getByPlaceholderText('MM/DD/YYYY - MM/DD/YYYY');
    const calendarButton = canvas.getByRole('button', {
      name: /open calendar/i
    });

    // 1. Open calendar and select range [01/15/2026 - 01/17/2026]
    await userEvent.click(calendarButton);
    await waitFor(() => {
      return expect(screen.getByRole('application', {
        name: 'calendar'
      })).toBeVisible();
    });

    // Click start date (01/15/2026)
    const jan15Button = screen.getByRole('button', {
      name: /January 15, 2026/i
    });
    await userEvent.click(jan15Button);

    // Click end date (01/17/2026)
    const jan17Button = screen.getByRole('button', {
      name: /January 17, 2026/i
    });
    await userEvent.click(jan17Button);

    // 2. Check calendar shows the selection correctly (both dates marked as selected)
    const allCells = screen.queryAllByRole('gridcell');
    const jan15Cell = allCells.find(cell => cell.getAttribute('data-value') === '2026-01-15');
    const jan17Cell = allCells.find(cell => cell.getAttribute('data-value') === '2026-01-17');
    await expect(jan15Cell).toBeInTheDocument();
    await expect(jan17Cell).toBeInTheDocument();
    await expect(jan15Cell).toHaveAttribute('aria-selected', 'true');
    await expect(jan17Cell).toHaveAttribute('aria-selected', 'true');

    // 3. Check input text is updated correctly
    await expect(input).toHaveValue('01/15/2026 - 01/17/2026');

    // 4. Type a new range [01/14/2026 - 01/18/2026]
    await userEvent.clear(input);
    await userEvent.type(input, '01/14/2026 - 01/18/2026');
    await userEvent.click(input);
    await userEvent.type(input, '{Escape}'); // Trigger parsing.

    // Verify input updated
    await expect(input).toHaveValue('01/14/2026 - 01/18/2026');

    // 5. Check calendar is updated correctly
    await userEvent.click(calendarButton);

    // Check the new selected dates
    const jan14Cell = allCells.find(cell => cell.getAttribute('data-value') === '2026-01-14');
    const jan18Cell = allCells.find(cell => cell.getAttribute('data-value') === '2026-01-18');
    await expect(jan14Cell).toBeInTheDocument();
    await expect(jan18Cell).toBeInTheDocument();
    await expect(jan14Cell).toHaveAttribute('aria-selected', 'true');
    await expect(jan18Cell).toHaveAttribute('aria-selected', 'true');

    // 6. Click clear button and verify input is cleared
    const clearButton = canvas.getByRole('button', {
      name: /clear date/i
    });
    await userEvent.click(clearButton);
    await expect(input).toHaveValue('');

    // Verify clear button is gone after clearing
    const clearButtonAfter = canvas.queryByRole('button', {
      name: /clear date/i
    });
    await expect(clearButtonAfter).not.toBeInTheDocument();

    // Exit the calendar display
    await userEvent.keyboard('{Escape}');
  }
}`,...Ht.parameters?.docs?.source},description:{story:"Date range input - unified input field for start and end dates",...Ht.parameters?.docs?.description}}};Xt.parameters={...Xt.parameters,docs:{...Xt.parameters?.docs,source:{originalSource:`{
  args: {
    className: styles.containerSingle,
    defaultValue: '2024-12-25'
  }
}`,...Xt.parameters?.docs?.source},description:{story:"Single date input with pre-filled value",...Xt.parameters?.docs?.description}}};Zt.parameters={...Zt.parameters,docs:{...Zt.parameters?.docs,source:{originalSource:`{
  args: {
    className: styles.containerRange,
    defaultValue: ['2024-12-01', '2024-12-31'],
    range: true
  }
}`,...Zt.parameters?.docs?.source},description:{story:"Range input with pre-filled values",...Zt.parameters?.docs?.description}}};Qt.parameters={...Qt.parameters,docs:{...Qt.parameters?.docs,source:{originalSource:`{
  render: function Render() {
    const [value, setValue] = useState<string>();
    const today = new Date();
    const minDate = new Date(today.getFullYear(), today.getMonth(), 1).toISOString().split('T')[0];
    const maxDate = new Date(today.getFullYear(), today.getMonth() + 3, 0).toISOString().split('T')[0];
    return <div className={styles.containerSingle}>
                <DsDateInput value={value} onValueChange={setValue} placeholder="MM/DD/YYYY" min={minDate} max={maxDate} />
                <p className={styles.helperText}>Allowed: Current month to next 3 months only</p>
            </div>;
  }
}`,...Qt.parameters?.docs?.source},description:{story:"Date input with min and max constraints",...Qt.parameters?.docs?.description}}};en.parameters={...en.parameters,docs:{...en.parameters?.docs,source:{originalSource:`{
  args: {
    className: styles.containerSingle,
    value: '2024-12-25',
    disabled: true
  }
}`,...en.parameters?.docs?.source},description:{story:"Disabled date input",...en.parameters?.docs?.description}}};tn.parameters={...tn.parameters,docs:{...tn.parameters?.docs,source:{originalSource:`{
  args: {
    className: styles.containerSingle,
    value: '2024-12-25',
    readOnly: true
  }
}`,...tn.parameters?.docs?.source},description:{story:"Read-only date input",...tn.parameters?.docs?.description}}};nn.parameters={...nn.parameters,docs:{...nn.parameters?.docs,source:{originalSource:`{
  render: function Render() {
    const [value, setValue] = useState<string>();
    const [open, setOpen] = useState(false);
    return <div className={styles.containerSingle}>
                <div className={styles.buttonContainer}>
                    <button onClick={() => setOpen(!open)}>{open ? 'Close' : 'Open'} Calendar</button>
                </div>
                <DsDateInput value={value} onValueChange={setValue} open={open} onOpenChange={setOpen} />
            </div>;
  }
}`,...nn.parameters?.docs?.source},description:{story:"Controlled open state",...nn.parameters?.docs?.description}}};rn.parameters={...rn.parameters,docs:{...rn.parameters?.docs,source:{originalSource:`{
  render: function Render() {
    return <div className={styles.containerSingle}>
                <DsDateInput defaultValue="2024-12-25" />
            </div>;
  }
}`,...rn.parameters?.docs?.source},description:{story:"Uncontrolled with defaultValue",...rn.parameters?.docs?.description}}};on.parameters={...on.parameters,docs:{...on.parameters?.docs,source:{originalSource:`{
  render: function Render() {
    const [value, setValue] = useState<[string, string]>();
    return <div className={styles.containerRange}>
                <DsDateInput value={value} onValueChange={setValue} range />
                <div className={styles.infoContainer}>
                    <p>Try typing: &#34;12/01/2024 - 12/31/2024&#34;</p>
                    <p>Validation happens on blur</p>
                    <p>Invalid format resets to empty</p>
                    <p>Current value: {JSON.stringify(value)}</p>
                </div>
            </div>;
  }
}`,...on.parameters?.docs?.source},description:{story:"Manual typing demonstration",...on.parameters?.docs?.description}}};const Yy=["Default","RangeMode","WithDefaultValue","RangeWithDefaultValue","WithMinMax","Disabled","ReadOnly","ControlledOpen","Uncontrolled","ManualTyping"];export{nn as ControlledOpen,Jt as Default,en as Disabled,on as ManualTyping,Ht as RangeMode,Zt as RangeWithDefaultValue,tn as ReadOnly,rn as Uncontrolled,Xt as WithDefaultValue,Qt as WithMinMax,Yy as __namedExportsOrder,Ky as default};
