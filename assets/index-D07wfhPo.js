import{a as R,o as D,f as W,s as E,b as B,c as T,h as C,d as I,l as V}from"./floating-ui.dom-BjS6HMTz.js";import{r as U,n as Y,i as j,a as k,g as L,b as N,c as X}from"./index-Ct7KYQ5y.js";function z(e=0,t=0,r=0,n=0){if(typeof DOMRect=="function")return new DOMRect(e,t,r,n);const o={x:e,y:t,width:r,height:n,top:t,right:e+r,bottom:t+n,left:e};return{...o,toJSON:()=>o}}function _(e){if(!e)return z();const{x:t,y:r,width:n,height:o}=e;return z(t,r,n,o)}function q(e,t){return{contextElement:j(e)?e:e?.contextElement,getBoundingClientRect:()=>{const r=e,n=t?.(r);return n||!r?_(n):r.getBoundingClientRect()}}}var m=e=>({variable:e,reference:`var(${e})`}),c={arrowSize:m("--arrow-size"),arrowSizeHalf:m("--arrow-size-half"),arrowBg:m("--arrow-background"),transformOrigin:m("--transform-origin"),arrowOffset:m("--arrow-offset")},G=e=>e==="top"||e==="bottom"?"y":"x";function J(e,t){return{name:"transformOrigin",fn(r){const{elements:n,middlewareData:o,placement:i,rects:a,y:s}=r,f=i.split("-")[0],b=G(f),A=o.arrow?.x||0,u=o.arrow?.y||0,w=t?.clientWidth||0,p=t?.clientHeight||0,h=A+w/2,y=u+p/2,d=Math.abs(o.shift?.y||0),v=a.reference.height/2,x=p/2,g=e.offset?.mainAxis??e.gutter,l=typeof g=="number"?g+x:g??x,P=d>l,$={top:`${h}px calc(100% + ${l}px)`,bottom:`${h}px ${-l}px`,left:`calc(100% + ${l}px) ${y}px`,right:`${-l}px ${y}px`}[f],M=`${h}px ${a.reference.y+v-s}px`,S=!!e.overlap&&b==="y"&&P;return n.floating.style.setProperty(c.transformOrigin.variable,S?M:$),{data:{transformOrigin:S?M:$}}}}}var K={name:"rects",fn({rects:e}){return{data:e}}},Q=e=>{if(e)return{name:"shiftArrow",fn({placement:t,middlewareData:r}){if(!r.arrow)return{};const{x:n,y:o}=r.arrow,i=t.split("-")[0];return Object.assign(e.style,{left:n!=null?`${n}px`:"",top:o!=null?`${o}px`:"",[i]:`calc(100% + ${c.arrowOffset.reference})`}),{}}}};function Z(e){const[t,r]=e.split("-");return{side:t,align:r,hasAlign:r!=null}}function de(e){return e.split("-")[0]}var F={strategy:"absolute",placement:"bottom",listeners:!0,gutter:8,flip:!0,slide:!0,overlap:!1,sameWidth:!1,fitViewport:!1,overflowPadding:8,arrowPadding:4};function H(e,t){const r=e.devicePixelRatio||1;return Math.round(t*r)/r}function O(e){return typeof e=="function"?e():e==="clipping-ancestors"?"clippingAncestors":e}function ee(e,t,r){const n=e||t.createElement("div");return B({element:n,padding:r.arrowPadding})}function te(e,t){if(!k(t.offset??t.gutter))return D(({placement:r})=>{const n=(e?.clientHeight||0)/2,o=t.offset?.mainAxis??t.gutter,i=typeof o=="number"?o+n:o??n,{hasAlign:a}=Z(r),s=a?void 0:t.shift,f=t.offset?.crossAxis??s;return X({crossAxis:f,mainAxis:i,alignmentAxis:t.shift})})}function re(e){if(!e.flip)return;const t=O(e.boundary);return W({...t?{boundary:t}:void 0,padding:e.overflowPadding,fallbackPlacements:e.flip===!0?void 0:e.flip})}function ne(e){if(!e.slide&&!e.overlap)return;const t=O(e.boundary);return E({...t?{boundary:t}:void 0,mainAxis:e.slide,crossAxis:e.overlap,padding:e.overflowPadding,limiter:V()})}function oe(e){return T({padding:e.overflowPadding,apply({elements:t,rects:r,availableHeight:n,availableWidth:o}){const i=t.floating,a=Math.round(r.reference.width),s=Math.round(r.reference.height);o=Math.floor(o),n=Math.floor(n),i.style.setProperty("--reference-width",`${a}px`),i.style.setProperty("--reference-height",`${s}px`),i.style.setProperty("--available-width",`${o}px`),i.style.setProperty("--available-height",`${n}px`)}})}function ie(e){if(e.hideWhenDetached)return C({strategy:"referenceHidden",boundary:O(e.boundary)??"clippingAncestors"})}function ae(e){return e?e===!0?{ancestorResize:!0,ancestorScroll:!0,elementResize:!0,layoutShift:!0}:e:{}}function se(e,t,r={}){const n=r.getAnchorElement?.()??e,o=q(n,r.getAnchorRect);if(!t||!o)return;const i=Object.assign({},F,r),a=t.querySelector("[data-part=arrow]"),s=[te(a,i),re(i),ne(i),ee(a,t.ownerDocument,i),Q(a),J({gutter:i.gutter,offset:i.offset,overlap:i.overlap},a),oe(i),ie(i),K],{placement:f,strategy:b,onComplete:A,onPositioned:u}=i,w=async()=>{if(!o||!t)return;const d=await I(o,t,{placement:f,middleware:s,strategy:b});A?.(d),u?.({placed:!0});const v=L(t),x=H(v,d.x),g=H(v,d.y);t.style.setProperty("--x",`${x}px`),t.style.setProperty("--y",`${g}px`),i.hideWhenDetached&&(d.middlewareData.hide?.referenceHidden?(t.style.setProperty("visibility","hidden"),t.style.setProperty("pointer-events","none")):(t.style.removeProperty("visibility"),t.style.removeProperty("pointer-events")));const l=t.firstElementChild;if(l){const P=N(l);t.style.setProperty("--z-index",P.zIndex)}},p=async()=>{r.updatePosition?(await r.updatePosition({updatePosition:w,floatingElement:t}),u?.({placed:!0})):await w()},h=ae(i.listeners),y=i.listeners?R(o,t,p,h):Y;return p(),()=>{y?.(),u?.({placed:!1})}}function ue(e,t,r={}){const{defer:n,...o}=r,i=n?U:s=>s(),a=[];return a.push(i(()=>{const s=typeof e=="function"?e():e,f=typeof t=="function"?t():t;a.push(se(s,f,o))})),()=>{a.forEach(s=>s?.())}}var ce={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function pe(e={}){const{placement:t,sameWidth:r,fitViewport:n,strategy:o="absolute"}=e;return{arrow:{position:"absolute",width:c.arrowSize.reference,height:c.arrowSize.reference,[c.arrowSizeHalf.variable]:`calc(${c.arrowSize.reference} / 2)`,[c.arrowOffset.variable]:`calc(${c.arrowSizeHalf.reference} * -1)`},arrowTip:{transform:t?ce[t.split("-")[0]]:void 0,background:c.arrowBg.reference,top:"0",left:"0",width:"100%",height:"100%",position:"absolute",zIndex:"inherit"},floating:{position:o,isolation:"isolate",minWidth:r?void 0:"max-content",width:r?"var(--reference-width)":void 0,maxWidth:n?"var(--available-width)":void 0,maxHeight:n?"var(--available-height)":void 0,pointerEvents:t?void 0:"none",top:"0px",left:"0px",transform:t?"translate3d(var(--x), var(--y), 0)":"translate3d(0, -100vh, 0)",zIndex:"var(--z-index)"}}}export{ue as a,de as b,pe as g};
