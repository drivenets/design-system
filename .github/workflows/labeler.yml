name: PR
on: ['pull_request']

# This allows a subsequently queued workflow run to interrupt previous runs
concurrency:
  group: '${{ github.workflow }} - Labeler @ ${{ github.head_ref || github.ref }}'
  cancel-in-progress: true

jobs:
  labeler:
    name: Labeler
    runs-on: ubuntu-latest

    permissions:
      contents: read
      pull-requests: write

    # Skip release PRs
    if: |
      ! (github.event.pull_request.title == 'chore(release): publish' && github.event.pull_request.user.login == 'github-actions[bot]')

    steps:
      - name: Label PRs
        uses: actions/labeler@v6
        with:
          configuration-path: .github/labeler-config.yml
          sync-labels: true
